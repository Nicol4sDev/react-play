import{r as Mu,i as Ls}from"./vendor__I-c42a2c93.js";import{c as Hl,h as r0}from"./index-2d91d905.js";import{_ as i0,a as Lr,b as Lu}from"./vendor_@_B-c79c7054.js";import{r as jl,d as Ko}from"./vendor__R-9f062eb0.js";import{_ as Kn,y as n0}from"./vendor__S-f3323845.js";function Pv(u){var n,s,o="";if(typeof u=="string"||typeof u=="number")o+=u;else if(typeof u=="object")if(Array.isArray(u))for(n=0;n<u.length;n++)u[n]&&(s=Pv(u[n]))&&(o&&(o+=" "),o+=s);else for(n in u)u[n]&&(o&&(o+=" "),o+=n);return o}function kA(){for(var u,n,s=0,o="";s<arguments.length;)(u=arguments[s++])&&(n=Pv(u))&&(o&&(o+=" "),o+=n);return o}var a0={},Is={};(function(u){Object.defineProperty(u,"__esModule",{value:!0});var n=Mu,s=o(n);function o(m){return m&&m.__esModule?m:{default:m}}var f="",c="";if(s.default){var v={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},y=document.createElement("p").style,b="Transform";for(var T in v)if(T+b in y){f=T,c=v[T];break}}u.default={js:f,css:c}})(Is);var Ev={},Av={};(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=s;var n=/[-\s]+(.)?/g;function s(f){return f.replace(n,o)}function o(f,c){return c?c.toUpperCase():""}})(Av);(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=w;var n=Mu,s=y(n),o=Is,f=y(o),c=Av,v=y(c);function y(C){return C&&C.__esModule?C:{default:C}}var b=void 0,T={};if(s.default){b=document.createElement("p");var m=window.getComputedStyle(document.documentElement,"");for(var p in m)isNaN(p)||(T[m[p]]=m[p])}function w(C){return b?(T[C]!=null||((0,v.default)(C)in b.style?T[C]=C:f.default.js+(0,v.default)("-"+C)in b.style?T[C]=f.default.css+C:T[C]=!1),T[C]):C}})(Ev);var Mv={};(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=b;var n=Mu,s=c(n),o=Is,f=c(o);function c(T){return T&&T.__esModule?T:{default:T}}var v={},y=void 0;s.default&&(y=document.createElement("p"));function b(T,m){if(!y||typeof m!="string"||!isNaN(parseInt(m,10)))return m;var p=T+m;if(v[p]!=null)return v[p];try{y.style[T]=m}catch{return v[p]=!1,!1}return y.style[T]!==""?v[p]=m:(m=f.default.css+m,m==="-ms-flex"&&(m="-ms-flexbox"),y.style[T]=m,y.style[T]!==""&&(v[p]=m)),v[p]||(v[p]=!1),y.style[T]="",v[p]}})(Mv);(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.supportedValue=u.supportedProperty=u.prefix=void 0;var n=Is,s=y(n),o=Ev,f=y(o),c=Mv,v=y(c);function y(b){return b&&b.__esModule?b:{default:b}}u.default={prefix:s.default,supportedProperty:f.default,supportedValue:v.default};/**
 * CSS Vendor prefix detection and property feature testing.
 *
 * @copyright Oleg Slobodskoi 2015
 * @website https://github.com/jsstyles/css-vendor
 * @license MIT
 */u.prefix=s.default,u.supportedProperty=f.default,u.supportedValue=v.default})(a0);var Ul={},s0={get exports(){return Ul},set exports(u){Ul=u}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(u){(function(){var n={}.hasOwnProperty;function s(){for(var o=[],f=0;f<arguments.length;f++){var c=arguments[f];if(c){var v=typeof c;if(v==="string"||v==="number")o.push(c);else if(Array.isArray(c)){if(c.length){var y=s.apply(null,c);y&&o.push(y)}}else if(v==="object"){if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]")){o.push(c.toString());continue}for(var b in c)n.call(c,b)&&c[b]&&o.push(b)}}}return o.join(" ")}u.exports?(s.default=s,u.exports=s):window.classNames=s})()})(s0);const TA=Ul;var Ss={},o0={get exports(){return Ss},set exports(u){Ss=u}},Cc;function ln(){return Cc||(Cc=1,function(u,n){(function(s,o){u.exports=o()})(Hl,function(){var s=navigator.userAgent,o=navigator.platform,f=/gecko\/\d/i.test(s),c=/MSIE \d/.test(s),v=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(s),y=/Edge\/(\d+)/.exec(s),b=c||v||y,T=b&&(c?document.documentMode||6:+(y||v)[1]),m=!y&&/WebKit\//.test(s),p=m&&/Qt\/\d+\.\d+/.test(s),w=!y&&/Chrome\/(\d+)/.exec(s),C=w&&+w[1],I=/Opera\//.test(s),F=/Apple Computer/.test(navigator.vendor),_=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(s),L=/PhantomJS/.test(s),P=F&&(/Mobile\/\w+/.test(s)||navigator.maxTouchPoints>2),D=/Android/.test(s),j=P||D||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(s),U=P||/Mac/.test(o),te=/\bCrOS\b/.test(s),re=/win/i.test(o),ie=I&&s.match(/Version\/(\d*\.\d*)/);ie&&(ie=Number(ie[1])),ie&&ie>=15&&(I=!1,m=!0);var he=U&&(p||I&&(ie==null||ie<12.11)),le=f||b&&T>=9;function ae(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var be=function(e,t){var i=e.className,r=ae(t).exec(i);if(r){var a=i.slice(r.index+r[0].length);e.className=i.slice(0,r.index)+(a?r[1]+a:"")}};function H(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function X(e,t){return H(e).appendChild(t)}function k(e,t,i,r){var a=document.createElement(e);if(i&&(a.className=i),r&&(a.style.cssText=r),typeof t=="string")a.appendChild(document.createTextNode(t));else if(t)for(var l=0;l<t.length;++l)a.appendChild(t[l]);return a}function Y(e,t,i,r){var a=k(e,t,i,r);return a.setAttribute("role","presentation"),a}var G;document.createRange?G=function(e,t,i,r){var a=document.createRange();return a.setEnd(r||e,i),a.setStart(e,t),a}:G=function(e,t,i){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch{return r}return r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",t),r};function se(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function Te(e){var t;try{t=e.activeElement}catch{t=e.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function Me(e,t){var i=e.className;ae(t).test(i)||(e.className+=(i?" ":"")+t)}function Qe(e,t){for(var i=e.split(" "),r=0;r<i.length;r++)i[r]&&!ae(i[r]).test(t)&&(t+=" "+i[r]);return t}var mr=function(e){e.select()};P?mr=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:b&&(mr=function(e){try{e.select()}catch{}});function Ke(e){return e.display.wrapper.ownerDocument}function jt(e){return Ke(e).defaultView}function qe(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function ve(e,t,i){t||(t={});for(var r in e)e.hasOwnProperty(r)&&(i!==!1||!t.hasOwnProperty(r))&&(t[r]=e[r]);return t}function ue(e,t,i,r,a){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var l=r||0,h=a||0;;){var d=e.indexOf("	",l);if(d<0||d>=t)return h+(t-l);h+=d-l,h+=i-h%i,l=d+1}}var me=function(){this.id=null,this.f=null,this.time=0,this.handler=qe(this.onTimeout,this)};me.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},me.prototype.set=function(e,t){this.f=t;var i=+new Date+e;(!this.id||i<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=i)};function ke(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}var Oe=50,ye={toString:function(){return"CodeMirror.Pass"}},Be={scroll:!1},rr={origin:"*mouse"},ir={origin:"+move"};function Bt(e,t,i){for(var r=0,a=0;;){var l=e.indexOf("	",r);l==-1&&(l=e.length);var h=l-r;if(l==e.length||a+h>=t)return r+Math.min(h,t-a);if(a+=l-r,a+=i-a%i,r=l+1,a>=t)return r}}var Le=[""];function Je(e){for(;Le.length<=e;)Le.push(we(Le)+" ");return Le[e]}function we(e){return e[e.length-1]}function $t(e,t){for(var i=[],r=0;r<e.length;r++)i[r]=t(e[r],r);return i}function Jr(e,t,i){for(var r=0,a=i(t);r<e.length&&i(e[r])<=a;)r++;e.splice(r,0,t)}function Fe(){}function R(e,t){var i;return Object.create?i=Object.create(e):(Fe.prototype=e,i=new Fe),t&&ve(t,i),i}var q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function W(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||q.test(e))}function Pe(e,t){return t?t.source.indexOf("\\w")>-1&&W(e)?!0:t.test(e):W(e)}function xt(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var Oi=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function vn(e){return e.charCodeAt(0)>=768&&Oi.test(e)}function nr(e,t,i){for(;(i<0?t>0:t<e.length)&&vn(e.charAt(t));)t+=i;return t}function je(e,t,i){for(var r=t>i?-1:1;;){if(t==i)return t;var a=(t+i)/2,l=r<0?Math.ceil(a):Math.floor(a);if(l==t)return e(l)?t:i;e(l)?i=l:t=l+r}}function ei(e,t,i,r){if(!e)return r(t,i,"ltr",0);for(var a=!1,l=0;l<e.length;++l){var h=e[l];(h.from<i&&h.to>t||t==i&&h.to==t)&&(r(Math.max(h.from,t),Math.min(h.to,i),h.level==1?"rtl":"ltr",l),a=!0)}a||r(t,i,"ltr")}var ar=null;function Ut(e,t,i){var r;ar=null;for(var a=0;a<e.length;++a){var l=e[a];if(l.from<t&&l.to>t)return a;l.to==t&&(l.from!=l.to&&i=="before"?r=a:ar=a),l.from==t&&(l.from!=l.to&&i!="before"?r=a:ar=a)}return r??ar}var Zs=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function i(x){return x<=247?e.charAt(x):1424<=x&&x<=1524?"R":1536<=x&&x<=1785?t.charAt(x-1536):1774<=x&&x<=2220?"r":8192<=x&&x<=8203?"w":x==8204?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,l=/[LRr]/,h=/[Lb1n]/,d=/[1n]/;function g(x,O,E){this.level=x,this.from=O,this.to=E}return function(x,O){var E=O=="ltr"?"L":"R";if(x.length==0||O=="ltr"&&!r.test(x))return!1;for(var $=x.length,N=[],z=0;z<$;++z)N.push(i(x.charCodeAt(z)));for(var V=0,K=E;V<$;++V){var Z=N[V];Z=="m"?N[V]=K:K=Z}for(var ee=0,Q=E;ee<$;++ee){var ne=N[ee];ne=="1"&&Q=="r"?N[ee]="n":l.test(ne)&&(Q=ne,ne=="r"&&(N[ee]="R"))}for(var ce=1,fe=N[0];ce<$-1;++ce){var Se=N[ce];Se=="+"&&fe=="1"&&N[ce+1]=="1"?N[ce]="1":Se==","&&fe==N[ce+1]&&(fe=="1"||fe=="n")&&(N[ce]=fe),fe=Se}for(var De=0;De<$;++De){var ft=N[De];if(ft==",")N[De]="N";else if(ft=="%"){var He=void 0;for(He=De+1;He<$&&N[He]=="%";++He);for(var Ft=De&&N[De-1]=="!"||He<$&&N[He]=="1"?"1":"N",Mt=De;Mt<He;++Mt)N[Mt]=Ft;De=He-1}}for(var et=0,Lt=E;et<$;++et){var ct=N[et];Lt=="L"&&ct=="1"?N[et]="L":l.test(ct)&&(Lt=ct)}for(var at=0;at<$;++at)if(a.test(N[at])){var tt=void 0;for(tt=at+1;tt<$&&a.test(N[tt]);++tt);for(var Ge=(at?N[at-1]:E)=="L",It=(tt<$?N[tt]:E)=="L",Ki=Ge==It?Ge?"L":"R":E,Kr=at;Kr<tt;++Kr)N[Kr]=Ki;at=tt-1}for(var mt=[],cr,ht=0;ht<$;)if(h.test(N[ht])){var Vo=ht;for(++ht;ht<$&&h.test(N[ht]);++ht);mt.push(new g(0,Vo,ht))}else{var Er=ht,fi=mt.length,hi=O=="rtl"?1:0;for(++ht;ht<$&&N[ht]!="L";++ht);for(var kt=Er;kt<ht;)if(d.test(N[kt])){Er<kt&&(mt.splice(fi,0,new g(1,Er,kt)),fi+=hi);var qi=kt;for(++kt;kt<ht&&d.test(N[kt]);++kt);mt.splice(fi,0,new g(2,qi,kt)),fi+=hi,Er=kt}else++kt;Er<ht&&mt.splice(fi,0,new g(1,Er,ht))}return O=="ltr"&&(mt[0].level==1&&(cr=x.match(/^\s+/))&&(mt[0].from=cr[0].length,mt.unshift(new g(0,0,cr[0].length))),we(mt).level==1&&(cr=x.match(/\s+$/))&&(we(mt).to-=cr[0].length,mt.push(new g(0,$-cr[0].length,$)))),O=="rtl"?mt.reverse():mt}}();function Vt(e,t){var i=e.order;return i==null&&(i=e.order=Zs(e.text,t)),i}var ma=[],J=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||ma).concat(i)}};function gn(e,t){return e._handlers&&e._handlers[t]||ma}function gt(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var r=e._handlers,a=r&&r[t];if(a){var l=ke(a,i);l>-1&&(r[t]=a.slice(0,l).concat(a.slice(l+1)))}}}function _e(e,t){var i=gn(e,t);if(i.length)for(var r=Array.prototype.slice.call(arguments,2),a=0;a<i.length;++a)i[a].apply(null,r)}function Ue(e,t,i){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),_e(e,i||t.type,e,t),pn(t)||t.codemirrorIgnore}function ba(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)ke(i,t[r])==-1&&i.push(t[r])}function wt(e,t){return gn(e,t).length>0}function St(e){e.prototype.on=function(t,i){J(this,t,i)},e.prototype.off=function(t,i){gt(this,t,i)}}function pt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ti(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function pn(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}function br(e){pt(e),ti(e)}function Pt(e){return e.target||e.srcElement}function yn(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),U&&e.ctrlKey&&t==1&&(t=3),t}var Qs=function(){if(b&&T<9)return!1;var e=k("div");return"draggable"in e||"dragDrop"in e}(),Gt;function Js(e){if(Gt==null){var t=k("span","​");X(e,k("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(Gt=t.offsetWidth<=1&&t.offsetHeight>2&&!(b&&T<8))}var i=Gt?k("span","​"):k("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}var Pi;function xa(e){if(Pi!=null)return Pi;var t=X(e,document.createTextNode("AخA")),i=G(t,0,1).getBoundingClientRect(),r=G(t,1,2).getBoundingClientRect();return H(e),!i||i.left==i.right?!1:Pi=r.right-i.right<3}var mn=`

b`.split(/\n/).length!=3?function(e){for(var t=0,i=[],r=e.length;t<=r;){var a=e.indexOf(`
`,t);a==-1&&(a=e.length);var l=e.slice(t,e.charAt(a-1)=="\r"?a-1:a),h=l.indexOf("\r");h!=-1?(i.push(l.slice(0,h)),t+=h+1):(i.push(l),t=a+1)}return i}:function(e){return e.split(/\r\n?|\n/)},Rr=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch{}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},sr=function(){var e=k("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),or=null;function wa(e){if(or!=null)return or;var t=X(e,k("span","x")),i=t.getBoundingClientRect(),r=G(t,0,1).getBoundingClientRect();return or=Math.abs(i.left-r.left)>1}var Yt={},Dr={};function Sa(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Yt[e]=t}function Ei(e,t){Dr[e]=t}function Rt(e){if(typeof e=="string"&&Dr.hasOwnProperty(e))e=Dr[e];else if(e&&typeof e.name=="string"&&Dr.hasOwnProperty(e.name)){var t=Dr[e.name];typeof t=="string"&&(t={name:t}),e=R(t,e),e.name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Rt("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Rt("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function xr(e,t){t=Rt(t);var i=Yt[t.name];if(!i)return xr(e,"text/plain");var r=i(e,t);if(Fr.hasOwnProperty(t.name)){var a=Fr[t.name];for(var l in a)a.hasOwnProperty(l)&&(r.hasOwnProperty(l)&&(r["_"+l]=r[l]),r[l]=a[l])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var h in t.modeProps)r[h]=t.modeProps[h];return r}var Fr={};function Ca(e,t){var i=Fr.hasOwnProperty(e)?Fr[e]:Fr[e]={};ve(t,i)}function wr(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var i={};for(var r in t){var a=t[r];a instanceof Array&&(a=a.concat([])),i[r]=a}return i}function _r(e,t){for(var i;e.innerMode&&(i=e.innerMode(t),!(!i||i.mode==e));)t=i.state,e=i.mode;return i||{mode:e,state:t}}function bn(e,t,i){return e.startState?e.startState(t,i):!0}var Ve=function(e,t,i){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};Ve.prototype.eol=function(){return this.pos>=this.string.length},Ve.prototype.sol=function(){return this.pos==this.lineStart},Ve.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ve.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ve.prototype.eat=function(e){var t=this.string.charAt(this.pos),i;if(typeof e=="string"?i=t==e:i=t&&(e.test?e.test(t):e(t)),i)return++this.pos,t},Ve.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ve.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ve.prototype.skipToEnd=function(){this.pos=this.string.length},Ve.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ve.prototype.backUp=function(e){this.pos-=e},Ve.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ue(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ue(this.string,this.lineStart,this.tabSize):0)},Ve.prototype.indentation=function(){return ue(this.string,null,this.tabSize)-(this.lineStart?ue(this.string,this.lineStart,this.tabSize):0)},Ve.prototype.match=function(e,t,i){if(typeof e=="string"){var r=function(h){return i?h.toLowerCase():h},a=this.string.substr(this.pos,e.length);if(r(a)==r(e))return t!==!1&&(this.pos+=e.length),!0}else{var l=this.string.slice(this.pos).match(e);return l&&l.index>0?null:(l&&t!==!1&&(this.pos+=l[0].length),l)}},Ve.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ve.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ve.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ve.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};function oe(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var r=0;;++r){var a=i.children[r],l=a.chunkSize();if(t<l){i=a;break}t-=l}return i.lines[t]}function Sr(e,t,i){var r=[],a=t.line;return e.iter(t.line,i.line+1,function(l){var h=l.text;a==i.line&&(h=h.slice(0,i.ch)),a==t.line&&(h=h.slice(t.ch)),r.push(h),++a}),r}function Ai(e,t,i){var r=[];return e.iter(t,i,function(a){r.push(a.text)}),r}function Kt(e,t){var i=t-e.height;if(i)for(var r=e;r;r=r.parent)r.height+=i}function Ie(e){if(e.parent==null)return null;for(var t=e.parent,i=ke(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var a=0;r.children[a]!=t;++a)i+=r.children[a].chunkSize();return i+t.first}function lr(e,t){var i=e.first;e:do{for(var r=0;r<e.children.length;++r){var a=e.children[r],l=a.height;if(t<l){e=a;continue e}t-=l,i+=a.chunkSize()}return i}while(!e.lines);for(var h=0;h<e.lines.length;++h){var d=e.lines[h],g=d.height;if(t<g)break;t-=g}return i+h}function S(e,t){return t>=e.first&&t<e.first+e.size}function A(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function M(e,t,i){if(i===void 0&&(i=null),!(this instanceof M))return new M(e,t,i);this.line=e,this.ch=t,this.sticky=i}function B(e,t){return e.line-t.line||e.ch-t.ch}function ge(e,t){return e.sticky==t.sticky&&B(e,t)==0}function Ee(e){return M(e.line,e.ch)}function Ae(e,t){return B(e,t)<0?t:e}function nt(e,t){return B(e,t)<0?e:t}function zt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function pe(e,t){if(t.line<e.first)return M(e.first,0);var i=e.first+e.size-1;return t.line>i?M(i,oe(e,i).text.length):iy(t,oe(e,t.line).text.length)}function iy(e,t){var i=e.ch;return i==null||i>t?M(e.line,t):i<0?M(e.line,0):e}function kf(e,t){for(var i=[],r=0;r<t.length;r++)i[r]=pe(e,t[r]);return i}var ka=function(e,t){this.state=e,this.lookAhead=t},ur=function(e,t,i,r){this.state=t,this.doc=e,this.line=i,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};ur.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ur.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ur.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ur.fromSaved=function(e,t,i){return t instanceof ka?new ur(e,wr(e.mode,t.state),i,t.lookAhead):new ur(e,wr(e.mode,t),i)},ur.prototype.save=function(e){var t=e!==!1?wr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ka(t,this.maxLookAhead):t};function Tf(e,t,i,r){var a=[e.state.modeGen],l={};Lf(e,t.text,e.doc.mode,i,function(x,O){return a.push(x,O)},l,r);for(var h=i.state,d=function(x){i.baseTokens=a;var O=e.state.overlays[x],E=1,$=0;i.state=!0,Lf(e,t.text,O.mode,i,function(N,z){for(var V=E;$<N;){var K=a[E];K>N&&a.splice(E,1,N,a[E+1],K),E+=2,$=Math.min(N,K)}if(z)if(O.opaque)a.splice(V,E-V,N,"overlay "+z),E=V+2;else for(;V<E;V+=2){var Z=a[V+1];a[V+1]=(Z?Z+" ":"")+"overlay "+z}},l),i.state=h,i.baseTokens=null,i.baseTokenPos=1},g=0;g<e.state.overlays.length;++g)d(g);return{styles:a,classes:l.bgClass||l.textClass?l:null}}function Of(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=xn(e,Ie(t)),a=t.text.length>e.options.maxHighlightLength&&wr(e.doc.mode,r.state),l=Tf(e,t,r);a&&(r.state=a),t.stateAfter=r.save(!a),t.styles=l.styles,l.classes?t.styleClasses=l.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function xn(e,t,i){var r=e.doc,a=e.display;if(!r.mode.startState)return new ur(r,!0,t);var l=ny(e,t,i),h=l>r.first&&oe(r,l-1).stateAfter,d=h?ur.fromSaved(r,h,l):new ur(r,bn(r.mode),l);return r.iter(l,t,function(g){eo(e,g.text,d);var x=d.line;g.stateAfter=x==t-1||x%5==0||x>=a.viewFrom&&x<a.viewTo?d.save():null,d.nextLine()}),i&&(r.modeFrontier=d.line),d}function eo(e,t,i,r){var a=e.doc.mode,l=new Ve(t,e.options.tabSize,i);for(l.start=l.pos=r||0,t==""&&Pf(a,i.state);!l.eol();)to(a,l,i.state),l.start=l.pos}function Pf(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var i=_r(e,t);if(i.mode.blankLine)return i.mode.blankLine(i.state)}}function to(e,t,i,r){for(var a=0;a<10;a++){r&&(r[0]=_r(e,i).mode);var l=e.token(t,i);if(t.pos>t.start)return l}throw new Error("Mode "+e.name+" failed to advance stream.")}var Ef=function(e,t,i){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=i};function Af(e,t,i,r){var a=e.doc,l=a.mode,h;t=pe(a,t);var d=oe(a,t.line),g=xn(e,t.line,i),x=new Ve(d.text,e.options.tabSize,g),O;for(r&&(O=[]);(r||x.pos<t.ch)&&!x.eol();)x.start=x.pos,h=to(l,x,g.state),r&&O.push(new Ef(x,h,wr(a.mode,g.state)));return r?O:new Ef(x,h,g.state)}function Mf(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var r=i[1]?"bgClass":"textClass";t[r]==null?t[r]=i[2]:new RegExp("(?:^|\\s)"+i[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+i[2])}return e}function Lf(e,t,i,r,a,l,h){var d=i.flattenSpans;d==null&&(d=e.options.flattenSpans);var g=0,x=null,O=new Ve(t,e.options.tabSize,r),E,$=e.options.addModeClass&&[null];for(t==""&&Mf(Pf(i,r.state),l);!O.eol();){if(O.pos>e.options.maxHighlightLength?(d=!1,h&&eo(e,t,r,O.pos),O.pos=t.length,E=null):E=Mf(to(i,O,r.state,$),l),$){var N=$[0].name;N&&(E="m-"+(E?N+" "+E:N))}if(!d||x!=E){for(;g<O.start;)g=Math.min(O.start,g+5e3),a(g,x);x=E}O.start=O.pos}for(;g<O.pos;){var z=Math.min(O.pos,g+5e3);a(z,x),g=z}}function ny(e,t,i){for(var r,a,l=e.doc,h=i?-1:t-(e.doc.mode.innerMode?1e3:100),d=t;d>h;--d){if(d<=l.first)return l.first;var g=oe(l,d-1),x=g.stateAfter;if(x&&(!i||d+(x instanceof ka?x.lookAhead:0)<=l.modeFrontier))return d;var O=ue(g.text,null,e.options.tabSize);(a==null||r>O)&&(a=d-1,r=O)}return a}function ay(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var i=e.first,r=t-1;r>i;r--){var a=oe(e,r).stateAfter;if(a&&(!(a instanceof ka)||r+a.lookAhead<t)){i=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,i)}}var If=!1,Cr=!1;function sy(){If=!0}function oy(){Cr=!0}function Ta(e,t,i){this.marker=e,this.from=t,this.to=i}function wn(e,t){if(e)for(var i=0;i<e.length;++i){var r=e[i];if(r.marker==t)return r}}function ly(e,t){for(var i,r=0;r<e.length;++r)e[r]!=t&&(i||(i=[])).push(e[r]);return i}function uy(e,t,i){var r=i&&window.WeakSet&&(i.markedSpans||(i.markedSpans=new WeakSet));r&&e.markedSpans&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function fy(e,t,i){var r;if(e)for(var a=0;a<e.length;++a){var l=e[a],h=l.marker,d=l.from==null||(h.inclusiveLeft?l.from<=t:l.from<t);if(d||l.from==t&&h.type=="bookmark"&&(!i||!l.marker.insertLeft)){var g=l.to==null||(h.inclusiveRight?l.to>=t:l.to>t);(r||(r=[])).push(new Ta(h,l.from,g?null:l.to))}}return r}function hy(e,t,i){var r;if(e)for(var a=0;a<e.length;++a){var l=e[a],h=l.marker,d=l.to==null||(h.inclusiveRight?l.to>=t:l.to>t);if(d||l.from==t&&h.type=="bookmark"&&(!i||l.marker.insertLeft)){var g=l.from==null||(h.inclusiveLeft?l.from<=t:l.from<t);(r||(r=[])).push(new Ta(h,g?null:l.from-t,l.to==null?null:l.to-t))}}return r}function ro(e,t){if(t.full)return null;var i=S(e,t.from.line)&&oe(e,t.from.line).markedSpans,r=S(e,t.to.line)&&oe(e,t.to.line).markedSpans;if(!i&&!r)return null;var a=t.from.ch,l=t.to.ch,h=B(t.from,t.to)==0,d=fy(i,a,h),g=hy(r,l,h),x=t.text.length==1,O=we(t.text).length+(x?a:0);if(d)for(var E=0;E<d.length;++E){var $=d[E];if($.to==null){var N=wn(g,$.marker);N?x&&($.to=N.to==null?null:N.to+O):$.to=a}}if(g)for(var z=0;z<g.length;++z){var V=g[z];if(V.to!=null&&(V.to+=O),V.from==null){var K=wn(d,V.marker);K||(V.from=O,x&&(d||(d=[])).push(V))}else V.from+=O,x&&(d||(d=[])).push(V)}d&&(d=Nf(d)),g&&g!=d&&(g=Nf(g));var Z=[d];if(!x){var ee=t.text.length-2,Q;if(ee>0&&d)for(var ne=0;ne<d.length;++ne)d[ne].to==null&&(Q||(Q=[])).push(new Ta(d[ne].marker,null,null));for(var ce=0;ce<ee;++ce)Z.push(Q);Z.push(g)}return Z}function Nf(e){for(var t=0;t<e.length;++t){var i=e[t];i.from!=null&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function cy(e,t,i){var r=null;if(e.iter(t.line,i.line+1,function(N){if(N.markedSpans)for(var z=0;z<N.markedSpans.length;++z){var V=N.markedSpans[z].marker;V.readOnly&&(!r||ke(r,V)==-1)&&(r||(r=[])).push(V)}}),!r)return null;for(var a=[{from:t,to:i}],l=0;l<r.length;++l)for(var h=r[l],d=h.find(0),g=0;g<a.length;++g){var x=a[g];if(!(B(x.to,d.from)<0||B(x.from,d.to)>0)){var O=[g,1],E=B(x.from,d.from),$=B(x.to,d.to);(E<0||!h.inclusiveLeft&&!E)&&O.push({from:x.from,to:d.from}),($>0||!h.inclusiveRight&&!$)&&O.push({from:d.to,to:x.to}),a.splice.apply(a,O),g+=O.length-3}}return a}function $f(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function Rf(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function Oa(e){return e.inclusiveLeft?-1:0}function Pa(e){return e.inclusiveRight?1:0}function io(e,t){var i=e.lines.length-t.lines.length;if(i!=0)return i;var r=e.find(),a=t.find(),l=B(r.from,a.from)||Oa(e)-Oa(t);if(l)return-l;var h=B(r.to,a.to)||Pa(e)-Pa(t);return h||t.id-e.id}function Df(e,t){var i=Cr&&e.markedSpans,r;if(i)for(var a=void 0,l=0;l<i.length;++l)a=i[l],a.marker.collapsed&&(t?a.from:a.to)==null&&(!r||io(r,a.marker)<0)&&(r=a.marker);return r}function Ff(e){return Df(e,!0)}function Ea(e){return Df(e,!1)}function dy(e,t){var i=Cr&&e.markedSpans,r;if(i)for(var a=0;a<i.length;++a){var l=i[a];l.marker.collapsed&&(l.from==null||l.from<t)&&(l.to==null||l.to>t)&&(!r||io(r,l.marker)<0)&&(r=l.marker)}return r}function _f(e,t,i,r,a){var l=oe(e,t),h=Cr&&l.markedSpans;if(h)for(var d=0;d<h.length;++d){var g=h[d];if(g.marker.collapsed){var x=g.marker.find(0),O=B(x.from,i)||Oa(g.marker)-Oa(a),E=B(x.to,r)||Pa(g.marker)-Pa(a);if(!(O>=0&&E<=0||O<=0&&E>=0)&&(O<=0&&(g.marker.inclusiveRight&&a.inclusiveLeft?B(x.to,i)>=0:B(x.to,i)>0)||O>=0&&(g.marker.inclusiveRight&&a.inclusiveLeft?B(x.from,r)<=0:B(x.from,r)<0)))return!0}}}function Xt(e){for(var t;t=Ff(e);)e=t.find(-1,!0).line;return e}function vy(e){for(var t;t=Ea(e);)e=t.find(1,!0).line;return e}function gy(e){for(var t,i;t=Ea(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}function no(e,t){var i=oe(e,t),r=Xt(i);return i==r?t:Ie(r)}function Bf(e,t){if(t>e.lastLine())return t;var i=oe(e,t),r;if(!Br(e,i))return t;for(;r=Ea(i);)i=r.find(1,!0).line;return Ie(i)+1}function Br(e,t){var i=Cr&&t.markedSpans;if(i){for(var r=void 0,a=0;a<i.length;++a)if(r=i[a],!!r.marker.collapsed){if(r.from==null)return!0;if(!r.marker.widgetNode&&r.from==0&&r.marker.inclusiveLeft&&ao(e,t,r))return!0}}}function ao(e,t,i){if(i.to==null){var r=i.marker.find(1,!0);return ao(e,r.line,wn(r.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var a=void 0,l=0;l<t.markedSpans.length;++l)if(a=t.markedSpans[l],a.marker.collapsed&&!a.marker.widgetNode&&a.from==i.to&&(a.to==null||a.to!=i.from)&&(a.marker.inclusiveLeft||i.marker.inclusiveRight)&&ao(e,t,a))return!0}function kr(e){e=Xt(e);for(var t=0,i=e.parent,r=0;r<i.lines.length;++r){var a=i.lines[r];if(a==e)break;t+=a.height}for(var l=i.parent;l;i=l,l=i.parent)for(var h=0;h<l.children.length;++h){var d=l.children[h];if(d==i)break;t+=d.height}return t}function Aa(e){if(e.height==0)return 0;for(var t=e.text.length,i,r=e;i=Ff(r);){var a=i.find(0,!0);r=a.from.line,t+=a.from.ch-a.to.ch}for(r=e;i=Ea(r);){var l=i.find(0,!0);t-=r.text.length-l.from.ch,r=l.to.line,t+=r.text.length-l.to.ch}return t}function so(e){var t=e.display,i=e.doc;t.maxLine=oe(i,i.first),t.maxLineLength=Aa(t.maxLine),t.maxLineChanged=!0,i.iter(function(r){var a=Aa(r);a>t.maxLineLength&&(t.maxLineLength=a,t.maxLine=r)})}var Mi=function(e,t,i){this.text=e,Rf(this,t),this.height=i?i(this):1};Mi.prototype.lineNo=function(){return Ie(this)},St(Mi);function py(e,t,i,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),$f(e),Rf(e,i);var a=r?r(e):1;a!=e.height&&Kt(e,a)}function yy(e){e.parent=null,$f(e)}var my={},by={};function zf(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?by:my;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function Wf(e,t){var i=Y("span",null,null,m?"padding-right: .1px":null),r={pre:Y("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var a=0;a<=(t.rest?t.rest.length:0);a++){var l=a?t.rest[a-1]:t.line,h=void 0;r.pos=0,r.addToken=wy,xa(e.display.measure)&&(h=Vt(l,e.doc.direction))&&(r.addToken=Cy(r.addToken,h)),r.map=[];var d=t!=e.display.externalMeasured&&Ie(l);ky(l,r,Of(e,l,d)),l.styleClasses&&(l.styleClasses.bgClass&&(r.bgClass=Qe(l.styleClasses.bgClass,r.bgClass||"")),l.styleClasses.textClass&&(r.textClass=Qe(l.styleClasses.textClass,r.textClass||""))),r.map.length==0&&r.map.push(0,0,r.content.appendChild(Js(e.display.measure))),a==0?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(m){var g=r.content.lastChild;(/\bcm-tab\b/.test(g.className)||g.querySelector&&g.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return _e(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Qe(r.pre.className,r.textClass||"")),r}function xy(e){var t=k("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function wy(e,t,i,r,a,l,h){if(t){var d=e.splitSpaces?Sy(t,e.trailingSpace):t,g=e.cm.state.specialChars,x=!1,O;if(!g.test(t))e.col+=t.length,O=document.createTextNode(d),e.map.push(e.pos,e.pos+t.length,O),b&&T<9&&(x=!0),e.pos+=t.length;else{O=document.createDocumentFragment();for(var E=0;;){g.lastIndex=E;var $=g.exec(t),N=$?$.index-E:t.length-E;if(N){var z=document.createTextNode(d.slice(E,E+N));b&&T<9?O.appendChild(k("span",[z])):O.appendChild(z),e.map.push(e.pos,e.pos+N,z),e.col+=N,e.pos+=N}if(!$)break;E+=N+1;var V=void 0;if($[0]=="	"){var K=e.cm.options.tabSize,Z=K-e.col%K;V=O.appendChild(k("span",Je(Z),"cm-tab")),V.setAttribute("role","presentation"),V.setAttribute("cm-text","	"),e.col+=Z}else $[0]=="\r"||$[0]==`
`?(V=O.appendChild(k("span",$[0]=="\r"?"␍":"␤","cm-invalidchar")),V.setAttribute("cm-text",$[0]),e.col+=1):(V=e.cm.options.specialCharPlaceholder($[0]),V.setAttribute("cm-text",$[0]),b&&T<9?O.appendChild(k("span",[V])):O.appendChild(V),e.col+=1);e.map.push(e.pos,e.pos+1,V),e.pos++}}if(e.trailingSpace=d.charCodeAt(t.length-1)==32,i||r||a||x||l||h){var ee=i||"";r&&(ee+=r),a&&(ee+=a);var Q=k("span",[O],ee,l);if(h)for(var ne in h)h.hasOwnProperty(ne)&&ne!="style"&&ne!="class"&&Q.setAttribute(ne,h[ne]);return e.content.appendChild(Q)}e.content.appendChild(O)}}function Sy(e,t){if(e.length>1&&!/  /.test(e))return e;for(var i=t,r="",a=0;a<e.length;a++){var l=e.charAt(a);l==" "&&i&&(a==e.length-1||e.charCodeAt(a+1)==32)&&(l=" "),r+=l,i=l==" "}return r}function Cy(e,t){return function(i,r,a,l,h,d,g){a=a?a+" cm-force-border":"cm-force-border";for(var x=i.pos,O=x+r.length;;){for(var E=void 0,$=0;$<t.length&&(E=t[$],!(E.to>x&&E.from<=x));$++);if(E.to>=O)return e(i,r,a,l,h,d,g);e(i,r.slice(0,E.to-x),a,l,null,d,g),l=null,r=r.slice(E.to-x),x=E.to}}}function Hf(e,t,i,r){var a=!r&&i.widgetNode;a&&e.map.push(e.pos,e.pos+t,a),!r&&e.cm.display.input.needsContentAttribute&&(a||(a=e.content.appendChild(document.createElement("span"))),a.setAttribute("cm-marker",i.id)),a&&(e.cm.display.input.setUneditable(a),e.content.appendChild(a)),e.pos+=t,e.trailingSpace=!1}function ky(e,t,i){var r=e.markedSpans,a=e.text,l=0;if(!r){for(var h=1;h<i.length;h+=2)t.addToken(t,a.slice(l,l=i[h]),zf(i[h+1],t.cm.options));return}for(var d=a.length,g=0,x=1,O="",E,$,N=0,z,V,K,Z,ee;;){if(N==g){z=V=K=$="",ee=null,Z=null,N=1/0;for(var Q=[],ne=void 0,ce=0;ce<r.length;++ce){var fe=r[ce],Se=fe.marker;if(Se.type=="bookmark"&&fe.from==g&&Se.widgetNode)Q.push(Se);else if(fe.from<=g&&(fe.to==null||fe.to>g||Se.collapsed&&fe.to==g&&fe.from==g)){if(fe.to!=null&&fe.to!=g&&N>fe.to&&(N=fe.to,V=""),Se.className&&(z+=" "+Se.className),Se.css&&($=($?$+";":"")+Se.css),Se.startStyle&&fe.from==g&&(K+=" "+Se.startStyle),Se.endStyle&&fe.to==N&&(ne||(ne=[])).push(Se.endStyle,fe.to),Se.title&&((ee||(ee={})).title=Se.title),Se.attributes)for(var De in Se.attributes)(ee||(ee={}))[De]=Se.attributes[De];Se.collapsed&&(!Z||io(Z.marker,Se)<0)&&(Z=fe)}else fe.from>g&&N>fe.from&&(N=fe.from)}if(ne)for(var ft=0;ft<ne.length;ft+=2)ne[ft+1]==N&&(V+=" "+ne[ft]);if(!Z||Z.from==g)for(var He=0;He<Q.length;++He)Hf(t,0,Q[He]);if(Z&&(Z.from||0)==g){if(Hf(t,(Z.to==null?d+1:Z.to)-g,Z.marker,Z.from==null),Z.to==null)return;Z.to==g&&(Z=!1)}}if(g>=d)break;for(var Ft=Math.min(d,N);;){if(O){var Mt=g+O.length;if(!Z){var et=Mt>Ft?O.slice(0,Ft-g):O;t.addToken(t,et,E?E+z:z,K,g+et.length==N?V:"",$,ee)}if(Mt>=Ft){O=O.slice(Ft-g),g=Ft;break}g=Mt,K=""}O=a.slice(l,l=i[x++]),E=zf(i[x++],t.cm.options)}}}function jf(e,t,i){this.line=t,this.rest=gy(t),this.size=this.rest?Ie(we(this.rest))-i+1:1,this.node=this.text=null,this.hidden=Br(e,t)}function Ma(e,t,i){for(var r=[],a,l=t;l<i;l=a){var h=new jf(e.doc,oe(e.doc,l),l);a=l+h.size,r.push(h)}return r}var Li=null;function Ty(e){Li?Li.ops.push(e):e.ownsGroup=Li={ops:[e],delayedCallbacks:[]}}function Oy(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var r=0;r<e.ops.length;r++){var a=e.ops[r];if(a.cursorActivityHandlers)for(;a.cursorActivityCalled<a.cursorActivityHandlers.length;)a.cursorActivityHandlers[a.cursorActivityCalled++].call(null,a.cm)}}while(i<t.length)}function Py(e,t){var i=e.ownsGroup;if(i)try{Oy(i)}finally{Li=null,t(i)}}var Sn=null;function ot(e,t){var i=gn(e,t);if(i.length){var r=Array.prototype.slice.call(arguments,2),a;Li?a=Li.delayedCallbacks:Sn?a=Sn:(a=Sn=[],setTimeout(Ey,0));for(var l=function(d){a.push(function(){return i[d].apply(null,r)})},h=0;h<i.length;++h)l(h)}}function Ey(){var e=Sn;Sn=null;for(var t=0;t<e.length;++t)e[t]()}function Uf(e,t,i,r){for(var a=0;a<t.changes.length;a++){var l=t.changes[a];l=="text"?My(e,t):l=="gutter"?Gf(e,t,i,r):l=="class"?oo(e,t):l=="widget"&&Ly(e,t,r)}t.changes=null}function Cn(e){return e.node==e.text&&(e.node=k("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),b&&T<8&&(e.node.style.zIndex=2)),e.node}function Ay(e,t){var i=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),t.background)i?t.background.className=i:(t.background.parentNode.removeChild(t.background),t.background=null);else if(i){var r=Cn(t);t.background=r.insertBefore(k("div",null,i),r.firstChild),e.display.input.setUneditable(t.background)}}function Vf(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):Wf(e,t)}function My(e,t){var i=t.text.className,r=Vf(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,oo(e,t)):i&&(t.text.className=i)}function oo(e,t){Ay(e,t),t.line.wrapClass?Cn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var i=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=i||""}function Gf(e,t,i,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var a=Cn(t);t.gutterBackground=k("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),a.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var h=Cn(t),d=t.gutter=k("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(d.setAttribute("aria-hidden","true"),e.display.input.setUneditable(d),h.insertBefore(d,t.text),t.line.gutterClass&&(d.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!l||!l["CodeMirror-linenumbers"])&&(t.lineNumber=d.appendChild(k("div",A(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var g=0;g<e.display.gutterSpecs.length;++g){var x=e.display.gutterSpecs[g].className,O=l.hasOwnProperty(x)&&l[x];O&&d.appendChild(k("div",[O],"CodeMirror-gutter-elt","left: "+r.gutterLeft[x]+"px; width: "+r.gutterWidth[x]+"px"))}}}function Ly(e,t,i){t.alignable&&(t.alignable=null);for(var r=ae("CodeMirror-linewidget"),a=t.node.firstChild,l=void 0;a;a=l)l=a.nextSibling,r.test(a.className)&&t.node.removeChild(a);Kf(e,t,i)}function Iy(e,t,i,r){var a=Vf(e,t);return t.text=t.node=a.pre,a.bgClass&&(t.bgClass=a.bgClass),a.textClass&&(t.textClass=a.textClass),oo(e,t),Gf(e,t,i,r),Kf(e,t,r),t.node}function Kf(e,t,i){if(qf(e,t.line,t,i,!0),t.rest)for(var r=0;r<t.rest.length;r++)qf(e,t.rest[r],t,i,!1)}function qf(e,t,i,r,a){if(t.widgets)for(var l=Cn(i),h=0,d=t.widgets;h<d.length;++h){var g=d[h],x=k("div",[g.node],"CodeMirror-linewidget"+(g.className?" "+g.className:""));g.handleMouseEvents||x.setAttribute("cm-ignore-events","true"),Ny(g,x,i,r),e.display.input.setUneditable(x),a&&g.above?l.insertBefore(x,i.gutter||i.text):l.appendChild(x),ot(g,"redraw")}}function Ny(e,t,i,r){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var a=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(a-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=a+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function kn(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!se(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),X(t.display.measure,k("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Tr(e,t){for(var i=Pt(t);i!=e.wrapper;i=i.parentNode)if(!i||i.nodeType==1&&i.getAttribute("cm-ignore-events")=="true"||i.parentNode==e.sizer&&i!=e.mover)return!0}function La(e){return e.lineSpace.offsetTop}function lo(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Yf(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=X(e.measure,k("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return!isNaN(r.left)&&!isNaN(r.right)&&(e.cachedPaddingH=r),r}function fr(e){return Oe-e.display.nativeBarWidth}function ri(e){return e.display.scroller.clientWidth-fr(e)-e.display.barWidth}function uo(e){return e.display.scroller.clientHeight-fr(e)-e.display.barHeight}function $y(e,t,i){var r=e.options.lineWrapping,a=r&&ri(e);if(!t.measure.heights||r&&t.measure.width!=a){var l=t.measure.heights=[];if(r){t.measure.width=a;for(var h=t.text.firstChild.getClientRects(),d=0;d<h.length-1;d++){var g=h[d],x=h[d+1];Math.abs(g.bottom-x.bottom)>2&&l.push((g.bottom+x.top)/2-i.top)}}l.push(i.bottom-i.top)}}function Xf(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var a=0;a<e.rest.length;a++)if(Ie(e.rest[a])>i)return{map:e.measure.maps[a],cache:e.measure.caches[a],before:!0}}}function Ry(e,t){t=Xt(t);var i=Ie(t),r=e.display.externalMeasured=new jf(e.doc,t,i);r.lineN=i;var a=r.built=Wf(e,r);return r.text=a.pre,X(e.display.lineMeasure,a.pre),r}function Zf(e,t,i,r){return hr(e,Ii(e,t),i,r)}function fo(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[ai(e,t)];var i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size)return i}function Ii(e,t){var i=Ie(t),r=fo(e,i);r&&!r.text?r=null:r&&r.changes&&(Uf(e,r,i,po(e)),e.curOp.forceUpdate=!0),r||(r=Ry(e,t));var a=Xf(r,t,i);return{line:t,view:r,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function hr(e,t,i,r,a){t.before&&(i=-1);var l=i+(r||""),h;return t.cache.hasOwnProperty(l)?h=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||($y(e,t.view,t.rect),t.hasHeights=!0),h=Fy(e,t,i,r),h.bogus||(t.cache[l]=h)),{left:h.left,right:h.right,top:a?h.rtop:h.top,bottom:a?h.rbottom:h.bottom}}var Qf={left:0,right:0,top:0,bottom:0};function Jf(e,t,i){for(var r,a,l,h,d,g,x=0;x<e.length;x+=3)if(d=e[x],g=e[x+1],t<d?(a=0,l=1,h="left"):t<g?(a=t-d,l=a+1):(x==e.length-3||t==g&&e[x+3]>t)&&(l=g-d,a=l-1,t>=g&&(h="right")),a!=null){if(r=e[x+2],d==g&&i==(r.insertLeft?"left":"right")&&(h=i),i=="left"&&a==0)for(;x&&e[x-2]==e[x-3]&&e[x-1].insertLeft;)r=e[(x-=3)+2],h="left";if(i=="right"&&a==g-d)for(;x<e.length-3&&e[x+3]==e[x+4]&&!e[x+5].insertLeft;)r=e[(x+=3)+2],h="right";break}return{node:r,start:a,end:l,collapse:h,coverStart:d,coverEnd:g}}function Dy(e,t){var i=Qf;if(t=="left")for(var r=0;r<e.length&&(i=e[r]).left==i.right;r++);else for(var a=e.length-1;a>=0&&(i=e[a]).left==i.right;a--);return i}function Fy(e,t,i,r){var a=Jf(t.map,i,r),l=a.node,h=a.start,d=a.end,g=a.collapse,x;if(l.nodeType==3){for(var O=0;O<4;O++){for(;h&&vn(t.line.text.charAt(a.coverStart+h));)--h;for(;a.coverStart+d<a.coverEnd&&vn(t.line.text.charAt(a.coverStart+d));)++d;if(b&&T<9&&h==0&&d==a.coverEnd-a.coverStart?x=l.parentNode.getBoundingClientRect():x=Dy(G(l,h,d).getClientRects(),r),x.left||x.right||h==0)break;d=h,h=h-1,g="right"}b&&T<11&&(x=_y(e.display.measure,x))}else{h>0&&(g=r="right");var E;e.options.lineWrapping&&(E=l.getClientRects()).length>1?x=E[r=="right"?E.length-1:0]:x=l.getBoundingClientRect()}if(b&&T<9&&!h&&(!x||!x.left&&!x.right)){var $=l.parentNode.getClientRects()[0];$?x={left:$.left,right:$.left+$i(e.display),top:$.top,bottom:$.bottom}:x=Qf}for(var N=x.top-t.rect.top,z=x.bottom-t.rect.top,V=(N+z)/2,K=t.view.measure.heights,Z=0;Z<K.length-1&&!(V<K[Z]);Z++);var ee=Z?K[Z-1]:0,Q=K[Z],ne={left:(g=="right"?x.right:x.left)-t.rect.left,right:(g=="left"?x.left:x.right)-t.rect.left,top:ee,bottom:Q};return!x.left&&!x.right&&(ne.bogus=!0),e.options.singleCursorHeightPerLine||(ne.rtop=N,ne.rbottom=z),ne}function _y(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!wa(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*r,bottom:t.bottom*r}}function eh(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function th(e){e.display.externalMeasure=null,H(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)eh(e.display.view[t])}function Tn(e){th(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function rh(e){return w&&D?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function ih(e){return w&&D?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function ho(e){var t=Xt(e),i=t.widgets,r=0;if(i)for(var a=0;a<i.length;++a)i[a].above&&(r+=kn(i[a]));return r}function Ia(e,t,i,r,a){if(!a){var l=ho(t);i.top+=l,i.bottom+=l}if(r=="line")return i;r||(r="local");var h=kr(t);if(r=="local"?h+=La(e.display):h-=e.display.viewOffset,r=="page"||r=="window"){var d=e.display.lineSpace.getBoundingClientRect();h+=d.top+(r=="window"?0:ih(Ke(e)));var g=d.left+(r=="window"?0:rh(Ke(e)));i.left+=g,i.right+=g}return i.top+=h,i.bottom+=h,i}function nh(e,t,i){if(i=="div")return t;var r=t.left,a=t.top;if(i=="page")r-=rh(Ke(e)),a-=ih(Ke(e));else if(i=="local"||!i){var l=e.display.sizer.getBoundingClientRect();r+=l.left,a+=l.top}var h=e.display.lineSpace.getBoundingClientRect();return{left:r-h.left,top:a-h.top}}function Na(e,t,i,r,a){return r||(r=oe(e.doc,t.line)),Ia(e,r,Zf(e,r,t.ch,a),i)}function Zt(e,t,i,r,a,l){r=r||oe(e.doc,t.line),a||(a=Ii(e,r));function h(z,V){var K=hr(e,a,z,V?"right":"left",l);return V?K.left=K.right:K.right=K.left,Ia(e,r,K,i)}var d=Vt(r,e.doc.direction),g=t.ch,x=t.sticky;if(g>=r.text.length?(g=r.text.length,x="before"):g<=0&&(g=0,x="after"),!d)return h(x=="before"?g-1:g,x=="before");function O(z,V,K){var Z=d[V],ee=Z.level==1;return h(K?z-1:z,ee!=K)}var E=Ut(d,g,x),$=ar,N=O(g,E,x=="before");return $!=null&&(N.other=O(g,$,x!="before")),N}function ah(e,t){var i=0;t=pe(e.doc,t),e.options.lineWrapping||(i=$i(e.display)*t.ch);var r=oe(e.doc,t.line),a=kr(r)+La(e.display);return{left:i,right:i,top:a,bottom:a+r.height}}function co(e,t,i,r,a){var l=M(e,t,i);return l.xRel=a,r&&(l.outside=r),l}function vo(e,t,i){var r=e.doc;if(i+=e.display.viewOffset,i<0)return co(r.first,0,null,-1,-1);var a=lr(r,i),l=r.first+r.size-1;if(a>l)return co(r.first+r.size-1,oe(r,l).text.length,null,1,1);t<0&&(t=0);for(var h=oe(r,a);;){var d=By(e,h,a,t,i),g=dy(h,d.ch+(d.xRel>0||d.outside>0?1:0));if(!g)return d;var x=g.find(1);if(x.line==a)return x;h=oe(r,a=x.line)}}function sh(e,t,i,r){r-=ho(t);var a=t.text.length,l=je(function(h){return hr(e,i,h-1).bottom<=r},a,0);return a=je(function(h){return hr(e,i,h).top>r},l,a),{begin:l,end:a}}function oh(e,t,i,r){i||(i=Ii(e,t));var a=Ia(e,t,hr(e,i,r),"line").top;return sh(e,t,i,a)}function go(e,t,i,r){return e.bottom<=i?!1:e.top>i?!0:(r?e.left:e.right)>t}function By(e,t,i,r,a){a-=kr(t);var l=Ii(e,t),h=ho(t),d=0,g=t.text.length,x=!0,O=Vt(t,e.doc.direction);if(O){var E=(e.options.lineWrapping?Wy:zy)(e,t,i,l,O,r,a);x=E.level!=1,d=x?E.from:E.to-1,g=x?E.to:E.from-1}var $=null,N=null,z=je(function(ce){var fe=hr(e,l,ce);return fe.top+=h,fe.bottom+=h,go(fe,r,a,!1)?(fe.top<=a&&fe.left<=r&&($=ce,N=fe),!0):!1},d,g),V,K,Z=!1;if(N){var ee=r-N.left<N.right-r,Q=ee==x;z=$+(Q?0:1),K=Q?"after":"before",V=ee?N.left:N.right}else{!x&&(z==g||z==d)&&z++,K=z==0?"after":z==t.text.length?"before":hr(e,l,z-(x?1:0)).bottom+h<=a==x?"after":"before";var ne=Zt(e,M(i,z,K),"line",t,l);V=ne.left,Z=a<ne.top?-1:a>=ne.bottom?1:0}return z=nr(t.text,z,1),co(i,z,K,Z,r-V)}function zy(e,t,i,r,a,l,h){var d=je(function(E){var $=a[E],N=$.level!=1;return go(Zt(e,M(i,N?$.to:$.from,N?"before":"after"),"line",t,r),l,h,!0)},0,a.length-1),g=a[d];if(d>0){var x=g.level!=1,O=Zt(e,M(i,x?g.from:g.to,x?"after":"before"),"line",t,r);go(O,l,h,!0)&&O.top>h&&(g=a[d-1])}return g}function Wy(e,t,i,r,a,l,h){var d=sh(e,t,r,h),g=d.begin,x=d.end;/\s/.test(t.text.charAt(x-1))&&x--;for(var O=null,E=null,$=0;$<a.length;$++){var N=a[$];if(!(N.from>=x||N.to<=g)){var z=N.level!=1,V=hr(e,r,z?Math.min(x,N.to)-1:Math.max(g,N.from)).right,K=V<l?l-V+1e9:V-l;(!O||E>K)&&(O=N,E=K)}}return O||(O=a[a.length-1]),O.from<g&&(O={from:g,to:O.to,level:O.level}),O.to>x&&(O={from:O.from,to:x,level:O.level}),O}var ii;function Ni(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(ii==null){ii=k("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)ii.appendChild(document.createTextNode("x")),ii.appendChild(k("br"));ii.appendChild(document.createTextNode("x"))}X(e.measure,ii);var i=ii.offsetHeight/50;return i>3&&(e.cachedTextHeight=i),H(e.measure),i||1}function $i(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=k("span","xxxxxxxxxx"),i=k("pre",[t],"CodeMirror-line-like");X(e.measure,i);var r=t.getBoundingClientRect(),a=(r.right-r.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function po(e){for(var t=e.display,i={},r={},a=t.gutters.clientLeft,l=t.gutters.firstChild,h=0;l;l=l.nextSibling,++h){var d=e.display.gutterSpecs[h].className;i[d]=l.offsetLeft+l.clientLeft+a,r[d]=l.clientWidth}return{fixedPos:yo(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function yo(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function lh(e){var t=Ni(e.display),i=e.options.lineWrapping,r=i&&Math.max(5,e.display.scroller.clientWidth/$i(e.display)-3);return function(a){if(Br(e.doc,a))return 0;var l=0;if(a.widgets)for(var h=0;h<a.widgets.length;h++)a.widgets[h].height&&(l+=a.widgets[h].height);return i?l+(Math.ceil(a.text.length/r)||1)*t:l+t}}function mo(e){var t=e.doc,i=lh(e);t.iter(function(r){var a=i(r);a!=r.height&&Kt(r,a)})}function ni(e,t,i,r){var a=e.display;if(!i&&Pt(t).getAttribute("cm-not-content")=="true")return null;var l,h,d=a.lineSpace.getBoundingClientRect();try{l=t.clientX-d.left,h=t.clientY-d.top}catch{return null}var g=vo(e,l,h),x;if(r&&g.xRel>0&&(x=oe(e.doc,g.line).text).length==g.ch){var O=ue(x,x.length,e.options.tabSize)-x.length;g=M(g.line,Math.max(0,Math.round((l-Yf(e.display).left)/$i(e.display))-O))}return g}function ai(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom,t<0))return null;for(var i=e.display.view,r=0;r<i.length;r++)if(t-=i[r].size,t<0)return r}function Et(e,t,i,r){t==null&&(t=e.doc.first),i==null&&(i=e.doc.first+e.doc.size),r||(r=0);var a=e.display;if(r&&i<a.viewTo&&(a.updateLineNumbers==null||a.updateLineNumbers>t)&&(a.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=a.viewTo)Cr&&no(e.doc,t)<a.viewTo&&Wr(e);else if(i<=a.viewFrom)Cr&&Bf(e.doc,i+r)>a.viewFrom?Wr(e):(a.viewFrom+=r,a.viewTo+=r);else if(t<=a.viewFrom&&i>=a.viewTo)Wr(e);else if(t<=a.viewFrom){var l=$a(e,i,i+r,1);l?(a.view=a.view.slice(l.index),a.viewFrom=l.lineN,a.viewTo+=r):Wr(e)}else if(i>=a.viewTo){var h=$a(e,t,t,-1);h?(a.view=a.view.slice(0,h.index),a.viewTo=h.lineN):Wr(e)}else{var d=$a(e,t,t,-1),g=$a(e,i,i+r,1);d&&g?(a.view=a.view.slice(0,d.index).concat(Ma(e,d.lineN,g.lineN)).concat(a.view.slice(g.index)),a.viewTo+=r):Wr(e)}var x=a.externalMeasured;x&&(i<x.lineN?x.lineN+=r:t<x.lineN+x.size&&(a.externalMeasured=null))}function zr(e,t,i){e.curOp.viewChanged=!0;var r=e.display,a=e.display.externalMeasured;if(a&&t>=a.lineN&&t<a.lineN+a.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var l=r.view[ai(e,t)];if(l.node!=null){var h=l.changes||(l.changes=[]);ke(h,i)==-1&&h.push(i)}}}function Wr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function $a(e,t,i,r){var a=ai(e,t),l,h=e.display.view;if(!Cr||i==e.doc.first+e.doc.size)return{index:a,lineN:i};for(var d=e.display.viewFrom,g=0;g<a;g++)d+=h[g].size;if(d!=t){if(r>0){if(a==h.length-1)return null;l=d+h[a].size-t,a++}else l=d-t;t+=l,i+=l}for(;no(e.doc,i)!=i;){if(a==(r<0?0:h.length-1))return null;i+=r*h[a-(r<0?1:0)].size,a+=r}return{index:a,lineN:i}}function Hy(e,t,i){var r=e.display,a=r.view;a.length==0||t>=r.viewTo||i<=r.viewFrom?(r.view=Ma(e,t,i),r.viewFrom=t):(r.viewFrom>t?r.view=Ma(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(ai(e,t))),r.viewFrom=t,r.viewTo<i?r.view=r.view.concat(Ma(e,r.viewTo,i)):r.viewTo>i&&(r.view=r.view.slice(0,ai(e,i)))),r.viewTo=i}function uh(e){for(var t=e.display.view,i=0,r=0;r<t.length;r++){var a=t[r];!a.hidden&&(!a.node||a.changes)&&++i}return i}function On(e){e.display.input.showSelection(e.display.input.prepareSelection())}function fh(e,t){t===void 0&&(t=!0);var i=e.doc,r={},a=r.cursors=document.createDocumentFragment(),l=r.selection=document.createDocumentFragment(),h=e.options.$customCursor;h&&(t=!0);for(var d=0;d<i.sel.ranges.length;d++)if(!(!t&&d==i.sel.primIndex)){var g=i.sel.ranges[d];if(!(g.from().line>=e.display.viewTo||g.to().line<e.display.viewFrom)){var x=g.empty();if(h){var O=h(e,g);O&&bo(e,O,a)}else(x||e.options.showCursorWhenSelecting)&&bo(e,g.head,a);x||jy(e,g,l)}}return r}function bo(e,t,i){var r=Zt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),a=i.appendChild(k("div"," ","CodeMirror-cursor"));if(a.style.left=r.left+"px",a.style.top=r.top+"px",a.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var l=Na(e,t,"div",null,null),h=l.right-l.left;a.style.width=(h>0?h:e.defaultCharWidth())+"px"}if(r.other){var d=i.appendChild(k("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));d.style.display="",d.style.left=r.other.left+"px",d.style.top=r.other.top+"px",d.style.height=(r.other.bottom-r.other.top)*.85+"px"}}function Ra(e,t){return e.top-t.top||e.left-t.left}function jy(e,t,i){var r=e.display,a=e.doc,l=document.createDocumentFragment(),h=Yf(e.display),d=h.left,g=Math.max(r.sizerWidth,ri(e)-r.sizer.offsetLeft)-h.right,x=a.direction=="ltr";function O(Q,ne,ce,fe){ne<0&&(ne=0),ne=Math.round(ne),fe=Math.round(fe),l.appendChild(k("div",null,"CodeMirror-selected","position: absolute; left: "+Q+`px;
                             top: `+ne+"px; width: "+(ce??g-Q)+`px;
                             height: `+(fe-ne)+"px"))}function E(Q,ne,ce){var fe=oe(a,Q),Se=fe.text.length,De,ft;function He(et,Lt){return Na(e,M(Q,et),"div",fe,Lt)}function Ft(et,Lt,ct){var at=oh(e,fe,null,et),tt=Lt=="ltr"==(ct=="after")?"left":"right",Ge=ct=="after"?at.begin:at.end-(/\s/.test(fe.text.charAt(at.end-1))?2:1);return He(Ge,tt)[tt]}var Mt=Vt(fe,a.direction);return ei(Mt,ne||0,ce??Se,function(et,Lt,ct,at){var tt=ct=="ltr",Ge=He(et,tt?"left":"right"),It=He(Lt-1,tt?"right":"left"),Ki=ne==null&&et==0,Kr=ce==null&&Lt==Se,mt=at==0,cr=!Mt||at==Mt.length-1;if(It.top-Ge.top<=3){var ht=(x?Ki:Kr)&&mt,Vo=(x?Kr:Ki)&&cr,Er=ht?d:(tt?Ge:It).left,fi=Vo?g:(tt?It:Ge).right;O(Er,Ge.top,fi-Er,Ge.bottom)}else{var hi,kt,qi,Go;tt?(hi=x&&Ki&&mt?d:Ge.left,kt=x?g:Ft(et,ct,"before"),qi=x?d:Ft(Lt,ct,"after"),Go=x&&Kr&&cr?g:It.right):(hi=x?Ft(et,ct,"before"):d,kt=!x&&Ki&&mt?g:Ge.right,qi=!x&&Kr&&cr?d:It.left,Go=x?Ft(Lt,ct,"after"):g),O(hi,Ge.top,kt-hi,Ge.bottom),Ge.bottom<It.top&&O(d,Ge.bottom,null,It.top),O(qi,It.top,Go-qi,It.bottom)}(!De||Ra(Ge,De)<0)&&(De=Ge),Ra(It,De)<0&&(De=It),(!ft||Ra(Ge,ft)<0)&&(ft=Ge),Ra(It,ft)<0&&(ft=It)}),{start:De,end:ft}}var $=t.from(),N=t.to();if($.line==N.line)E($.line,$.ch,N.ch);else{var z=oe(a,$.line),V=oe(a,N.line),K=Xt(z)==Xt(V),Z=E($.line,$.ch,K?z.text.length+1:null).end,ee=E(N.line,K?0:null,N.ch).start;K&&(Z.top<ee.top-2?(O(Z.right,Z.top,null,Z.bottom),O(d,ee.top,ee.left,ee.bottom)):O(Z.right,Z.top,ee.left-Z.right,Z.bottom)),Z.bottom<ee.top&&O(d,Z.bottom,null,ee.top)}i.appendChild(l)}function xo(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Ri(e),t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function hh(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||So(e))}function wo(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Ri(e))},100)}function So(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(_e(e,"focus",e,t),e.state.focused=!0,Me(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),m&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),xo(e))}function Ri(e,t){e.state.delayingBlurEvent||(e.state.focused&&(_e(e,"blur",e,t),e.state.focused=!1,be(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Da(e){for(var t=e.display,i=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),a=t.lineDiv.getBoundingClientRect().top,l=0,h=0;h<t.view.length;h++){var d=t.view[h],g=e.options.lineWrapping,x=void 0,O=0;if(!d.hidden){if(a+=d.line.height,b&&T<8){var E=d.node.offsetTop+d.node.offsetHeight;x=E-i,i=E}else{var $=d.node.getBoundingClientRect();x=$.bottom-$.top,!g&&d.text.firstChild&&(O=d.text.firstChild.getBoundingClientRect().right-$.left-1)}var N=d.line.height-x;if((N>.005||N<-.005)&&(a<r&&(l-=N),Kt(d.line,x),ch(d.line),d.rest))for(var z=0;z<d.rest.length;z++)ch(d.rest[z]);if(O>e.display.sizerWidth){var V=Math.ceil(O/$i(e.display));V>e.display.maxLineLength&&(e.display.maxLineLength=V,e.display.maxLine=d.line,e.display.maxLineChanged=!0)}}}Math.abs(l)>2&&(t.scroller.scrollTop+=l)}function ch(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var i=e.widgets[t],r=i.node.parentNode;r&&(i.height=r.offsetHeight)}}function Fa(e,t,i){var r=i&&i.top!=null?Math.max(0,i.top):e.scroller.scrollTop;r=Math.floor(r-La(e));var a=i&&i.bottom!=null?i.bottom:r+e.wrapper.clientHeight,l=lr(t,r),h=lr(t,a);if(i&&i.ensure){var d=i.ensure.from.line,g=i.ensure.to.line;d<l?(l=d,h=lr(t,kr(oe(t,d))+e.wrapper.clientHeight)):Math.min(g,t.lastLine())>=h&&(l=lr(t,kr(oe(t,g))-e.wrapper.clientHeight),h=g)}return{from:l,to:Math.max(h,l+1)}}function Uy(e,t){if(!Ue(e,"scrollCursorIntoView")){var i=e.display,r=i.sizer.getBoundingClientRect(),a=null,l=i.wrapper.ownerDocument;if(t.top+r.top<0?a=!0:t.bottom+r.top>(l.defaultView.innerHeight||l.documentElement.clientHeight)&&(a=!1),a!=null&&!L){var h=k("div","​",null,`position: absolute;
                         top: `+(t.top-i.viewOffset-La(e.display))+`px;
                         height: `+(t.bottom-t.top+fr(e)+i.barHeight)+`px;
                         left: `+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(h),h.scrollIntoView(a),e.display.lineSpace.removeChild(h)}}}function Vy(e,t,i,r){r==null&&(r=0);var a;!e.options.lineWrapping&&t==i&&(i=t.sticky=="before"?M(t.line,t.ch+1,"before"):t,t=t.ch?M(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t);for(var l=0;l<5;l++){var h=!1,d=Zt(e,t),g=!i||i==t?d:Zt(e,i);a={left:Math.min(d.left,g.left),top:Math.min(d.top,g.top)-r,right:Math.max(d.left,g.left),bottom:Math.max(d.bottom,g.bottom)+r};var x=Co(e,a),O=e.doc.scrollTop,E=e.doc.scrollLeft;if(x.scrollTop!=null&&(En(e,x.scrollTop),Math.abs(e.doc.scrollTop-O)>1&&(h=!0)),x.scrollLeft!=null&&(si(e,x.scrollLeft),Math.abs(e.doc.scrollLeft-E)>1&&(h=!0)),!h)break}return a}function Gy(e,t){var i=Co(e,t);i.scrollTop!=null&&En(e,i.scrollTop),i.scrollLeft!=null&&si(e,i.scrollLeft)}function Co(e,t){var i=e.display,r=Ni(e.display);t.top<0&&(t.top=0);var a=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:i.scroller.scrollTop,l=uo(e),h={};t.bottom-t.top>l&&(t.bottom=t.top+l);var d=e.doc.height+lo(i),g=t.top<r,x=t.bottom>d-r;if(t.top<a)h.scrollTop=g?0:t.top;else if(t.bottom>a+l){var O=Math.min(t.top,(x?d:t.bottom)-l);O!=a&&(h.scrollTop=O)}var E=e.options.fixedGutter?0:i.gutters.offsetWidth,$=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:i.scroller.scrollLeft-E,N=ri(e)-i.gutters.offsetWidth,z=t.right-t.left>N;return z&&(t.right=t.left+N),t.left<10?h.scrollLeft=0:t.left<$?h.scrollLeft=Math.max(0,t.left+E-(z?0:10)):t.right>N+$-3&&(h.scrollLeft=t.right+(z?0:10)-N),h}function ko(e,t){t!=null&&(_a(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Di(e){_a(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Pn(e,t,i){(t!=null||i!=null)&&_a(e),t!=null&&(e.curOp.scrollLeft=t),i!=null&&(e.curOp.scrollTop=i)}function Ky(e,t){_a(e),e.curOp.scrollToPos=t}function _a(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var i=ah(e,t.from),r=ah(e,t.to);dh(e,i,r,t.margin)}}function dh(e,t,i,r){var a=Co(e,{left:Math.min(t.left,i.left),top:Math.min(t.top,i.top)-r,right:Math.max(t.right,i.right),bottom:Math.max(t.bottom,i.bottom)+r});Pn(e,a.scrollLeft,a.scrollTop)}function En(e,t){Math.abs(e.doc.scrollTop-t)<2||(f||Oo(e,{top:t}),vh(e,t,!0),f&&Oo(e),Ln(e,100))}function vh(e,t,i){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),!(e.display.scroller.scrollTop==t&&!i)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function si(e,t,i,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r)&&(e.doc.scrollLeft=t,bh(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function An(e){var t=e.display,i=t.gutters.offsetWidth,r=Math.round(e.doc.height+lo(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:r,scrollHeight:r+fr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}var oi=function(e,t,i){this.cm=i;var r=this.vert=k("div",[k("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),a=this.horiz=k("div",[k("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=a.tabIndex=-1,e(r),e(a),J(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),J(a,"scroll",function(){a.clientWidth&&t(a.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,b&&T<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};oi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var a=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+a)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var l=e.viewWidth-e.barLeft-(i?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+l)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(r==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?r:0,bottom:t?r:0}},oi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},oi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},oi.prototype.zeroWidthHack=function(){var e=U&&!_?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new me,this.disableVert=new me},oi.prototype.enableZeroWidthBar=function(e,t,i){e.style.visibility="";function r(){var a=e.getBoundingClientRect(),l=i=="vert"?document.elementFromPoint(a.right-1,(a.top+a.bottom)/2):document.elementFromPoint((a.right+a.left)/2,a.bottom-1);l!=e?e.style.visibility="hidden":t.set(1e3,r)}t.set(1e3,r)},oi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Mn=function(){};Mn.prototype.update=function(){return{bottom:0,right:0}},Mn.prototype.setScrollLeft=function(){},Mn.prototype.setScrollTop=function(){},Mn.prototype.clear=function(){};function Fi(e,t){t||(t=An(e));var i=e.display.barWidth,r=e.display.barHeight;gh(e,t);for(var a=0;a<4&&i!=e.display.barWidth||r!=e.display.barHeight;a++)i!=e.display.barWidth&&e.options.lineWrapping&&Da(e),gh(e,An(e)),i=e.display.barWidth,r=e.display.barHeight}function gh(e,t){var i=e.display,r=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=r.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=r.bottom)+"px",i.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=r.bottom+"px",i.scrollbarFiller.style.width=r.right+"px"):i.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=r.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}var ph={native:oi,null:Mn};function yh(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&be(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new ph[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),J(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,i){i=="horizontal"?si(e,t):En(e,t)},e),e.display.scrollbars.addClass&&Me(e.display.wrapper,e.display.scrollbars.addClass)}var qy=0;function li(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++qy,markArrays:null},Ty(e.curOp)}function ui(e){var t=e.curOp;t&&Py(t,function(i){for(var r=0;r<i.ops.length;r++)i.ops[r].cm.curOp=null;Yy(i)})}function Yy(e){for(var t=e.ops,i=0;i<t.length;i++)Xy(t[i]);for(var r=0;r<t.length;r++)Zy(t[r]);for(var a=0;a<t.length;a++)Qy(t[a]);for(var l=0;l<t.length;l++)Jy(t[l]);for(var h=0;h<t.length;h++)em(t[h])}function Xy(e){var t=e.cm,i=t.display;rm(t),e.updateMaxLine&&so(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ba(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Zy(e){e.updatedDisplay=e.mustUpdate&&To(e.cm,e.update)}function Qy(e){var t=e.cm,i=t.display;e.updatedDisplay&&Da(t),e.barMeasure=An(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Zf(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+fr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-ri(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection())}function Jy(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&si(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==Te(Ke(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Fi(t,e.barMeasure),e.updatedDisplay&&Eo(t,e.barMeasure),e.selectionChanged&&xo(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&hh(e.cm)}function em(e){var t=e.cm,i=t.display,r=t.doc;if(e.updatedDisplay&&mh(t,e.update),i.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(i.wheelStartX=i.wheelStartY=null),e.scrollTop!=null&&vh(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&si(t,e.scrollLeft,!0,!0),e.scrollToPos){var a=Vy(t,pe(r,e.scrollToPos.from),pe(r,e.scrollToPos.to),e.scrollToPos.margin);Uy(t,a)}var l=e.maybeHiddenMarkers,h=e.maybeUnhiddenMarkers;if(l)for(var d=0;d<l.length;++d)l[d].lines.length||_e(l[d],"hide");if(h)for(var g=0;g<h.length;++g)h[g].lines.length&&_e(h[g],"unhide");i.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&_e(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Dt(e,t){if(e.curOp)return t();li(e);try{return t()}finally{ui(e)}}function lt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);li(e);try{return t.apply(e,arguments)}finally{ui(e)}}}function Ct(e){return function(){if(this.curOp)return e.apply(this,arguments);li(this);try{return e.apply(this,arguments)}finally{ui(this)}}}function ut(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);li(t);try{return e.apply(this,arguments)}finally{ui(t)}}}function Ln(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,qe(tm,e))}function tm(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,r=xn(e,t.highlightFrontier),a=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(l){if(r.line>=e.display.viewFrom){var h=l.styles,d=l.text.length>e.options.maxHighlightLength?wr(t.mode,r.state):null,g=Tf(e,l,r,!0);d&&(r.state=d),l.styles=g.styles;var x=l.styleClasses,O=g.classes;O?l.styleClasses=O:x&&(l.styleClasses=null);for(var E=!h||h.length!=l.styles.length||x!=O&&(!x||!O||x.bgClass!=O.bgClass||x.textClass!=O.textClass),$=0;!E&&$<h.length;++$)E=h[$]!=l.styles[$];E&&a.push(r.line),l.stateAfter=r.save(),r.nextLine()}else l.text.length<=e.options.maxHighlightLength&&eo(e,l.text,r),l.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>i)return Ln(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),a.length&&Dt(e,function(){for(var l=0;l<a.length;l++)zr(e,a[l],"text")})}}var Ba=function(e,t,i){var r=e.display;this.viewport=t,this.visible=Fa(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=ri(e),this.force=i,this.dims=po(e),this.events=[]};Ba.prototype.signal=function(e,t){wt(e,t)&&this.events.push(arguments)},Ba.prototype.finish=function(){for(var e=0;e<this.events.length;e++)_e.apply(null,this.events[e])};function rm(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=fr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=fr(e)+"px",t.scrollbarsClipped=!0)}function im(e){if(e.hasFocus())return null;var t=Te(Ke(e));if(!t||!se(e.display.lineDiv,t))return null;var i={activeElt:t};if(window.getSelection){var r=jt(e).getSelection();r.anchorNode&&r.extend&&se(e.display.lineDiv,r.anchorNode)&&(i.anchorNode=r.anchorNode,i.anchorOffset=r.anchorOffset,i.focusNode=r.focusNode,i.focusOffset=r.focusOffset)}return i}function nm(e){if(!(!e||!e.activeElt||e.activeElt==Te(e.activeElt.ownerDocument))&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&se(document.body,e.anchorNode)&&se(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,i=t.defaultView.getSelection(),r=t.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),i.removeAllRanges(),i.addRange(r),i.extend(e.focusNode,e.focusOffset)}}function To(e,t){var i=e.display,r=e.doc;if(t.editorIsHidden)return Wr(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&uh(e)==0)return!1;xh(e)&&(Wr(e),t.dims=po(e));var a=r.first+r.size,l=Math.max(t.visible.from-e.options.viewportMargin,r.first),h=Math.min(a,t.visible.to+e.options.viewportMargin);i.viewFrom<l&&l-i.viewFrom<20&&(l=Math.max(r.first,i.viewFrom)),i.viewTo>h&&i.viewTo-h<20&&(h=Math.min(a,i.viewTo)),Cr&&(l=no(e.doc,l),h=Bf(e.doc,h));var d=l!=i.viewFrom||h!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;Hy(e,l,h),i.viewOffset=kr(oe(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var g=uh(e);if(!d&&g==0&&!t.force&&i.renderedView==i.view&&(i.updateLineNumbers==null||i.updateLineNumbers>=i.viewTo))return!1;var x=im(e);return g>4&&(i.lineDiv.style.display="none"),am(e,i.updateLineNumbers,t.dims),g>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,nm(x),H(i.cursorDiv),H(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,d&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,Ln(e,400)),i.updateLineNumbers=null,!0}function mh(e,t){for(var i=t.viewport,r=!0;;r=!1){if(!r||!e.options.lineWrapping||t.oldDisplayWidth==ri(e)){if(i&&i.top!=null&&(i={top:Math.min(e.doc.height+lo(e.display)-uo(e),i.top)}),t.visible=Fa(e.display,e.doc,i),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}else r&&(t.visible=Fa(e.display,e.doc,i));if(!To(e,t))break;Da(e);var a=An(e);On(e),Fi(e,a),Eo(e,a),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Oo(e,t){var i=new Ba(e,t);if(To(e,i)){Da(e),mh(e,i);var r=An(e);On(e),Fi(e,r),Eo(e,r),i.finish()}}function am(e,t,i){var r=e.display,a=e.options.lineNumbers,l=r.lineDiv,h=l.firstChild;function d(z){var V=z.nextSibling;return m&&U&&e.display.currentWheelTarget==z?z.style.display="none":z.parentNode.removeChild(z),V}for(var g=r.view,x=r.viewFrom,O=0;O<g.length;O++){var E=g[O];if(!E.hidden)if(!E.node||E.node.parentNode!=l){var $=Iy(e,E,x,i);l.insertBefore($,h)}else{for(;h!=E.node;)h=d(h);var N=a&&t!=null&&t<=x&&E.lineNumber;E.changes&&(ke(E.changes,"gutter")>-1&&(N=!1),Uf(e,E,x,i)),N&&(H(E.lineNumber),E.lineNumber.appendChild(document.createTextNode(A(e.options,x)))),h=E.node.nextSibling}x+=E.size}for(;h;)h=d(h)}function Po(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",ot(e,"gutterChanged",e)}function Eo(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+fr(e)+"px"}function bh(e){var t=e.display,i=t.view;if(!(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))){for(var r=yo(t)-t.scroller.scrollLeft+e.doc.scrollLeft,a=t.gutters.offsetWidth,l=r+"px",h=0;h<i.length;h++)if(!i[h].hidden){e.options.fixedGutter&&(i[h].gutter&&(i[h].gutter.style.left=l),i[h].gutterBackground&&(i[h].gutterBackground.style.left=l));var d=i[h].alignable;if(d)for(var g=0;g<d.length;g++)d[g].style.left=l}e.options.fixedGutter&&(t.gutters.style.left=r+a+"px")}}function xh(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=A(e.options,t.first+t.size-1),r=e.display;if(i.length!=r.lineNumChars){var a=r.measure.appendChild(k("div",[k("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=a.firstChild.offsetWidth,h=a.offsetWidth-l;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(l,r.lineGutter.offsetWidth-h)+1,r.lineNumWidth=r.lineNumInnerWidth+h,r.lineNumChars=r.lineNumInnerWidth?i.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Po(e.display),!0}return!1}function Ao(e,t){for(var i=[],r=!1,a=0;a<e.length;a++){var l=e[a],h=null;if(typeof l!="string"&&(h=l.style,l=l.className),l=="CodeMirror-linenumbers")if(t)r=!0;else continue;i.push({className:l,style:h})}return t&&!r&&i.push({className:"CodeMirror-linenumbers",style:null}),i}function wh(e){var t=e.gutters,i=e.gutterSpecs;H(t),e.lineGutter=null;for(var r=0;r<i.length;++r){var a=i[r],l=a.className,h=a.style,d=t.appendChild(k("div",null,"CodeMirror-gutter "+l));h&&(d.style.cssText=h),l=="CodeMirror-linenumbers"&&(e.lineGutter=d,d.style.width=(e.lineNumWidth||1)+"px")}t.style.display=i.length?"":"none",Po(e)}function In(e){wh(e.display),Et(e),bh(e)}function sm(e,t,i,r){var a=this;this.input=i,a.scrollbarFiller=k("div",null,"CodeMirror-scrollbar-filler"),a.scrollbarFiller.setAttribute("cm-not-content","true"),a.gutterFiller=k("div",null,"CodeMirror-gutter-filler"),a.gutterFiller.setAttribute("cm-not-content","true"),a.lineDiv=Y("div",null,"CodeMirror-code"),a.selectionDiv=k("div",null,null,"position: relative; z-index: 1"),a.cursorDiv=k("div",null,"CodeMirror-cursors"),a.measure=k("div",null,"CodeMirror-measure"),a.lineMeasure=k("div",null,"CodeMirror-measure"),a.lineSpace=Y("div",[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,"position: relative; outline: none");var l=Y("div",[a.lineSpace],"CodeMirror-lines");a.mover=k("div",[l],null,"position: relative"),a.sizer=k("div",[a.mover],"CodeMirror-sizer"),a.sizerWidth=null,a.heightForcer=k("div",null,null,"position: absolute; height: "+Oe+"px; width: 1px;"),a.gutters=k("div",null,"CodeMirror-gutters"),a.lineGutter=null,a.scroller=k("div",[a.sizer,a.heightForcer,a.gutters],"CodeMirror-scroll"),a.scroller.setAttribute("tabIndex","-1"),a.wrapper=k("div",[a.scrollbarFiller,a.gutterFiller,a.scroller],"CodeMirror"),a.wrapper.setAttribute("translate","no"),b&&T<8&&(a.gutters.style.zIndex=-1,a.scroller.style.paddingRight=0),!m&&!(f&&j)&&(a.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(a.wrapper):e(a.wrapper)),a.viewFrom=a.viewTo=t.first,a.reportedViewFrom=a.reportedViewTo=t.first,a.view=[],a.renderedView=null,a.externalMeasured=null,a.viewOffset=0,a.lastWrapHeight=a.lastWrapWidth=0,a.updateLineNumbers=null,a.nativeBarWidth=a.barHeight=a.barWidth=0,a.scrollbarsClipped=!1,a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null,a.alignWidgets=!1,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.maxLine=null,a.maxLineLength=0,a.maxLineChanged=!1,a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null,a.shift=!1,a.selForContextMenu=null,a.activeTouch=null,a.gutterSpecs=Ao(r.gutters,r.lineNumbers),wh(a),i.init(a)}var za=0,Or=null;b?Or=-.53:f?Or=15:w?Or=-.7:F&&(Or=-1/3);function Sh(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),i==null&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:i==null&&(i=e.wheelDelta),{x:t,y:i}}function om(e){var t=Sh(e);return t.x*=Or,t.y*=Or,t}function Ch(e,t){w&&C==102&&(e.display.chromeScrollHack==null?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var i=Sh(t),r=i.x,a=i.y,l=Or;t.deltaMode===0&&(r=t.deltaX,a=t.deltaY,l=1);var h=e.display,d=h.scroller,g=d.scrollWidth>d.clientWidth,x=d.scrollHeight>d.clientHeight;if(r&&g||a&&x){if(a&&U&&m){e:for(var O=t.target,E=h.view;O!=d;O=O.parentNode)for(var $=0;$<E.length;$++)if(E[$].node==O){e.display.currentWheelTarget=O;break e}}if(r&&!f&&!I&&l!=null){a&&x&&En(e,Math.max(0,d.scrollTop+a*l)),si(e,Math.max(0,d.scrollLeft+r*l)),(!a||a&&x)&&pt(t),h.wheelStartX=null;return}if(a&&l!=null){var N=a*l,z=e.doc.scrollTop,V=z+h.wrapper.clientHeight;N<0?z=Math.max(0,z+N-50):V=Math.min(e.doc.height,V+N+50),Oo(e,{top:z,bottom:V})}za<20&&t.deltaMode!==0&&(h.wheelStartX==null?(h.wheelStartX=d.scrollLeft,h.wheelStartY=d.scrollTop,h.wheelDX=r,h.wheelDY=a,setTimeout(function(){if(h.wheelStartX!=null){var K=d.scrollLeft-h.wheelStartX,Z=d.scrollTop-h.wheelStartY,ee=Z&&h.wheelDY&&Z/h.wheelDY||K&&h.wheelDX&&K/h.wheelDX;h.wheelStartX=h.wheelStartY=null,ee&&(Or=(Or*za+ee)/(za+1),++za)}},200)):(h.wheelDX+=r,h.wheelDY+=a))}}var Wt=function(e,t){this.ranges=e,this.primIndex=t};Wt.prototype.primary=function(){return this.ranges[this.primIndex]},Wt.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],r=e.ranges[t];if(!ge(i.anchor,r.anchor)||!ge(i.head,r.head))return!1}return!0},Wt.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Ne(Ee(this.ranges[t].anchor),Ee(this.ranges[t].head));return new Wt(e,this.primIndex)},Wt.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Wt.prototype.contains=function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var r=this.ranges[i];if(B(t,r.from())>=0&&B(e,r.to())<=0)return i}return-1};var Ne=function(e,t){this.anchor=e,this.head=t};Ne.prototype.from=function(){return nt(this.anchor,this.head)},Ne.prototype.to=function(){return Ae(this.anchor,this.head)},Ne.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Qt(e,t,i){var r=e&&e.options.selectionsMayTouch,a=t[i];t.sort(function($,N){return B($.from(),N.from())}),i=ke(t,a);for(var l=1;l<t.length;l++){var h=t[l],d=t[l-1],g=B(d.to(),h.from());if(r&&!h.empty()?g>0:g>=0){var x=nt(d.from(),h.from()),O=Ae(d.to(),h.to()),E=d.empty()?h.from()==h.head:d.from()==d.head;l<=i&&--i,t.splice(--l,2,new Ne(E?O:x,E?x:O))}}return new Wt(t,i)}function Hr(e,t){return new Wt([new Ne(e,t||e)],0)}function jr(e){return e.text?M(e.from.line+e.text.length-1,we(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function kh(e,t){if(B(e,t.from)<0)return e;if(B(e,t.to)<=0)return jr(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=jr(t).ch-t.to.ch),M(i,r)}function Mo(e,t){for(var i=[],r=0;r<e.sel.ranges.length;r++){var a=e.sel.ranges[r];i.push(new Ne(kh(a.anchor,t),kh(a.head,t)))}return Qt(e.cm,i,e.sel.primIndex)}function Th(e,t,i){return e.line==t.line?M(i.line,e.ch-t.ch+i.ch):M(i.line+(e.line-t.line),e.ch)}function lm(e,t,i){for(var r=[],a=M(e.first,0),l=a,h=0;h<t.length;h++){var d=t[h],g=Th(d.from,a,l),x=Th(jr(d),a,l);if(a=d.to,l=x,i=="around"){var O=e.sel.ranges[h],E=B(O.head,O.anchor)<0;r[h]=new Ne(E?x:g,E?g:x)}else r[h]=new Ne(g,g)}return new Wt(r,e.sel.primIndex)}function Lo(e){e.doc.mode=xr(e.options,e.doc.modeOption),Nn(e)}function Nn(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Ln(e,100),e.state.modeGen++,e.curOp&&Et(e)}function Oh(e,t){return t.from.ch==0&&t.to.ch==0&&we(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Io(e,t,i,r){function a(ee){return i?i[ee]:null}function l(ee,Q,ne){py(ee,Q,ne,r),ot(ee,"change",ee,t)}function h(ee,Q){for(var ne=[],ce=ee;ce<Q;++ce)ne.push(new Mi(x[ce],a(ce),r));return ne}var d=t.from,g=t.to,x=t.text,O=oe(e,d.line),E=oe(e,g.line),$=we(x),N=a(x.length-1),z=g.line-d.line;if(t.full)e.insert(0,h(0,x.length)),e.remove(x.length,e.size-x.length);else if(Oh(e,t)){var V=h(0,x.length-1);l(E,E.text,N),z&&e.remove(d.line,z),V.length&&e.insert(d.line,V)}else if(O==E)if(x.length==1)l(O,O.text.slice(0,d.ch)+$+O.text.slice(g.ch),N);else{var K=h(1,x.length-1);K.push(new Mi($+O.text.slice(g.ch),N,r)),l(O,O.text.slice(0,d.ch)+x[0],a(0)),e.insert(d.line+1,K)}else if(x.length==1)l(O,O.text.slice(0,d.ch)+x[0]+E.text.slice(g.ch),a(0)),e.remove(d.line+1,z);else{l(O,O.text.slice(0,d.ch)+x[0],a(0)),l(E,$+E.text.slice(g.ch),N);var Z=h(1,x.length-1);z>1&&e.remove(d.line+1,z-1),e.insert(d.line+1,Z)}ot(e,"change",e,t)}function Ur(e,t,i){function r(a,l,h){if(a.linked)for(var d=0;d<a.linked.length;++d){var g=a.linked[d];if(g.doc!=l){var x=h&&g.sharedHist;i&&!x||(t(g.doc,x),r(g.doc,a,x))}}}r(e,null,!0)}function Ph(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,mo(e),Lo(e),Eh(e),e.options.direction=t.direction,e.options.lineWrapping||so(e),e.options.mode=t.modeOption,Et(e)}function Eh(e){(e.doc.direction=="rtl"?Me:be)(e.display.lineDiv,"CodeMirror-rtl")}function um(e){Dt(e,function(){Eh(e),Et(e)})}function Wa(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function No(e,t){var i={from:Ee(t.from),to:jr(t),text:Sr(e,t.from,t.to)};return Lh(e,i,t.from.line,t.to.line+1),Ur(e,function(r){return Lh(r,i,t.from.line,t.to.line+1)},!0),i}function Ah(e){for(;e.length;){var t=we(e);if(t.ranges)e.pop();else break}}function fm(e,t){if(t)return Ah(e.done),we(e.done);if(e.done.length&&!we(e.done).ranges)return we(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),we(e.done)}function Mh(e,t,i,r){var a=e.history;a.undone.length=0;var l=+new Date,h,d;if((a.lastOp==r||a.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&a.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(h=fm(a,a.lastOp==r)))d=we(h.changes),B(t.from,t.to)==0&&B(t.from,d.to)==0?d.to=jr(t):h.changes.push(No(e,t));else{var g=we(a.done);for((!g||!g.ranges)&&Ha(e.sel,a.done),h={changes:[No(e,t)],generation:a.generation},a.done.push(h);a.done.length>a.undoDepth;)a.done.shift(),a.done[0].ranges||a.done.shift()}a.done.push(i),a.generation=++a.maxGeneration,a.lastModTime=a.lastSelTime=l,a.lastOp=a.lastSelOp=r,a.lastOrigin=a.lastSelOrigin=t.origin,d||_e(e,"historyAdded")}function hm(e,t,i,r){var a=t.charAt(0);return a=="*"||a=="+"&&i.ranges.length==r.ranges.length&&i.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function cm(e,t,i,r){var a=e.history,l=r&&r.origin;i==a.lastSelOp||l&&a.lastSelOrigin==l&&(a.lastModTime==a.lastSelTime&&a.lastOrigin==l||hm(e,l,we(a.done),t))?a.done[a.done.length-1]=t:Ha(t,a.done),a.lastSelTime=+new Date,a.lastSelOrigin=l,a.lastSelOp=i,r&&r.clearRedo!==!1&&Ah(a.undone)}function Ha(e,t){var i=we(t);i&&i.ranges&&i.equals(e)||t.push(e)}function Lh(e,t,i,r){var a=t["spans_"+e.id],l=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,r),function(h){h.markedSpans&&((a||(a=t["spans_"+e.id]={}))[l]=h.markedSpans),++l})}function dm(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function vm(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var r=[],a=0;a<t.text.length;++a)r.push(dm(i[a]));return r}function Ih(e,t){var i=vm(e,t),r=ro(e,t);if(!i)return r;if(!r)return i;for(var a=0;a<i.length;++a){var l=i[a],h=r[a];if(l&&h)e:for(var d=0;d<h.length;++d){for(var g=h[d],x=0;x<l.length;++x)if(l[x].marker==g.marker)continue e;l.push(g)}else h&&(i[a]=h)}return i}function _i(e,t,i){for(var r=[],a=0;a<e.length;++a){var l=e[a];if(l.ranges){r.push(i?Wt.prototype.deepCopy.call(l):l);continue}var h=l.changes,d=[];r.push({changes:d});for(var g=0;g<h.length;++g){var x=h[g],O=void 0;if(d.push({from:x.from,to:x.to,text:x.text}),t)for(var E in x)(O=E.match(/^spans_(\d+)$/))&&ke(t,Number(O[1]))>-1&&(we(d)[E]=x[E],delete x[E])}}return r}function $o(e,t,i,r){if(r){var a=e.anchor;if(i){var l=B(t,a)<0;l!=B(i,a)<0?(a=t,t=i):l!=B(t,i)<0&&(t=i)}return new Ne(a,t)}else return new Ne(i||t,t)}function ja(e,t,i,r,a){a==null&&(a=e.cm&&(e.cm.display.shift||e.extend)),yt(e,new Wt([$o(e.sel.primary(),t,i,a)],0),r)}function Nh(e,t,i){for(var r=[],a=e.cm&&(e.cm.display.shift||e.extend),l=0;l<e.sel.ranges.length;l++)r[l]=$o(e.sel.ranges[l],t[l],null,a);var h=Qt(e.cm,r,e.sel.primIndex);yt(e,h,i)}function Ro(e,t,i,r){var a=e.sel.ranges.slice(0);a[t]=i,yt(e,Qt(e.cm,a,e.sel.primIndex),r)}function $h(e,t,i,r){yt(e,Hr(t,i),r)}function gm(e,t,i){var r={ranges:t.ranges,update:function(a){this.ranges=[];for(var l=0;l<a.length;l++)this.ranges[l]=new Ne(pe(e,a[l].anchor),pe(e,a[l].head))},origin:i&&i.origin};return _e(e,"beforeSelectionChange",e,r),e.cm&&_e(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Qt(e.cm,r.ranges,r.ranges.length-1):t}function Rh(e,t,i){var r=e.history.done,a=we(r);a&&a.ranges?(r[r.length-1]=t,Ua(e,t,i)):yt(e,t,i)}function yt(e,t,i){Ua(e,t,i),cm(e,e.sel,e.cm?e.cm.curOp.id:NaN,i)}function Ua(e,t,i){(wt(e,"beforeSelectionChange")||e.cm&&wt(e.cm,"beforeSelectionChange"))&&(t=gm(e,t,i));var r=i&&i.bias||(B(t.primary().head,e.sel.primary().head)<0?-1:1);Dh(e,_h(e,t,r,!0)),!(i&&i.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&Di(e.cm)}function Dh(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ba(e.cm)),ot(e,"cursorActivity",e))}function Fh(e){Dh(e,_h(e,e.sel,null,!1))}function _h(e,t,i,r){for(var a,l=0;l<t.ranges.length;l++){var h=t.ranges[l],d=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[l],g=Va(e,h.anchor,d&&d.anchor,i,r),x=h.head==h.anchor?g:Va(e,h.head,d&&d.head,i,r);(a||g!=h.anchor||x!=h.head)&&(a||(a=t.ranges.slice(0,l)),a[l]=new Ne(g,x))}return a?Qt(e.cm,a,t.primIndex):t}function Bi(e,t,i,r,a){var l=oe(e,t.line);if(l.markedSpans)for(var h=0;h<l.markedSpans.length;++h){var d=l.markedSpans[h],g=d.marker,x="selectLeft"in g?!g.selectLeft:g.inclusiveLeft,O="selectRight"in g?!g.selectRight:g.inclusiveRight;if((d.from==null||(x?d.from<=t.ch:d.from<t.ch))&&(d.to==null||(O?d.to>=t.ch:d.to>t.ch))){if(a&&(_e(g,"beforeCursorEnter"),g.explicitlyCleared))if(l.markedSpans){--h;continue}else break;if(!g.atomic)continue;if(i){var E=g.find(r<0?1:-1),$=void 0;if((r<0?O:x)&&(E=Bh(e,E,-r,E&&E.line==t.line?l:null)),E&&E.line==t.line&&($=B(E,i))&&(r<0?$<0:$>0))return Bi(e,E,t,r,a)}var N=g.find(r<0?-1:1);return(r<0?x:O)&&(N=Bh(e,N,r,N.line==t.line?l:null)),N?Bi(e,N,t,r,a):null}}return t}function Va(e,t,i,r,a){var l=r||1,h=Bi(e,t,i,l,a)||!a&&Bi(e,t,i,l,!0)||Bi(e,t,i,-l,a)||!a&&Bi(e,t,i,-l,!0);return h||(e.cantEdit=!0,M(e.first,0))}function Bh(e,t,i,r){return i<0&&t.ch==0?t.line>e.first?pe(e,M(t.line-1)):null:i>0&&t.ch==(r||oe(e,t.line)).text.length?t.line<e.first+e.size-1?M(t.line+1,0):null:new M(t.line,t.ch+i)}function zh(e){e.setSelection(M(e.firstLine(),0),M(e.lastLine()),Be)}function Wh(e,t,i){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return i&&(r.update=function(a,l,h,d){a&&(r.from=pe(e,a)),l&&(r.to=pe(e,l)),h&&(r.text=h),d!==void 0&&(r.origin=d)}),_e(e,"beforeChange",e,r),e.cm&&_e(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function zi(e,t,i){if(e.cm){if(!e.cm.curOp)return lt(e.cm,zi)(e,t,i);if(e.cm.state.suppressEdits)return}if(!((wt(e,"beforeChange")||e.cm&&wt(e.cm,"beforeChange"))&&(t=Wh(e,t,!0),!t))){var r=If&&!i&&cy(e,t.from,t.to);if(r)for(var a=r.length-1;a>=0;--a)Hh(e,{from:r[a].from,to:r[a].to,text:a?[""]:t.text,origin:t.origin});else Hh(e,t)}}function Hh(e,t){if(!(t.text.length==1&&t.text[0]==""&&B(t.from,t.to)==0)){var i=Mo(e,t);Mh(e,t,i,e.cm?e.cm.curOp.id:NaN),$n(e,t,i,ro(e,t));var r=[];Ur(e,function(a,l){!l&&ke(r,a.history)==-1&&(Gh(a.history,t),r.push(a.history)),$n(a,t,null,ro(a,t))})}}function Ga(e,t,i){var r=e.cm&&e.cm.state.suppressEdits;if(!(r&&!i)){for(var a=e.history,l,h=e.sel,d=t=="undo"?a.done:a.undone,g=t=="undo"?a.undone:a.done,x=0;x<d.length&&(l=d[x],!(i?l.ranges&&!l.equals(e.sel):!l.ranges));x++);if(x!=d.length){for(a.lastOrigin=a.lastSelOrigin=null;;)if(l=d.pop(),l.ranges){if(Ha(l,g),i&&!l.equals(e.sel)){yt(e,l,{clearRedo:!1});return}h=l}else if(r){d.push(l);return}else break;var O=[];Ha(h,g),g.push({changes:O,generation:a.generation}),a.generation=l.generation||++a.maxGeneration;for(var E=wt(e,"beforeChange")||e.cm&&wt(e.cm,"beforeChange"),$=function(V){var K=l.changes[V];if(K.origin=t,E&&!Wh(e,K,!1))return d.length=0,{};O.push(No(e,K));var Z=V?Mo(e,K):we(d);$n(e,K,Z,Ih(e,K)),!V&&e.cm&&e.cm.scrollIntoView({from:K.from,to:jr(K)});var ee=[];Ur(e,function(Q,ne){!ne&&ke(ee,Q.history)==-1&&(Gh(Q.history,K),ee.push(Q.history)),$n(Q,K,null,Ih(Q,K))})},N=l.changes.length-1;N>=0;--N){var z=$(N);if(z)return z.v}}}}function jh(e,t){if(t!=0&&(e.first+=t,e.sel=new Wt($t(e.sel.ranges,function(a){return new Ne(M(a.anchor.line+t,a.anchor.ch),M(a.head.line+t,a.head.ch))}),e.sel.primIndex),e.cm)){Et(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,r=i.viewFrom;r<i.viewTo;r++)zr(e.cm,r,"gutter")}}function $n(e,t,i,r){if(e.cm&&!e.cm.curOp)return lt(e.cm,$n)(e,t,i,r);if(t.to.line<e.first){jh(e,t.text.length-1-(t.to.line-t.from.line));return}if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var a=t.text.length-1-(e.first-t.from.line);jh(e,a),t={from:M(e.first,0),to:M(t.to.line+a,t.to.ch),text:[we(t.text)],origin:t.origin}}var l=e.lastLine();t.to.line>l&&(t={from:t.from,to:M(l,oe(e,l).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Sr(e,t.from,t.to),i||(i=Mo(e,t)),e.cm?pm(e.cm,t,r):Io(e,t,r),Ua(e,i,Be),e.cantEdit&&Va(e,M(e.firstLine(),0))&&(e.cantEdit=!1)}}function pm(e,t,i){var r=e.doc,a=e.display,l=t.from,h=t.to,d=!1,g=l.line;e.options.lineWrapping||(g=Ie(Xt(oe(r,l.line))),r.iter(g,h.line+1,function(N){if(N==a.maxLine)return d=!0,!0})),r.sel.contains(t.from,t.to)>-1&&ba(e),Io(r,t,i,lh(e)),e.options.lineWrapping||(r.iter(g,l.line+t.text.length,function(N){var z=Aa(N);z>a.maxLineLength&&(a.maxLine=N,a.maxLineLength=z,a.maxLineChanged=!0,d=!1)}),d&&(e.curOp.updateMaxLine=!0)),ay(r,l.line),Ln(e,400);var x=t.text.length-(h.line-l.line)-1;t.full?Et(e):l.line==h.line&&t.text.length==1&&!Oh(e.doc,t)?zr(e,l.line,"text"):Et(e,l.line,h.line+1,x);var O=wt(e,"changes"),E=wt(e,"change");if(E||O){var $={from:l,to:h,text:t.text,removed:t.removed,origin:t.origin};E&&ot(e,"change",e,$),O&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push($)}e.display.selForContextMenu=null}function Wi(e,t,i,r,a){var l;r||(r=i),B(r,i)<0&&(l=[r,i],i=l[0],r=l[1]),typeof t=="string"&&(t=e.splitLines(t)),zi(e,{from:i,to:r,text:t,origin:a})}function Uh(e,t,i,r){i<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Vh(e,t,i,r){for(var a=0;a<e.length;++a){var l=e[a],h=!0;if(l.ranges){l.copied||(l=e[a]=l.deepCopy(),l.copied=!0);for(var d=0;d<l.ranges.length;d++)Uh(l.ranges[d].anchor,t,i,r),Uh(l.ranges[d].head,t,i,r);continue}for(var g=0;g<l.changes.length;++g){var x=l.changes[g];if(i<x.from.line)x.from=M(x.from.line+r,x.from.ch),x.to=M(x.to.line+r,x.to.ch);else if(t<=x.to.line){h=!1;break}}h||(e.splice(0,a+1),a=0)}}function Gh(e,t){var i=t.from.line,r=t.to.line,a=t.text.length-(r-i)-1;Vh(e.done,i,r,a),Vh(e.undone,i,r,a)}function Rn(e,t,i,r){var a=t,l=t;return typeof t=="number"?l=oe(e,zt(e,t)):a=Ie(t),a==null?null:(r(l,a)&&e.cm&&zr(e.cm,a,i),l)}function Dn(e){this.lines=e,this.parent=null;for(var t=0,i=0;i<e.length;++i)e[i].parent=this,t+=e[i].height;this.height=t}Dn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,r=e+t;i<r;++i){var a=this.lines[i];this.height-=a.height,yy(a),ot(a,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,i){for(var r=e+t;e<r;++e)if(i(this.lines[e]))return!0}};function Fn(e){this.children=e;for(var t=0,i=0,r=0;r<e.length;++r){var a=e[r];t+=a.chunkSize(),i+=a.height,a.parent=this}this.size=t,this.height=i,this.parent=null}Fn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var r=this.children[i],a=r.chunkSize();if(e<a){var l=Math.min(t,a-e),h=r.height;if(r.removeInner(e,l),this.height-=h-r.height,a==l&&(this.children.splice(i--,1),r.parent=null),(t-=l)==0)break;e=0}else e-=a}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Dn))){var d=[];this.collapse(d),this.children=[new Dn(d)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var r=0;r<this.children.length;++r){var a=this.children[r],l=a.chunkSize();if(e<=l){if(a.insertInner(e,t,i),a.lines&&a.lines.length>50){for(var h=a.lines.length%25+25,d=h;d<a.lines.length;){var g=new Dn(a.lines.slice(d,d+=25));a.height-=g.height,this.children.splice(++r,0,g),g.parent=this}a.lines=a.lines.slice(0,h),this.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),i=new Fn(t);if(e.parent){e.size-=i.size,e.height-=i.height;var a=ke(e.parent.children,e);e.parent.children.splice(a+1,0,i)}else{var r=new Fn(e.children);r.parent=e,e.children=[r,i],e=r}i.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var r=0;r<this.children.length;++r){var a=this.children[r],l=a.chunkSize();if(e<l){var h=Math.min(t,l-e);if(a.iterN(e,h,i))return!0;if((t-=h)==0)break;e=0}else e-=l}}};var _n=function(e,t,i){if(i)for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);this.doc=e,this.node=t};_n.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,r=Ie(i);if(!(r==null||!t)){for(var a=0;a<t.length;++a)t[a]==this&&t.splice(a--,1);t.length||(i.widgets=null);var l=kn(this);Kt(i,Math.max(0,i.height-l)),e&&(Dt(e,function(){Kh(e,i,-l),zr(e,r,"widget")}),ot(e,"lineWidgetCleared",e,this,r))}},_n.prototype.changed=function(){var e=this,t=this.height,i=this.doc.cm,r=this.line;this.height=null;var a=kn(this)-t;a&&(Br(this.doc,r)||Kt(r,r.height+a),i&&Dt(i,function(){i.curOp.forceUpdate=!0,Kh(i,r,a),ot(i,"lineWidgetChanged",i,e,Ie(r))}))},St(_n);function Kh(e,t,i){kr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ko(e,i)}function ym(e,t,i,r){var a=new _n(e,i,r),l=e.cm;return l&&a.noHScroll&&(l.display.alignWidgets=!0),Rn(e,t,"widget",function(h){var d=h.widgets||(h.widgets=[]);if(a.insertAt==null?d.push(a):d.splice(Math.min(d.length,Math.max(0,a.insertAt)),0,a),a.line=h,l&&!Br(e,h)){var g=kr(h)<e.scrollTop;Kt(h,h.height+kn(a)),g&&ko(l,a.height),l.curOp.forceUpdate=!0}return!0}),l&&ot(l,"lineWidgetAdded",l,a,typeof t=="number"?t:Ie(t)),a}var qh=0,Vr=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++qh};Vr.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&li(e),wt(this,"clear")){var i=this.find();i&&ot(this,"clear",i.from,i.to)}for(var r=null,a=null,l=0;l<this.lines.length;++l){var h=this.lines[l],d=wn(h.markedSpans,this);e&&!this.collapsed?zr(e,Ie(h),"text"):e&&(d.to!=null&&(a=Ie(h)),d.from!=null&&(r=Ie(h))),h.markedSpans=ly(h.markedSpans,d),d.from==null&&this.collapsed&&!Br(this.doc,h)&&e&&Kt(h,Ni(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var g=0;g<this.lines.length;++g){var x=Xt(this.lines[g]),O=Aa(x);O>e.display.maxLineLength&&(e.display.maxLine=x,e.display.maxLineLength=O,e.display.maxLineChanged=!0)}r!=null&&e&&this.collapsed&&Et(e,r,a+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Fh(e.doc)),e&&ot(e,"markerCleared",e,this,r,a),t&&ui(e),this.parent&&this.parent.clear()}},Vr.prototype.find=function(e,t){e==null&&this.type=="bookmark"&&(e=1);for(var i,r,a=0;a<this.lines.length;++a){var l=this.lines[a],h=wn(l.markedSpans,this);if(h.from!=null&&(i=M(t?l:Ie(l),h.from),e==-1))return i;if(h.to!=null&&(r=M(t?l:Ie(l),h.to),e==1))return r}return i&&{from:i,to:r}},Vr.prototype.changed=function(){var e=this,t=this.find(-1,!0),i=this,r=this.doc.cm;!t||!r||Dt(r,function(){var a=t.line,l=Ie(t.line),h=fo(r,l);if(h&&(eh(h),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Br(i.doc,a)&&i.height!=null){var d=i.height;i.height=null;var g=kn(i)-d;g&&Kt(a,a.height+g)}ot(r,"markerChanged",r,e)})},Vr.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||ke(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Vr.prototype.detachLine=function(e){if(this.lines.splice(ke(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},St(Vr);function Hi(e,t,i,r,a){if(r&&r.shared)return mm(e,t,i,r,a);if(e.cm&&!e.cm.curOp)return lt(e.cm,Hi)(e,t,i,r,a);var l=new Vr(e,a),h=B(t,i);if(r&&ve(r,l,!1),h>0||h==0&&l.clearWhenEmpty!==!1)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=Y("span",[l.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(_f(e,t.line,t,i,l)||t.line!=i.line&&_f(e,i.line,t,i,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");oy()}l.addToHistory&&Mh(e,{from:t,to:i,origin:"markText"},e.sel,NaN);var d=t.line,g=e.cm,x;if(e.iter(d,i.line+1,function(E){g&&l.collapsed&&!g.options.lineWrapping&&Xt(E)==g.display.maxLine&&(x=!0),l.collapsed&&d!=t.line&&Kt(E,0),uy(E,new Ta(l,d==t.line?t.ch:null,d==i.line?i.ch:null),e.cm&&e.cm.curOp),++d}),l.collapsed&&e.iter(t.line,i.line+1,function(E){Br(e,E)&&Kt(E,0)}),l.clearOnEnter&&J(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&(sy(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++qh,l.atomic=!0),g){if(x&&(g.curOp.updateMaxLine=!0),l.collapsed)Et(g,t.line,i.line+1);else if(l.className||l.startStyle||l.endStyle||l.css||l.attributes||l.title)for(var O=t.line;O<=i.line;O++)zr(g,O,"text");l.atomic&&Fh(g.doc),ot(g,"markerAdded",g,l)}return l}var Bn=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};Bn.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ot(this,"clear")}},Bn.prototype.find=function(e,t){return this.primary.find(e,t)},St(Bn);function mm(e,t,i,r,a){r=ve(r),r.shared=!1;var l=[Hi(e,t,i,r,a)],h=l[0],d=r.widgetNode;return Ur(e,function(g){d&&(r.widgetNode=d.cloneNode(!0)),l.push(Hi(g,pe(g,t),pe(g,i),r,a));for(var x=0;x<g.linked.length;++x)if(g.linked[x].isParent)return;h=we(l)}),new Bn(l,h)}function Yh(e){return e.findMarks(M(e.first,0),e.clipPos(M(e.lastLine())),function(t){return t.parent})}function bm(e,t){for(var i=0;i<t.length;i++){var r=t[i],a=r.find(),l=e.clipPos(a.from),h=e.clipPos(a.to);if(B(l,h)){var d=Hi(e,l,h,r.primary,r.primary.type);r.markers.push(d),d.parent=r}}}function xm(e){for(var t=function(r){var a=e[r],l=[a.primary.doc];Ur(a.primary.doc,function(g){return l.push(g)});for(var h=0;h<a.markers.length;h++){var d=a.markers[h];ke(l,d.doc)==-1&&(d.parent=null,a.markers.splice(h--,1))}},i=0;i<e.length;i++)t(i)}var wm=0,At=function(e,t,i,r,a){if(!(this instanceof At))return new At(e,t,i,r,a);i==null&&(i=0),Fn.call(this,[new Dn([new Mi("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var l=M(i,0);this.sel=Hr(l),this.history=new Wa(null),this.id=++wm,this.modeOption=t,this.lineSep=r,this.direction=a=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),Io(this,{from:l,to:l,text:e}),yt(this,Hr(l),Be)};At.prototype=R(Fn.prototype,{constructor:At,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,r=0;r<t.length;++r)i+=t[r].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ai(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:ut(function(e){var t=M(this.first,0),i=this.first+this.size-1;zi(this,{from:t,to:M(i,oe(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Pn(this.cm,0,0),yt(this,Hr(t),Be)}),replaceRange:function(e,t,i,r){t=pe(this,t),i=i?pe(this,i):t,Wi(this,e,t,i,r)},getRange:function(e,t,i){var r=Sr(this,pe(this,e),pe(this,t));return i===!1?r:i===""?r.join(""):r.join(i||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(S(this,e))return oe(this,e)},getLineNumber:function(e){return Ie(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=oe(this,e)),Xt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return pe(this,e)},getCursor:function(e){var t=this.sel.primary(),i;return e==null||e=="head"?i=t.head:e=="anchor"?i=t.anchor:e=="end"||e=="to"||e===!1?i=t.to():i=t.from(),i},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ut(function(e,t,i){$h(this,pe(this,typeof e=="number"?M(e,t||0):e),null,i)}),setSelection:ut(function(e,t,i){$h(this,pe(this,e),pe(this,t||e),i)}),extendSelection:ut(function(e,t,i){ja(this,pe(this,e),t&&pe(this,t),i)}),extendSelections:ut(function(e,t){Nh(this,kf(this,e),t)}),extendSelectionsBy:ut(function(e,t){var i=$t(this.sel.ranges,e);Nh(this,kf(this,i),t)}),setSelections:ut(function(e,t,i){if(e.length){for(var r=[],a=0;a<e.length;a++)r[a]=new Ne(pe(this,e[a].anchor),pe(this,e[a].head||e[a].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),yt(this,Qt(this.cm,r,t),i)}}),addSelection:ut(function(e,t,i){var r=this.sel.ranges.slice(0);r.push(new Ne(pe(this,e),pe(this,t||e))),yt(this,Qt(this.cm,r,r.length-1),i)}),getSelection:function(e){for(var t=this.sel.ranges,i,r=0;r<t.length;r++){var a=Sr(this,t[r].from(),t[r].to());i=i?i.concat(a):a}return e===!1?i:i.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],i=this.sel.ranges,r=0;r<i.length;r++){var a=Sr(this,i[r].from(),i[r].to());e!==!1&&(a=a.join(e||this.lineSeparator())),t[r]=a}return t},replaceSelection:function(e,t,i){for(var r=[],a=0;a<this.sel.ranges.length;a++)r[a]=e;this.replaceSelections(r,t,i||"+input")},replaceSelections:ut(function(e,t,i){for(var r=[],a=this.sel,l=0;l<a.ranges.length;l++){var h=a.ranges[l];r[l]={from:h.from(),to:h.to(),text:this.splitLines(e[l]),origin:i}}for(var d=t&&t!="end"&&lm(this,r,t),g=r.length-1;g>=0;g--)zi(this,r[g]);d?Rh(this,d):this.cm&&Di(this.cm)}),undo:ut(function(){Ga(this,"undo")}),redo:ut(function(){Ga(this,"redo")}),undoSelection:ut(function(){Ga(this,"undo",!0)}),redoSelection:ut(function(){Ga(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var a=0;a<e.undone.length;a++)e.undone[a].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){var e=this;this.history=new Wa(this.history),Ur(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:_i(this.history.done),undone:_i(this.history.undone)}},setHistory:function(e){var t=this.history=new Wa(this.history);t.done=_i(e.done.slice(0),null,!0),t.undone=_i(e.undone.slice(0),null,!0)},setGutterMarker:ut(function(e,t,i){return Rn(this,e,"gutter",function(r){var a=r.gutterMarkers||(r.gutterMarkers={});return a[t]=i,!i&&xt(a)&&(r.gutterMarkers=null),!0})}),clearGutter:ut(function(e){var t=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&Rn(t,i,"gutter",function(){return i.gutterMarkers[e]=null,xt(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!S(this,e)||(t=e,e=oe(this,e),!e))return null}else if(t=Ie(e),t==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ut(function(e,t,i){return Rn(this,e,t=="gutter"?"gutter":"class",function(r){var a=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!r[a])r[a]=i;else{if(ae(i).test(r[a]))return!1;r[a]+=" "+i}return!0})}),removeLineClass:ut(function(e,t,i){return Rn(this,e,t=="gutter"?"gutter":"class",function(r){var a=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",l=r[a];if(l)if(i==null)r[a]=null;else{var h=l.match(ae(i));if(!h)return!1;var d=h.index+h[0].length;r[a]=l.slice(0,h.index)+(!h.index||d==l.length?"":" ")+l.slice(d)||null}else return!1;return!0})}),addLineWidget:ut(function(e,t,i){return ym(this,e,t,i)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return Hi(this,pe(this,e),pe(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){var i={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=pe(this,e),Hi(this,e,e,i,"bookmark")},findMarksAt:function(e){e=pe(this,e);var t=[],i=oe(this,e.line).markedSpans;if(i)for(var r=0;r<i.length;++r){var a=i[r];(a.from==null||a.from<=e.ch)&&(a.to==null||a.to>=e.ch)&&t.push(a.marker.parent||a.marker)}return t},findMarks:function(e,t,i){e=pe(this,e),t=pe(this,t);var r=[],a=e.line;return this.iter(e.line,t.line+1,function(l){var h=l.markedSpans;if(h)for(var d=0;d<h.length;d++){var g=h[d];!(g.to!=null&&a==e.line&&e.ch>=g.to||g.from==null&&a!=e.line||g.from!=null&&a==t.line&&g.from>=t.ch)&&(!i||i(g.marker))&&r.push(g.marker.parent||g.marker)}++a}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var i=t.markedSpans;if(i)for(var r=0;r<i.length;++r)i[r].from!=null&&e.push(i[r].marker)}),e},posFromIndex:function(e){var t,i=this.first,r=this.lineSeparator().length;return this.iter(function(a){var l=a.text.length+r;if(l>e)return t=e,!0;e-=l,++i}),pe(this,M(i,t))},indexFromPos:function(e){e=pe(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,function(r){t+=r.text.length+i}),t},copy:function(e){var t=new At(Ai(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<i&&(i=e.to);var r=new At(Ai(this,t,i),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],bm(r,Yh(this)),r},unlinkDoc:function(e){if(e instanceof We&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var i=this.linked[t];if(i.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),xm(Yh(this));break}}if(e.history==this.history){var r=[e.id];Ur(e,function(a){return r.push(a.id)},!0),e.history=new Wa(null),e.history.done=_i(this.history.done,r),e.history.undone=_i(this.history.undone,r)}},iterLinkedDocs:function(e){Ur(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):mn(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:ut(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&um(this.cm))})}),At.prototype.eachLine=At.prototype.iter;var Xh=0;function Sm(e){var t=this;if(Zh(t),!(Ue(t,e)||Tr(t.display,e))){pt(e),b&&(Xh=+new Date);var i=ni(t,e,!0),r=e.dataTransfer.files;if(!(!i||t.isReadOnly()))if(r&&r.length&&window.FileReader&&window.File)for(var a=r.length,l=Array(a),h=0,d=function(){++h==a&&lt(t,function(){i=pe(t.doc,i);var N={from:i,to:i,text:t.doc.splitLines(l.filter(function(z){return z!=null}).join(t.doc.lineSeparator())),origin:"paste"};zi(t.doc,N),Rh(t.doc,Hr(pe(t.doc,i),pe(t.doc,jr(N))))})()},g=function(N,z){if(t.options.allowDropFileTypes&&ke(t.options.allowDropFileTypes,N.type)==-1){d();return}var V=new FileReader;V.onerror=function(){return d()},V.onload=function(){var K=V.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(K)){d();return}l[z]=K,d()},V.readAsText(N)},x=0;x<r.length;x++)g(r[x],x);else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1){t.state.draggingText(e),setTimeout(function(){return t.display.input.focus()},20);return}try{var O=e.dataTransfer.getData("Text");if(O){var E;if(t.state.draggingText&&!t.state.draggingText.copy&&(E=t.listSelections()),Ua(t.doc,Hr(i,i)),E)for(var $=0;$<E.length;++$)Wi(t.doc,"",E[$].anchor,E[$].head,"drag");t.replaceSelection(O,"around","paste"),t.display.input.focus()}}catch{}}}}function Cm(e,t){if(b&&(!e.state.draggingText||+new Date-Xh<100)){br(t);return}if(!(Ue(e,t)||Tr(e.display,t))&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!F)){var i=k("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",I&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),I&&i.parentNode.removeChild(i)}}function km(e,t){var i=ni(e,t);if(i){var r=document.createDocumentFragment();bo(e,i,r),e.display.dragCursor||(e.display.dragCursor=k("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),X(e.display.dragCursor,r)}}function Zh(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Qh(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),i=[],r=0;r<t.length;r++){var a=t[r].CodeMirror;a&&i.push(a)}i.length&&i[0].operation(function(){for(var l=0;l<i.length;l++)e(i[l])})}}var Jh=!1;function Tm(){Jh||(Om(),Jh=!0)}function Om(){var e;J(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,Qh(Pm)},100))}),J(window,"blur",function(){return Qh(Ri)})}function Pm(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Gr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},zn=0;zn<10;zn++)Gr[zn+48]=Gr[zn+96]=String(zn);for(var Ka=65;Ka<=90;Ka++)Gr[Ka]=String.fromCharCode(Ka);for(var Wn=1;Wn<=12;Wn++)Gr[Wn+111]=Gr[Wn+63235]="F"+Wn;var Pr={};Pr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Pr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Pr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Pr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Pr.default=U?Pr.macDefault:Pr.pcDefault;function Em(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var i,r,a,l,h=0;h<t.length-1;h++){var d=t[h];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))r=!0;else if(/^s(hift)?$/i.test(d))a=!0;else throw new Error("Unrecognized modifier name: "+d)}return i&&(e="Alt-"+e),r&&(e="Ctrl-"+e),l&&(e="Cmd-"+e),a&&(e="Shift-"+e),e}function Am(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if(r=="..."){delete e[i];continue}for(var a=$t(i.split(" "),Em),l=0;l<a.length;l++){var h=void 0,d=void 0;l==a.length-1?(d=a.join(" "),h=r):(d=a.slice(0,l+1).join(" "),h="...");var g=t[d];if(!g)t[d]=h;else if(g!=h)throw new Error("Inconsistent bindings for "+d)}delete e[i]}for(var x in t)e[x]=t[x];return e}function ji(e,t,i,r){t=qa(t);var a=t.call?t.call(e,r):t[e];if(a===!1)return"nothing";if(a==="...")return"multi";if(a!=null&&i(a))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return ji(e,t.fallthrough,i,r);for(var l=0;l<t.fallthrough.length;l++){var h=ji(e,t.fallthrough[l],i,r);if(h)return h}}}function ec(e){var t=typeof e=="string"?e:Gr[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function tc(e,t,i){var r=e;return t.altKey&&r!="Alt"&&(e="Alt-"+e),(he?t.metaKey:t.ctrlKey)&&r!="Ctrl"&&(e="Ctrl-"+e),(he?t.ctrlKey:t.metaKey)&&r!="Mod"&&(e="Cmd-"+e),!i&&t.shiftKey&&r!="Shift"&&(e="Shift-"+e),e}function rc(e,t){if(I&&e.keyCode==34&&e.char)return!1;var i=Gr[e.keyCode];return i==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(i=e.code),tc(i,e,t))}function qa(e){return typeof e=="string"?Pr[e]:e}function Ui(e,t){for(var i=e.doc.sel.ranges,r=[],a=0;a<i.length;a++){for(var l=t(i[a]);r.length&&B(l.from,we(r).to)<=0;){var h=r.pop();if(B(h.from,l.from)<0){l.from=h.from;break}}r.push(l)}Dt(e,function(){for(var d=r.length-1;d>=0;d--)Wi(e.doc,"",r[d].from,r[d].to,"+delete");Di(e)})}function Do(e,t,i){var r=nr(e.text,t+i,i);return r<0||r>e.text.length?null:r}function Fo(e,t,i){var r=Do(e,t.ch,i);return r==null?null:new M(t.line,r,i<0?"after":"before")}function _o(e,t,i,r,a){if(e){t.doc.direction=="rtl"&&(a=-a);var l=Vt(i,t.doc.direction);if(l){var h=a<0?we(l):l[0],d=a<0==(h.level==1),g=d?"after":"before",x;if(h.level>0||t.doc.direction=="rtl"){var O=Ii(t,i);x=a<0?i.text.length-1:0;var E=hr(t,O,x).top;x=je(function($){return hr(t,O,$).top==E},a<0==(h.level==1)?h.from:h.to-1,x),g=="before"&&(x=Do(i,x,1))}else x=a<0?h.to:h.from;return new M(r,x,g)}}return new M(r,a<0?i.text.length:0,a<0?"before":"after")}function Mm(e,t,i,r){var a=Vt(t,e.doc.direction);if(!a)return Fo(t,i,r);i.ch>=t.text.length?(i.ch=t.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var l=Ut(a,i.ch,i.sticky),h=a[l];if(e.doc.direction=="ltr"&&h.level%2==0&&(r>0?h.to>i.ch:h.from<i.ch))return Fo(t,i,r);var d=function(Z,ee){return Do(t,Z instanceof M?Z.ch:Z,ee)},g,x=function(Z){return e.options.lineWrapping?(g=g||Ii(e,t),oh(e,t,g,Z)):{begin:0,end:t.text.length}},O=x(i.sticky=="before"?d(i,-1):i.ch);if(e.doc.direction=="rtl"||h.level==1){var E=h.level==1==r<0,$=d(i,E?1:-1);if($!=null&&(E?$<=h.to&&$<=O.end:$>=h.from&&$>=O.begin)){var N=E?"before":"after";return new M(i.line,$,N)}}var z=function(Z,ee,Q){for(var ne=function(De,ft){return ft?new M(i.line,d(De,1),"before"):new M(i.line,De,"after")};Z>=0&&Z<a.length;Z+=ee){var ce=a[Z],fe=ee>0==(ce.level!=1),Se=fe?Q.begin:d(Q.end,-1);if(ce.from<=Se&&Se<ce.to||(Se=fe?ce.from:d(ce.to,-1),Q.begin<=Se&&Se<Q.end))return ne(Se,fe)}},V=z(l+r,r,O);if(V)return V;var K=r>0?O.end:d(O.begin,-1);return K!=null&&!(r>0&&K==t.text.length)&&(V=z(r>0?0:a.length-1,r,x(K)),V)?V:null}var Hn={selectAll:zh,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Be)},killLine:function(e){return Ui(e,function(t){if(t.empty()){var i=oe(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:M(t.head.line+1,0)}:{from:t.head,to:M(t.head.line,i)}}else return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Ui(e,function(t){return{from:M(t.from().line,0),to:pe(e.doc,M(t.to().line+1,0))}})},delLineLeft:function(e){return Ui(e,function(t){return{from:M(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return Ui(e,function(t){var i=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:i},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){return Ui(e,function(t){var i=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(M(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(M(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return ic(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return nc(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return Lm(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")},ir)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")},ir)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:i},"div");return r.ch<e.getLine(r.line).search(/\S/)?nc(e,t.head):r},ir)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),r=e.options.tabSize,a=0;a<i.length;a++){var l=i[a].from(),h=ue(e.getLine(l.line),l.ch,r);t.push(Je(r-h%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Dt(e,function(){for(var t=e.listSelections(),i=[],r=0;r<t.length;r++)if(t[r].empty()){var a=t[r].head,l=oe(e.doc,a.line).text;if(l){if(a.ch==l.length&&(a=new M(a.line,a.ch-1)),a.ch>0)a=new M(a.line,a.ch+1),e.replaceRange(l.charAt(a.ch-1)+l.charAt(a.ch-2),M(a.line,a.ch-2),a,"+transpose");else if(a.line>e.doc.first){var h=oe(e.doc,a.line-1).text;h&&(a=new M(a.line,1),e.replaceRange(l.charAt(0)+e.doc.lineSeparator()+h.charAt(h.length-1),M(a.line-1,h.length-1),a,"+transpose"))}}i.push(new Ne(a,a))}e.setSelections(i)})},newlineAndIndent:function(e){return Dt(e,function(){for(var t=e.listSelections(),i=t.length-1;i>=0;i--)e.replaceRange(e.doc.lineSeparator(),t[i].anchor,t[i].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Di(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ic(e,t){var i=oe(e.doc,t),r=Xt(i);return r!=i&&(t=Ie(r)),_o(!0,e,r,t,1)}function Lm(e,t){var i=oe(e.doc,t),r=vy(i);return r!=i&&(t=Ie(r)),_o(!0,e,i,t,-1)}function nc(e,t){var i=ic(e,t.line),r=oe(e.doc,i.line),a=Vt(r,e.doc.direction);if(!a||a[0].level==0){var l=Math.max(i.ch,r.text.search(/\S/)),h=t.line==i.line&&t.ch<=l&&t.ch;return M(i.line,h?0:l,i.sticky)}return i}function Ya(e,t,i){if(typeof t=="string"&&(t=Hn[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,a=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),a=t(e)!=ye}finally{e.display.shift=r,e.state.suppressEdits=!1}return a}function Im(e,t,i){for(var r=0;r<e.state.keyMaps.length;r++){var a=ji(t,e.state.keyMaps[r],i,e);if(a)return a}return e.options.extraKeys&&ji(t,e.options.extraKeys,i,e)||ji(t,e.options.keyMap,i,e)}var Nm=new me;function jn(e,t,i,r){var a=e.state.keySeq;if(a){if(ec(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Nm.set(50,function(){e.state.keySeq==a&&(e.state.keySeq=null,e.display.input.reset())}),ac(e,a+" "+t,i,r))return!0}return ac(e,t,i,r)}function ac(e,t,i,r){var a=Im(e,t,r);return a=="multi"&&(e.state.keySeq=t),a=="handled"&&ot(e,"keyHandled",e,t,i),(a=="handled"||a=="multi")&&(pt(i),xo(e)),!!a}function sc(e,t){var i=rc(t,!0);return i?t.shiftKey&&!e.state.keySeq?jn(e,"Shift-"+i,t,function(r){return Ya(e,r,!0)})||jn(e,i,t,function(r){if(typeof r=="string"?/^go[A-Z]/.test(r):r.motion)return Ya(e,r)}):jn(e,i,t,function(r){return Ya(e,r)}):!1}function $m(e,t,i){return jn(e,"'"+i+"'",t,function(r){return Ya(e,r,!0)})}var Bo=null;function oc(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&(t.curOp.focus=Te(Ke(t)),!Ue(t,e))){b&&T<11&&e.keyCode==27&&(e.returnValue=!1);var i=e.keyCode;t.display.shift=i==16||e.shiftKey;var r=sc(t,e);I&&(Bo=r?i:null,!r&&i==88&&!sr&&(U?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),f&&!U&&!r&&i==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),i==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&Rm(t)}}function Rm(e){var t=e.display.lineDiv;Me(t,"CodeMirror-crosshair");function i(r){(r.keyCode==18||!r.altKey)&&(be(t,"CodeMirror-crosshair"),gt(document,"keyup",i),gt(document,"mouseover",i))}J(document,"keyup",i),J(document,"mouseover",i)}function lc(e){e.keyCode==16&&(this.doc.sel.shift=!1),Ue(this,e)}function uc(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&!(Tr(t.display,e)||Ue(t,e)||e.ctrlKey&&!e.altKey||U&&e.metaKey)){var i=e.keyCode,r=e.charCode;if(I&&i==Bo){Bo=null,pt(e);return}if(!(I&&(!e.which||e.which<10)&&sc(t,e))){var a=String.fromCharCode(r??i);a!="\b"&&($m(t,e,a)||t.display.input.onKeyPress(e))}}}var Dm=400,zo=function(e,t,i){this.time=e,this.pos=t,this.button=i};zo.prototype.compare=function(e,t,i){return this.time+Dm>e&&B(t,this.pos)==0&&i==this.button};var Un,Vn;function Fm(e,t){var i=+new Date;return Vn&&Vn.compare(i,e,t)?(Un=Vn=null,"triple"):Un&&Un.compare(i,e,t)?(Vn=new zo(i,e,t),Un=null,"double"):(Un=new zo(i,e,t),Vn=null,"single")}function fc(e){var t=this,i=t.display;if(!(Ue(t,e)||i.activeTouch&&i.input.supportsTouch())){if(i.input.ensurePolled(),i.shift=e.shiftKey,Tr(i,e)){m||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100));return}if(!Wo(t,e)){var r=ni(t,e),a=yn(e),l=r?Fm(r,a):"single";jt(t).focus(),a==1&&t.state.selectingText&&t.state.selectingText(e),!(r&&_m(t,a,r,l,e))&&(a==1?r?zm(t,r,l,e):Pt(e)==i.scroller&&pt(e):a==2?(r&&ja(t.doc,r),setTimeout(function(){return i.input.focus()},20)):a==3&&(le?t.display.input.onContextMenu(e):wo(t)))}}}function _m(e,t,i,r,a){var l="Click";return r=="double"?l="Double"+l:r=="triple"&&(l="Triple"+l),l=(t==1?"Left":t==2?"Middle":"Right")+l,jn(e,tc(l,a),a,function(h){if(typeof h=="string"&&(h=Hn[h]),!h)return!1;var d=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),d=h(e,i)!=ye}finally{e.state.suppressEdits=!1}return d})}function Bm(e,t,i){var r=e.getOption("configureMouse"),a=r?r(e,t,i):{};if(a.unit==null){var l=te?i.shiftKey&&i.metaKey:i.altKey;a.unit=l?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(a.extend==null||e.doc.extend)&&(a.extend=e.doc.extend||i.shiftKey),a.addNew==null&&(a.addNew=U?i.metaKey:i.ctrlKey),a.moveOnDrag==null&&(a.moveOnDrag=!(U?i.altKey:i.ctrlKey)),a}function zm(e,t,i,r){b?setTimeout(qe(hh,e),0):e.curOp.focus=Te(Ke(e));var a=Bm(e,i,r),l=e.doc.sel,h;e.options.dragDrop&&Qs&&!e.isReadOnly()&&i=="single"&&(h=l.contains(t))>-1&&(B((h=l.ranges[h]).from(),t)<0||t.xRel>0)&&(B(h.to(),t)>0||t.xRel<0)?Wm(e,r,t,a):Hm(e,r,t,a)}function Wm(e,t,i,r){var a=e.display,l=!1,h=lt(e,function(x){m&&(a.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:wo(e)),gt(a.wrapper.ownerDocument,"mouseup",h),gt(a.wrapper.ownerDocument,"mousemove",d),gt(a.scroller,"dragstart",g),gt(a.scroller,"drop",h),l||(pt(x),r.addNew||ja(e.doc,i,null,null,r.extend),m&&!F||b&&T==9?setTimeout(function(){a.wrapper.ownerDocument.body.focus({preventScroll:!0}),a.input.focus()},20):a.input.focus())}),d=function(x){l=l||Math.abs(t.clientX-x.clientX)+Math.abs(t.clientY-x.clientY)>=10},g=function(){return l=!0};m&&(a.scroller.draggable=!0),e.state.draggingText=h,h.copy=!r.moveOnDrag,J(a.wrapper.ownerDocument,"mouseup",h),J(a.wrapper.ownerDocument,"mousemove",d),J(a.scroller,"dragstart",g),J(a.scroller,"drop",h),e.state.delayingBlurEvent=!0,setTimeout(function(){return a.input.focus()},20),a.scroller.dragDrop&&a.scroller.dragDrop()}function hc(e,t,i){if(i=="char")return new Ne(t,t);if(i=="word")return e.findWordAt(t);if(i=="line")return new Ne(M(t.line,0),pe(e.doc,M(t.line+1,0)));var r=i(e,t);return new Ne(r.from,r.to)}function Hm(e,t,i,r){b&&wo(e);var a=e.display,l=e.doc;pt(t);var h,d,g=l.sel,x=g.ranges;if(r.addNew&&!r.extend?(d=l.sel.contains(i),d>-1?h=x[d]:h=new Ne(i,i)):(h=l.sel.primary(),d=l.sel.primIndex),r.unit=="rectangle")r.addNew||(h=new Ne(i,i)),i=ni(e,t,!0,!0),d=-1;else{var O=hc(e,i,r.unit);r.extend?h=$o(h,O.anchor,O.head,r.extend):h=O}r.addNew?d==-1?(d=x.length,yt(l,Qt(e,x.concat([h]),d),{scroll:!1,origin:"*mouse"})):x.length>1&&x[d].empty()&&r.unit=="char"&&!r.extend?(yt(l,Qt(e,x.slice(0,d).concat(x.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),g=l.sel):Ro(l,d,h,rr):(d=0,yt(l,new Wt([h],0),rr),g=l.sel);var E=i;function $(Q){if(B(E,Q)!=0)if(E=Q,r.unit=="rectangle"){for(var ne=[],ce=e.options.tabSize,fe=ue(oe(l,i.line).text,i.ch,ce),Se=ue(oe(l,Q.line).text,Q.ch,ce),De=Math.min(fe,Se),ft=Math.max(fe,Se),He=Math.min(i.line,Q.line),Ft=Math.min(e.lastLine(),Math.max(i.line,Q.line));He<=Ft;He++){var Mt=oe(l,He).text,et=Bt(Mt,De,ce);De==ft?ne.push(new Ne(M(He,et),M(He,et))):Mt.length>et&&ne.push(new Ne(M(He,et),M(He,Bt(Mt,ft,ce))))}ne.length||ne.push(new Ne(i,i)),yt(l,Qt(e,g.ranges.slice(0,d).concat(ne),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(Q)}else{var Lt=h,ct=hc(e,Q,r.unit),at=Lt.anchor,tt;B(ct.anchor,at)>0?(tt=ct.head,at=nt(Lt.from(),ct.anchor)):(tt=ct.anchor,at=Ae(Lt.to(),ct.head));var Ge=g.ranges.slice(0);Ge[d]=jm(e,new Ne(pe(l,at),tt)),yt(l,Qt(e,Ge,d),rr)}}var N=a.wrapper.getBoundingClientRect(),z=0;function V(Q){var ne=++z,ce=ni(e,Q,!0,r.unit=="rectangle");if(ce)if(B(ce,E)!=0){e.curOp.focus=Te(Ke(e)),$(ce);var fe=Fa(a,l);(ce.line>=fe.to||ce.line<fe.from)&&setTimeout(lt(e,function(){z==ne&&V(Q)}),150)}else{var Se=Q.clientY<N.top?-20:Q.clientY>N.bottom?20:0;Se&&setTimeout(lt(e,function(){z==ne&&(a.scroller.scrollTop+=Se,V(Q))}),50)}}function K(Q){e.state.selectingText=!1,z=1/0,Q&&(pt(Q),a.input.focus()),gt(a.wrapper.ownerDocument,"mousemove",Z),gt(a.wrapper.ownerDocument,"mouseup",ee),l.history.lastSelOrigin=null}var Z=lt(e,function(Q){Q.buttons===0||!yn(Q)?K(Q):V(Q)}),ee=lt(e,K);e.state.selectingText=ee,J(a.wrapper.ownerDocument,"mousemove",Z),J(a.wrapper.ownerDocument,"mouseup",ee)}function jm(e,t){var i=t.anchor,r=t.head,a=oe(e.doc,i.line);if(B(i,r)==0&&i.sticky==r.sticky)return t;var l=Vt(a);if(!l)return t;var h=Ut(l,i.ch,i.sticky),d=l[h];if(d.from!=i.ch&&d.to!=i.ch)return t;var g=h+(d.from==i.ch==(d.level!=1)?0:1);if(g==0||g==l.length)return t;var x;if(r.line!=i.line)x=(r.line-i.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var O=Ut(l,r.ch,r.sticky),E=O-h||(r.ch-i.ch)*(d.level==1?-1:1);O==g-1||O==g?x=E<0:x=E>0}var $=l[g+(x?-1:0)],N=x==($.level==1),z=N?$.from:$.to,V=N?"after":"before";return i.ch==z&&i.sticky==V?t:new Ne(new M(i.line,z,V),r)}function cc(e,t,i,r){var a,l;if(t.touches)a=t.touches[0].clientX,l=t.touches[0].clientY;else try{a=t.clientX,l=t.clientY}catch{return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&pt(t);var h=e.display,d=h.lineDiv.getBoundingClientRect();if(l>d.bottom||!wt(e,i))return pn(t);l-=d.top-h.viewOffset;for(var g=0;g<e.display.gutterSpecs.length;++g){var x=h.gutters.childNodes[g];if(x&&x.getBoundingClientRect().right>=a){var O=lr(e.doc,l),E=e.display.gutterSpecs[g];return _e(e,i,e,O,E.className,t),pn(t)}}}function Wo(e,t){return cc(e,t,"gutterClick",!0)}function dc(e,t){Tr(e.display,t)||Um(e,t)||Ue(e,t,"contextmenu")||le||e.display.input.onContextMenu(t)}function Um(e,t){return wt(e,"gutterContextMenu")?cc(e,t,"gutterContextMenu",!1):!1}function vc(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Tn(e)}var Vi={toString:function(){return"CodeMirror.Init"}},gc={},Xa={};function Vm(e){var t=e.optionHandlers;function i(r,a,l,h){e.defaults[r]=a,l&&(t[r]=h?function(d,g,x){x!=Vi&&l(d,g,x)}:l)}e.defineOption=i,e.Init=Vi,i("value","",function(r,a){return r.setValue(a)},!0),i("mode",null,function(r,a){r.doc.modeOption=a,Lo(r)},!0),i("indentUnit",2,Lo,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,function(r){Nn(r),Tn(r),Et(r)},!0),i("lineSeparator",null,function(r,a){if(r.doc.lineSep=a,!!a){var l=[],h=r.doc.first;r.doc.iter(function(g){for(var x=0;;){var O=g.text.indexOf(a,x);if(O==-1)break;x=O+a.length,l.push(M(h,O))}h++});for(var d=l.length-1;d>=0;d--)Wi(r.doc,a,l[d],M(l[d].line,l[d].ch+a.length))}}),i("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(r,a,l){r.state.specialChars=new RegExp(a.source+(a.test("	")?"":"|	"),"g"),l!=Vi&&r.refresh()}),i("specialCharPlaceholder",xy,function(r){return r.refresh()},!0),i("electricChars",!0),i("inputStyle",j?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),i("spellcheck",!1,function(r,a){return r.getInputField().spellcheck=a},!0),i("autocorrect",!1,function(r,a){return r.getInputField().autocorrect=a},!0),i("autocapitalize",!1,function(r,a){return r.getInputField().autocapitalize=a},!0),i("rtlMoveVisually",!re),i("wholeLineUpdateBefore",!0),i("theme","default",function(r){vc(r),In(r)},!0),i("keyMap","default",function(r,a,l){var h=qa(a),d=l!=Vi&&qa(l);d&&d.detach&&d.detach(r,h),h.attach&&h.attach(r,d||null)}),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,Km,!0),i("gutters",[],function(r,a){r.display.gutterSpecs=Ao(a,r.options.lineNumbers),In(r)},!0),i("fixedGutter",!0,function(r,a){r.display.gutters.style.left=a?yo(r.display)+"px":"0",r.refresh()},!0),i("coverGutterNextToScrollbar",!1,function(r){return Fi(r)},!0),i("scrollbarStyle","native",function(r){yh(r),Fi(r),r.display.scrollbars.setScrollTop(r.doc.scrollTop),r.display.scrollbars.setScrollLeft(r.doc.scrollLeft)},!0),i("lineNumbers",!1,function(r,a){r.display.gutterSpecs=Ao(r.options.gutters,a),In(r)},!0),i("firstLineNumber",1,In,!0),i("lineNumberFormatter",function(r){return r},In,!0),i("showCursorWhenSelecting",!1,On,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,function(r,a){a=="nocursor"&&(Ri(r),r.display.input.blur()),r.display.input.readOnlyChanged(a)}),i("screenReaderLabel",null,function(r,a){a=a===""?null:a,r.display.input.screenReaderLabelChanged(a)}),i("disableInput",!1,function(r,a){a||r.display.input.reset()},!0),i("dragDrop",!0,Gm),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,On,!0),i("singleCursorHeightPerLine",!0,On,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,Nn,!0),i("addModeClass",!1,Nn,!0),i("pollInterval",100),i("undoDepth",200,function(r,a){return r.doc.history.undoDepth=a}),i("historyEventDelay",1250),i("viewportMargin",10,function(r){return r.refresh()},!0),i("maxHighlightLength",1e4,Nn,!0),i("moveInputWithCursor",!0,function(r,a){a||r.display.input.resetPosition()}),i("tabindex",null,function(r,a){return r.display.input.getField().tabIndex=a||""}),i("autofocus",null),i("direction","ltr",function(r,a){return r.doc.setDirection(a)},!0),i("phrases",null)}function Gm(e,t,i){var r=i&&i!=Vi;if(!t!=!r){var a=e.display.dragFunctions,l=t?J:gt;l(e.display.scroller,"dragstart",a.start),l(e.display.scroller,"dragenter",a.enter),l(e.display.scroller,"dragover",a.over),l(e.display.scroller,"dragleave",a.leave),l(e.display.scroller,"drop",a.drop)}}function Km(e){e.options.lineWrapping?(Me(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(be(e.display.wrapper,"CodeMirror-wrap"),so(e)),mo(e),Et(e),Tn(e),setTimeout(function(){return Fi(e)},100)}function We(e,t){var i=this;if(!(this instanceof We))return new We(e,t);this.options=t=t?ve(t):{},ve(gc,t,!1);var r=t.value;typeof r=="string"?r=new At(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var a=new We.inputStyles[t.inputStyle](this),l=this.display=new sm(e,r,a,t);l.wrapper.CodeMirror=this,vc(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),yh(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new me,keySeq:null,specialChars:null},t.autofocus&&!j&&l.input.focus(),b&&T<11&&setTimeout(function(){return i.display.input.reset(!0)},20),qm(this),Tm(),li(this),this.curOp.forceUpdate=!0,Ph(this,r),t.autofocus&&!j||this.hasFocus()?setTimeout(function(){i.hasFocus()&&!i.state.focused&&So(i)},20):Ri(this);for(var h in Xa)Xa.hasOwnProperty(h)&&Xa[h](this,t[h],Vi);xh(this),t.finishInit&&t.finishInit(this);for(var d=0;d<Ho.length;++d)Ho[d](this);ui(this),m&&t.lineWrapping&&getComputedStyle(l.lineDiv).textRendering=="optimizelegibility"&&(l.lineDiv.style.textRendering="auto")}We.defaults=gc,We.optionHandlers=Xa;function qm(e){var t=e.display;J(t.scroller,"mousedown",lt(e,fc)),b&&T<11?J(t.scroller,"dblclick",lt(e,function(g){if(!Ue(e,g)){var x=ni(e,g);if(!(!x||Wo(e,g)||Tr(e.display,g))){pt(g);var O=e.findWordAt(x);ja(e.doc,O.anchor,O.head)}}})):J(t.scroller,"dblclick",function(g){return Ue(e,g)||pt(g)}),J(t.scroller,"contextmenu",function(g){return dc(e,g)}),J(t.input.getField(),"contextmenu",function(g){t.scroller.contains(g.target)||dc(e,g)});var i,r={end:0};function a(){t.activeTouch&&(i=setTimeout(function(){return t.activeTouch=null},1e3),r=t.activeTouch,r.end=+new Date)}function l(g){if(g.touches.length!=1)return!1;var x=g.touches[0];return x.radiusX<=1&&x.radiusY<=1}function h(g,x){if(x.left==null)return!0;var O=x.left-g.left,E=x.top-g.top;return O*O+E*E>20*20}J(t.scroller,"touchstart",function(g){if(!Ue(e,g)&&!l(g)&&!Wo(e,g)){t.input.ensurePolled(),clearTimeout(i);var x=+new Date;t.activeTouch={start:x,moved:!1,prev:x-r.end<=300?r:null},g.touches.length==1&&(t.activeTouch.left=g.touches[0].pageX,t.activeTouch.top=g.touches[0].pageY)}}),J(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),J(t.scroller,"touchend",function(g){var x=t.activeTouch;if(x&&!Tr(t,g)&&x.left!=null&&!x.moved&&new Date-x.start<300){var O=e.coordsChar(t.activeTouch,"page"),E;!x.prev||h(x,x.prev)?E=new Ne(O,O):!x.prev.prev||h(x,x.prev.prev)?E=e.findWordAt(O):E=new Ne(M(O.line,0),pe(e.doc,M(O.line+1,0))),e.setSelection(E.anchor,E.head),e.focus(),pt(g)}a()}),J(t.scroller,"touchcancel",a),J(t.scroller,"scroll",function(){t.scroller.clientHeight&&(En(e,t.scroller.scrollTop),si(e,t.scroller.scrollLeft,!0),_e(e,"scroll",e))}),J(t.scroller,"mousewheel",function(g){return Ch(e,g)}),J(t.scroller,"DOMMouseScroll",function(g){return Ch(e,g)}),J(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(g){Ue(e,g)||br(g)},over:function(g){Ue(e,g)||(km(e,g),br(g))},start:function(g){return Cm(e,g)},drop:lt(e,Sm),leave:function(g){Ue(e,g)||Zh(e)}};var d=t.input.getField();J(d,"keyup",function(g){return lc.call(e,g)}),J(d,"keydown",lt(e,oc)),J(d,"keypress",lt(e,uc)),J(d,"focus",function(g){return So(e,g)}),J(d,"blur",function(g){return Ri(e,g)})}var Ho=[];We.defineInitHook=function(e){return Ho.push(e)};function Gn(e,t,i,r){var a=e.doc,l;i==null&&(i="add"),i=="smart"&&(a.mode.indent?l=xn(e,t).state:i="prev");var h=e.options.tabSize,d=oe(a,t),g=ue(d.text,null,h);d.stateAfter&&(d.stateAfter=null);var x=d.text.match(/^\s*/)[0],O;if(!r&&!/\S/.test(d.text))O=0,i="not";else if(i=="smart"&&(O=a.mode.indent(l,d.text.slice(x.length),d.text),O==ye||O>150)){if(!r)return;i="prev"}i=="prev"?t>a.first?O=ue(oe(a,t-1).text,null,h):O=0:i=="add"?O=g+e.options.indentUnit:i=="subtract"?O=g-e.options.indentUnit:typeof i=="number"&&(O=g+i),O=Math.max(0,O);var E="",$=0;if(e.options.indentWithTabs)for(var N=Math.floor(O/h);N;--N)$+=h,E+="	";if($<O&&(E+=Je(O-$)),E!=x)return Wi(a,E,M(t,0),M(t,x.length),"+input"),d.stateAfter=null,!0;for(var z=0;z<a.sel.ranges.length;z++){var V=a.sel.ranges[z];if(V.head.line==t&&V.head.ch<x.length){var K=M(t,x.length);Ro(a,z,new Ne(K,K));break}}}var Jt=null;function Za(e){Jt=e}function jo(e,t,i,r,a){var l=e.doc;e.display.shift=!1,r||(r=l.sel);var h=+new Date-200,d=a=="paste"||e.state.pasteIncoming>h,g=mn(t),x=null;if(d&&r.ranges.length>1)if(Jt&&Jt.text.join(`
`)==t){if(r.ranges.length%Jt.text.length==0){x=[];for(var O=0;O<Jt.text.length;O++)x.push(l.splitLines(Jt.text[O]))}}else g.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(x=$t(g,function(Z){return[Z]}));for(var E=e.curOp.updateInput,$=r.ranges.length-1;$>=0;$--){var N=r.ranges[$],z=N.from(),V=N.to();N.empty()&&(i&&i>0?z=M(z.line,z.ch-i):e.state.overwrite&&!d?V=M(V.line,Math.min(oe(l,V.line).text.length,V.ch+we(g).length)):d&&Jt&&Jt.lineWise&&Jt.text.join(`
`)==g.join(`
`)&&(z=V=M(z.line,0)));var K={from:z,to:V,text:x?x[$%x.length]:g,origin:a||(d?"paste":e.state.cutIncoming>h?"cut":"+input")};zi(e.doc,K),ot(e,"inputRead",e,K)}t&&!d&&yc(e,t),Di(e),e.curOp.updateInput<2&&(e.curOp.updateInput=E),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function pc(e,t){var i=e.clipboardData&&e.clipboardData.getData("Text");if(i)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&t.hasFocus()&&Dt(t,function(){return jo(t,i,0,null,"paste")}),!0}function yc(e,t){if(!(!e.options.electricChars||!e.options.smartIndent))for(var i=e.doc.sel,r=i.ranges.length-1;r>=0;r--){var a=i.ranges[r];if(!(a.head.ch>100||r&&i.ranges[r-1].head.line==a.head.line)){var l=e.getModeAt(a.head),h=!1;if(l.electricChars){for(var d=0;d<l.electricChars.length;d++)if(t.indexOf(l.electricChars.charAt(d))>-1){h=Gn(e,a.head.line,"smart");break}}else l.electricInput&&l.electricInput.test(oe(e.doc,a.head.line).text.slice(0,a.head.ch))&&(h=Gn(e,a.head.line,"smart"));h&&ot(e,"electricInput",e,a.head.line)}}}function mc(e){for(var t=[],i=[],r=0;r<e.doc.sel.ranges.length;r++){var a=e.doc.sel.ranges[r].head.line,l={anchor:M(a,0),head:M(a+1,0)};i.push(l),t.push(e.getRange(l.anchor,l.head))}return{text:t,ranges:i}}function bc(e,t,i,r){e.setAttribute("autocorrect",i?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function xc(){var e=k("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=k("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return m?e.style.width="1000px":e.setAttribute("wrap","off"),P&&(e.style.border="1px solid black"),bc(e),t}function Ym(e){var t=e.optionHandlers,i=e.helpers={};e.prototype={constructor:e,focus:function(){jt(this).focus(),this.display.input.focus()},setOption:function(r,a){var l=this.options,h=l[r];l[r]==a&&r!="mode"||(l[r]=a,t.hasOwnProperty(r)&&lt(this,t[r])(this,a,h),_e(this,"optionChange",this,r))},getOption:function(r){return this.options[r]},getDoc:function(){return this.doc},addKeyMap:function(r,a){this.state.keyMaps[a?"push":"unshift"](qa(r))},removeKeyMap:function(r){for(var a=this.state.keyMaps,l=0;l<a.length;++l)if(a[l]==r||a[l].name==r)return a.splice(l,1),!0},addOverlay:Ct(function(r,a){var l=r.token?r:e.getMode(this.options,r);if(l.startState)throw new Error("Overlays may not be stateful.");Jr(this.state.overlays,{mode:l,modeSpec:r,opaque:a&&a.opaque,priority:a&&a.priority||0},function(h){return h.priority}),this.state.modeGen++,Et(this)}),removeOverlay:Ct(function(r){for(var a=this.state.overlays,l=0;l<a.length;++l){var h=a[l].modeSpec;if(h==r||typeof r=="string"&&h.name==r){a.splice(l,1),this.state.modeGen++,Et(this);return}}}),indentLine:Ct(function(r,a,l){typeof a!="string"&&typeof a!="number"&&(a==null?a=this.options.smartIndent?"smart":"prev":a=a?"add":"subtract"),S(this.doc,r)&&Gn(this,r,a,l)}),indentSelection:Ct(function(r){for(var a=this.doc.sel.ranges,l=-1,h=0;h<a.length;h++){var d=a[h];if(d.empty())d.head.line>l&&(Gn(this,d.head.line,r,!0),l=d.head.line,h==this.doc.sel.primIndex&&Di(this));else{var g=d.from(),x=d.to(),O=Math.max(l,g.line);l=Math.min(this.lastLine(),x.line-(x.ch?0:1))+1;for(var E=O;E<l;++E)Gn(this,E,r);var $=this.doc.sel.ranges;g.ch==0&&a.length==$.length&&$[h].from().ch>0&&Ro(this.doc,h,new Ne(g,$[h].to()),Be)}}}),getTokenAt:function(r,a){return Af(this,r,a)},getLineTokens:function(r,a){return Af(this,M(r),a,!0)},getTokenTypeAt:function(r){r=pe(this.doc,r);var a=Of(this,oe(this.doc,r.line)),l=0,h=(a.length-1)/2,d=r.ch,g;if(d==0)g=a[2];else for(;;){var x=l+h>>1;if((x?a[x*2-1]:0)>=d)h=x;else if(a[x*2+1]<d)l=x+1;else{g=a[x*2+2];break}}var O=g?g.indexOf("overlay "):-1;return O<0?g:O==0?null:g.slice(0,O-1)},getModeAt:function(r){var a=this.doc.mode;return a.innerMode?e.innerMode(a,this.getTokenAt(r).state).mode:a},getHelper:function(r,a){return this.getHelpers(r,a)[0]},getHelpers:function(r,a){var l=[];if(!i.hasOwnProperty(a))return l;var h=i[a],d=this.getModeAt(r);if(typeof d[a]=="string")h[d[a]]&&l.push(h[d[a]]);else if(d[a])for(var g=0;g<d[a].length;g++){var x=h[d[a][g]];x&&l.push(x)}else d.helperType&&h[d.helperType]?l.push(h[d.helperType]):h[d.name]&&l.push(h[d.name]);for(var O=0;O<h._global.length;O++){var E=h._global[O];E.pred(d,this)&&ke(l,E.val)==-1&&l.push(E.val)}return l},getStateAfter:function(r,a){var l=this.doc;return r=zt(l,r??l.first+l.size-1),xn(this,r+1,a).state},cursorCoords:function(r,a){var l,h=this.doc.sel.primary();return r==null?l=h.head:typeof r=="object"?l=pe(this.doc,r):l=r?h.from():h.to(),Zt(this,l,a||"page")},charCoords:function(r,a){return Na(this,pe(this.doc,r),a||"page")},coordsChar:function(r,a){return r=nh(this,r,a||"page"),vo(this,r.left,r.top)},lineAtHeight:function(r,a){return r=nh(this,{top:r,left:0},a||"page").top,lr(this.doc,r+this.display.viewOffset)},heightAtLine:function(r,a,l){var h=!1,d;if(typeof r=="number"){var g=this.doc.first+this.doc.size-1;r<this.doc.first?r=this.doc.first:r>g&&(r=g,h=!0),d=oe(this.doc,r)}else d=r;return Ia(this,d,{top:0,left:0},a||"page",l||h).top+(h?this.doc.height-kr(d):0)},defaultTextHeight:function(){return Ni(this.display)},defaultCharWidth:function(){return $i(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(r,a,l,h,d){var g=this.display;r=Zt(this,pe(this.doc,r));var x=r.bottom,O=r.left;if(a.style.position="absolute",a.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(a),g.sizer.appendChild(a),h=="over")x=r.top;else if(h=="above"||h=="near"){var E=Math.max(g.wrapper.clientHeight,this.doc.height),$=Math.max(g.sizer.clientWidth,g.lineSpace.clientWidth);(h=="above"||r.bottom+a.offsetHeight>E)&&r.top>a.offsetHeight?x=r.top-a.offsetHeight:r.bottom+a.offsetHeight<=E&&(x=r.bottom),O+a.offsetWidth>$&&(O=$-a.offsetWidth)}a.style.top=x+"px",a.style.left=a.style.right="",d=="right"?(O=g.sizer.clientWidth-a.offsetWidth,a.style.right="0px"):(d=="left"?O=0:d=="middle"&&(O=(g.sizer.clientWidth-a.offsetWidth)/2),a.style.left=O+"px"),l&&Gy(this,{left:O,top:x,right:O+a.offsetWidth,bottom:x+a.offsetHeight})},triggerOnKeyDown:Ct(oc),triggerOnKeyPress:Ct(uc),triggerOnKeyUp:lc,triggerOnMouseDown:Ct(fc),execCommand:function(r){if(Hn.hasOwnProperty(r))return Hn[r].call(null,this)},triggerElectric:Ct(function(r){yc(this,r)}),findPosH:function(r,a,l,h){var d=1;a<0&&(d=-1,a=-a);for(var g=pe(this.doc,r),x=0;x<a&&(g=Uo(this.doc,g,d,l,h),!g.hitSide);++x);return g},moveH:Ct(function(r,a){var l=this;this.extendSelectionsBy(function(h){return l.display.shift||l.doc.extend||h.empty()?Uo(l.doc,h.head,r,a,l.options.rtlMoveVisually):r<0?h.from():h.to()},ir)}),deleteH:Ct(function(r,a){var l=this.doc.sel,h=this.doc;l.somethingSelected()?h.replaceSelection("",null,"+delete"):Ui(this,function(d){var g=Uo(h,d.head,r,a,!1);return r<0?{from:g,to:d.head}:{from:d.head,to:g}})}),findPosV:function(r,a,l,h){var d=1,g=h;a<0&&(d=-1,a=-a);for(var x=pe(this.doc,r),O=0;O<a;++O){var E=Zt(this,x,"div");if(g==null?g=E.left:E.left=g,x=wc(this,E,d,l),x.hitSide)break}return x},moveV:Ct(function(r,a){var l=this,h=this.doc,d=[],g=!this.display.shift&&!h.extend&&h.sel.somethingSelected();if(h.extendSelectionsBy(function(O){if(g)return r<0?O.from():O.to();var E=Zt(l,O.head,"div");O.goalColumn!=null&&(E.left=O.goalColumn),d.push(E.left);var $=wc(l,E,r,a);return a=="page"&&O==h.sel.primary()&&ko(l,Na(l,$,"div").top-E.top),$},ir),d.length)for(var x=0;x<h.sel.ranges.length;x++)h.sel.ranges[x].goalColumn=d[x]}),findWordAt:function(r){var a=this.doc,l=oe(a,r.line).text,h=r.ch,d=r.ch;if(l){var g=this.getHelper(r,"wordChars");(r.sticky=="before"||d==l.length)&&h?--h:++d;for(var x=l.charAt(h),O=Pe(x,g)?function(E){return Pe(E,g)}:/\s/.test(x)?function(E){return/\s/.test(E)}:function(E){return!/\s/.test(E)&&!Pe(E)};h>0&&O(l.charAt(h-1));)--h;for(;d<l.length&&O(l.charAt(d));)++d}return new Ne(M(r.line,h),M(r.line,d))},toggleOverwrite:function(r){r!=null&&r==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Me(this.display.cursorDiv,"CodeMirror-overwrite"):be(this.display.cursorDiv,"CodeMirror-overwrite"),_e(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Te(Ke(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Ct(function(r,a){Pn(this,r,a)}),getScrollInfo:function(){var r=this.display.scroller;return{left:r.scrollLeft,top:r.scrollTop,height:r.scrollHeight-fr(this)-this.display.barHeight,width:r.scrollWidth-fr(this)-this.display.barWidth,clientHeight:uo(this),clientWidth:ri(this)}},scrollIntoView:Ct(function(r,a){r==null?(r={from:this.doc.sel.primary().head,to:null},a==null&&(a=this.options.cursorScrollMargin)):typeof r=="number"?r={from:M(r,0),to:null}:r.from==null&&(r={from:r,to:null}),r.to||(r.to=r.from),r.margin=a||0,r.from.line!=null?Ky(this,r):dh(this,r.from,r.to,r.margin)}),setSize:Ct(function(r,a){var l=this,h=function(g){return typeof g=="number"||/^\d+$/.test(String(g))?g+"px":g};r!=null&&(this.display.wrapper.style.width=h(r)),a!=null&&(this.display.wrapper.style.height=h(a)),this.options.lineWrapping&&th(this);var d=this.display.viewFrom;this.doc.iter(d,this.display.viewTo,function(g){if(g.widgets){for(var x=0;x<g.widgets.length;x++)if(g.widgets[x].noHScroll){zr(l,d,"widget");break}}++d}),this.curOp.forceUpdate=!0,_e(this,"refresh",this)}),operation:function(r){return Dt(this,r)},startOperation:function(){return li(this)},endOperation:function(){return ui(this)},refresh:Ct(function(){var r=this.display.cachedTextHeight;Et(this),this.curOp.forceUpdate=!0,Tn(this),Pn(this,this.doc.scrollLeft,this.doc.scrollTop),Po(this.display),(r==null||Math.abs(r-Ni(this.display))>.5||this.options.lineWrapping)&&mo(this),_e(this,"refresh",this)}),swapDoc:Ct(function(r){var a=this.doc;return a.cm=null,this.state.selectingText&&this.state.selectingText(),Ph(this,r),Tn(this),this.display.input.reset(),Pn(this,r.scrollLeft,r.scrollTop),this.curOp.forceScroll=!0,ot(this,"swapDoc",this,a),a}),phrase:function(r){var a=this.options.phrases;return a&&Object.prototype.hasOwnProperty.call(a,r)?a[r]:r},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},St(e),e.registerHelper=function(r,a,l){i.hasOwnProperty(r)||(i[r]=e[r]={_global:[]}),i[r][a]=l},e.registerGlobalHelper=function(r,a,l,h){e.registerHelper(r,a,h),i[r]._global.push({pred:l,val:h})}}function Uo(e,t,i,r,a){var l=t,h=i,d=oe(e,t.line),g=a&&e.direction=="rtl"?-i:i;function x(){var ee=t.line+g;return ee<e.first||ee>=e.first+e.size?!1:(t=new M(ee,t.ch,t.sticky),d=oe(e,ee))}function O(ee){var Q;if(r=="codepoint"){var ne=d.text.charCodeAt(t.ch+(i>0?0:-1));if(isNaN(ne))Q=null;else{var ce=i>0?ne>=55296&&ne<56320:ne>=56320&&ne<57343;Q=new M(t.line,Math.max(0,Math.min(d.text.length,t.ch+i*(ce?2:1))),-i)}}else a?Q=Mm(e.cm,d,t,i):Q=Fo(d,t,i);if(Q==null)if(!ee&&x())t=_o(a,e.cm,d,t.line,g);else return!1;else t=Q;return!0}if(r=="char"||r=="codepoint")O();else if(r=="column")O(!0);else if(r=="word"||r=="group")for(var E=null,$=r=="group",N=e.cm&&e.cm.getHelper(t,"wordChars"),z=!0;!(i<0&&!O(!z));z=!1){var V=d.text.charAt(t.ch)||`
`,K=Pe(V,N)?"w":$&&V==`
`?"n":!$||/\s/.test(V)?null:"p";if($&&!z&&!K&&(K="s"),E&&E!=K){i<0&&(i=1,O(),t.sticky="after");break}if(K&&(E=K),i>0&&!O(!z))break}var Z=Va(e,t,l,h,!0);return ge(l,Z)&&(Z.hitSide=!0),Z}function wc(e,t,i,r){var a=e.doc,l=t.left,h;if(r=="page"){var d=Math.min(e.display.wrapper.clientHeight,jt(e).innerHeight||a(e).documentElement.clientHeight),g=Math.max(d-.5*Ni(e.display),3);h=(i>0?t.bottom:t.top)+i*g}else r=="line"&&(h=i>0?t.bottom+3:t.top-3);for(var x;x=vo(e,l,h),!!x.outside;){if(i<0?h<=0:h>=a.height){x.hitSide=!0;break}h+=i*5}return x}var $e=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new me,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};$e.prototype.init=function(e){var t=this,i=this,r=i.cm,a=i.div=e.lineDiv;a.contentEditable=!0,bc(a,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize);function l(d){for(var g=d.target;g;g=g.parentNode){if(g==a)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(g.className))break}return!1}J(a,"paste",function(d){!l(d)||Ue(r,d)||pc(d,r)||T<=11&&setTimeout(lt(r,function(){return t.updateFromDOM()}),20)}),J(a,"compositionstart",function(d){t.composing={data:d.data,done:!1}}),J(a,"compositionupdate",function(d){t.composing||(t.composing={data:d.data,done:!1})}),J(a,"compositionend",function(d){t.composing&&(d.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),J(a,"touchstart",function(){return i.forceCompositionEnd()}),J(a,"input",function(){t.composing||t.readFromDOMSoon()});function h(d){if(!(!l(d)||Ue(r,d))){if(r.somethingSelected())Za({lineWise:!1,text:r.getSelections()}),d.type=="cut"&&r.replaceSelection("",null,"cut");else if(r.options.lineWiseCopyCut){var g=mc(r);Za({lineWise:!0,text:g.text}),d.type=="cut"&&r.operation(function(){r.setSelections(g.ranges,0,Be),r.replaceSelection("",null,"cut")})}else return;if(d.clipboardData){d.clipboardData.clearData();var x=Jt.text.join(`
`);if(d.clipboardData.setData("Text",x),d.clipboardData.getData("Text")==x){d.preventDefault();return}}var O=xc(),E=O.firstChild;r.display.lineSpace.insertBefore(O,r.display.lineSpace.firstChild),E.value=Jt.text.join(`
`);var $=Te(a.ownerDocument);mr(E),setTimeout(function(){r.display.lineSpace.removeChild(O),$.focus(),$==a&&i.showPrimarySelection()},50)}}J(a,"copy",h),J(a,"cut",h)},$e.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},$e.prototype.prepareSelection=function(){var e=fh(this.cm,!1);return e.focus=Te(this.div.ownerDocument)==this.div,e},$e.prototype.showSelection=function(e,t){!e||!this.cm.display.view.length||((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},$e.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},$e.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,i=t.doc.sel.primary(),r=i.from(),a=i.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||a.line<t.display.viewFrom){e.removeAllRanges();return}var l=Qa(t,e.anchorNode,e.anchorOffset),h=Qa(t,e.focusNode,e.focusOffset);if(!(l&&!l.bad&&h&&!h.bad&&B(nt(l,h),r)==0&&B(Ae(l,h),a)==0)){var d=t.display.view,g=r.line>=t.display.viewFrom&&Sc(t,r)||{node:d[0].measure.map[2],offset:0},x=a.line<t.display.viewTo&&Sc(t,a);if(!x){var O=d[d.length-1].measure,E=O.maps?O.maps[O.maps.length-1]:O.map;x={node:E[E.length-1],offset:E[E.length-2]-E[E.length-3]}}if(!g||!x){e.removeAllRanges();return}var $=e.rangeCount&&e.getRangeAt(0),N;try{N=G(g.node,g.offset,x.offset,x.node)}catch{}N&&(!f&&t.state.focused?(e.collapse(g.node,g.offset),N.collapsed||(e.removeAllRanges(),e.addRange(N))):(e.removeAllRanges(),e.addRange(N)),$&&e.anchorNode==null?e.addRange($):f&&this.startGracePeriod()),this.rememberSelection()}},$e.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},$e.prototype.showMultipleSelections=function(e){X(this.cm.display.cursorDiv,e.cursors),X(this.cm.display.selectionDiv,e.selection)},$e.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},$e.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return se(this.div,t)},$e.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Te(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},$e.prototype.blur=function(){this.div.blur()},$e.prototype.getField=function(){return this.div},$e.prototype.supportsTouch=function(){return!0},$e.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):Dt(this.cm,function(){return t.cm.curOp.selectionChanged=!0});function i(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,i))}this.polling.set(this.cm.options.pollInterval,i)},$e.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},$e.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var e=this.getSelection(),t=this.cm;if(D&&w&&this.cm.display.gutterSpecs.length&&Xm(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var i=Qa(t,e.anchorNode,e.anchorOffset),r=Qa(t,e.focusNode,e.focusOffset);i&&r&&Dt(t,function(){yt(t.doc,Hr(i,r),Be),(i.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},$e.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,i=e.doc.sel.primary(),r=i.from(),a=i.to();if(r.ch==0&&r.line>e.firstLine()&&(r=M(r.line-1,oe(e.doc,r.line-1).length)),a.ch==oe(e.doc,a.line).text.length&&a.line<e.lastLine()&&(a=M(a.line+1,0)),r.line<t.viewFrom||a.line>t.viewTo-1)return!1;var l,h,d;r.line==t.viewFrom||(l=ai(e,r.line))==0?(h=Ie(t.view[0].line),d=t.view[0].node):(h=Ie(t.view[l].line),d=t.view[l-1].node.nextSibling);var g=ai(e,a.line),x,O;if(g==t.view.length-1?(x=t.viewTo-1,O=t.lineDiv.lastChild):(x=Ie(t.view[g+1].line)-1,O=t.view[g+1].node.previousSibling),!d)return!1;for(var E=e.doc.splitLines(Zm(e,d,O,h,x)),$=Sr(e.doc,M(h,0),M(x,oe(e.doc,x).text.length));E.length>1&&$.length>1;)if(we(E)==we($))E.pop(),$.pop(),x--;else if(E[0]==$[0])E.shift(),$.shift(),h++;else break;for(var N=0,z=0,V=E[0],K=$[0],Z=Math.min(V.length,K.length);N<Z&&V.charCodeAt(N)==K.charCodeAt(N);)++N;for(var ee=we(E),Q=we($),ne=Math.min(ee.length-(E.length==1?N:0),Q.length-($.length==1?N:0));z<ne&&ee.charCodeAt(ee.length-z-1)==Q.charCodeAt(Q.length-z-1);)++z;if(E.length==1&&$.length==1&&h==r.line)for(;N&&N>r.ch&&ee.charCodeAt(ee.length-z-1)==Q.charCodeAt(Q.length-z-1);)N--,z++;E[E.length-1]=ee.slice(0,ee.length-z).replace(/^\u200b+/,""),E[0]=E[0].slice(N).replace(/\u200b+$/,"");var ce=M(h,N),fe=M(x,$.length?we($).length-z:0);if(E.length>1||E[0]||B(ce,fe))return Wi(e.doc,E,ce,fe,"+input"),!0},$e.prototype.ensurePolled=function(){this.forceCompositionEnd()},$e.prototype.reset=function(){this.forceCompositionEnd()},$e.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},$e.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing)if(e.composing.done)e.composing=null;else return;e.updateFromDOM()},80))},$e.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&Dt(this.cm,function(){return Et(e.cm)})},$e.prototype.setUneditable=function(e){e.contentEditable="false"},$e.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||lt(this.cm,jo)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},$e.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},$e.prototype.onContextMenu=function(){},$e.prototype.resetPosition=function(){},$e.prototype.needsContentAttribute=!0;function Sc(e,t){var i=fo(e,t.line);if(!i||i.hidden)return null;var r=oe(e.doc,t.line),a=Xf(i,r,t.line),l=Vt(r,e.doc.direction),h="left";if(l){var d=Ut(l,t.ch);h=d%2?"right":"left"}var g=Jf(a.map,t.ch,h);return g.offset=g.collapse=="right"?g.end:g.start,g}function Xm(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function Gi(e,t){return t&&(e.bad=!0),e}function Zm(e,t,i,r,a){var l="",h=!1,d=e.doc.lineSeparator(),g=!1;function x(N){return function(z){return z.id==N}}function O(){h&&(l+=d,g&&(l+=d),h=g=!1)}function E(N){N&&(O(),l+=N)}function $(N){if(N.nodeType==1){var z=N.getAttribute("cm-text");if(z){E(z);return}var V=N.getAttribute("cm-marker"),K;if(V){var Z=e.findMarks(M(r,0),M(a+1,0),x(+V));Z.length&&(K=Z[0].find(0))&&E(Sr(e.doc,K.from,K.to).join(d));return}if(N.getAttribute("contenteditable")=="false")return;var ee=/^(pre|div|p|li|table|br)$/i.test(N.nodeName);if(!/^br$/i.test(N.nodeName)&&N.textContent.length==0)return;ee&&O();for(var Q=0;Q<N.childNodes.length;Q++)$(N.childNodes[Q]);/^(pre|p)$/i.test(N.nodeName)&&(g=!0),ee&&(h=!0)}else N.nodeType==3&&E(N.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;$(t),t!=i;)t=t.nextSibling,g=!1;return l}function Qa(e,t,i){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[i],!r)return Gi(e.clipPos(M(e.display.viewTo-1)),!0);t=null,i=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var a=0;a<e.display.view.length;a++){var l=e.display.view[a];if(l.node==r)return Qm(l,t,i)}}function Qm(e,t,i){var r=e.text.firstChild,a=!1;if(!t||!se(r,t))return Gi(M(Ie(e.line),0),!0);if(t==r&&(a=!0,t=r.childNodes[i],i=0,!t)){var l=e.rest?we(e.rest):e.line;return Gi(M(Ie(l),l.text.length),a)}var h=t.nodeType==3?t:null,d=t;for(!h&&t.childNodes.length==1&&t.firstChild.nodeType==3&&(h=t.firstChild,i&&(i=h.nodeValue.length));d.parentNode!=r;)d=d.parentNode;var g=e.measure,x=g.maps;function O(K,Z,ee){for(var Q=-1;Q<(x?x.length:0);Q++)for(var ne=Q<0?g.map:x[Q],ce=0;ce<ne.length;ce+=3){var fe=ne[ce+2];if(fe==K||fe==Z){var Se=Ie(Q<0?e.line:e.rest[Q]),De=ne[ce]+ee;return(ee<0||fe!=K)&&(De=ne[ce+(ee?1:0)]),M(Se,De)}}}var E=O(h,d,i);if(E)return Gi(E,a);for(var $=d.nextSibling,N=h?h.nodeValue.length-i:0;$;$=$.nextSibling){if(E=O($,$.firstChild,0),E)return Gi(M(E.line,E.ch-N),a);N+=$.textContent.length}for(var z=d.previousSibling,V=i;z;z=z.previousSibling){if(E=O(z,z.firstChild,-1),E)return Gi(M(E.line,E.ch+V),a);V+=z.textContent.length}}var Ye=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new me,this.hasSelection=!1,this.composing=null};Ye.prototype.init=function(e){var t=this,i=this,r=this.cm;this.createField(e);var a=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),P&&(a.style.width="0px"),J(a,"input",function(){b&&T>=9&&t.hasSelection&&(t.hasSelection=null),i.poll()}),J(a,"paste",function(h){Ue(r,h)||pc(h,r)||(r.state.pasteIncoming=+new Date,i.fastPoll())});function l(h){if(!Ue(r,h)){if(r.somethingSelected())Za({lineWise:!1,text:r.getSelections()});else if(r.options.lineWiseCopyCut){var d=mc(r);Za({lineWise:!0,text:d.text}),h.type=="cut"?r.setSelections(d.ranges,null,Be):(i.prevInput="",a.value=d.text.join(`
`),mr(a))}else return;h.type=="cut"&&(r.state.cutIncoming=+new Date)}}J(a,"cut",l),J(a,"copy",l),J(e.scroller,"paste",function(h){if(!(Tr(e,h)||Ue(r,h))){if(!a.dispatchEvent){r.state.pasteIncoming=+new Date,i.focus();return}var d=new Event("paste");d.clipboardData=h.clipboardData,a.dispatchEvent(d)}}),J(e.lineSpace,"selectstart",function(h){Tr(e,h)||pt(h)}),J(a,"compositionstart",function(){var h=r.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:h,range:r.markText(h,r.getCursor("to"),{className:"CodeMirror-composing"})}}),J(a,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},Ye.prototype.createField=function(e){this.wrapper=xc(),this.textarea=this.wrapper.firstChild},Ye.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},Ye.prototype.prepareSelection=function(){var e=this.cm,t=e.display,i=e.doc,r=fh(e);if(e.options.moveInputWithCursor){var a=Zt(e,i.sel.primary().head,"div"),l=t.wrapper.getBoundingClientRect(),h=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,a.top+h.top-l.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,a.left+h.left-l.left))}return r},Ye.prototype.showSelection=function(e){var t=this.cm,i=t.display;X(i.cursorDiv,e.cursors),X(i.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Ye.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing)){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var i=t.getSelection();this.textarea.value=i,t.state.focused&&mr(this.textarea),b&&T>=9&&(this.hasSelection=i)}else e||(this.prevInput=this.textarea.value="",b&&T>=9&&(this.hasSelection=null))}},Ye.prototype.getField=function(){return this.textarea},Ye.prototype.supportsTouch=function(){return!1},Ye.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!j||Te(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Ye.prototype.blur=function(){this.textarea.blur()},Ye.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ye.prototype.receivedFocus=function(){this.slowPoll()},Ye.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Ye.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0;function i(){var r=t.poll();!r&&!e?(e=!0,t.polling.set(60,i)):(t.pollingFast=!1,t.slowPoll())}t.polling.set(20,i)},Ye.prototype.poll=function(){var e=this,t=this.cm,i=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Rr(i)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var a=i.value;if(a==r&&!t.somethingSelected())return!1;if(b&&T>=9&&this.hasSelection===a||U&&/[\uf700-\uf7ff]/.test(a))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var l=a.charCodeAt(0);if(l==8203&&!r&&(r="​"),l==8666)return this.reset(),this.cm.execCommand("undo")}for(var h=0,d=Math.min(r.length,a.length);h<d&&r.charCodeAt(h)==a.charCodeAt(h);)++h;return Dt(t,function(){jo(t,a.slice(h),r.length-h,null,e.composing?"*compose":null),a.length>1e3||a.indexOf(`
`)>-1?i.value=e.prevInput="":e.prevInput=a,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ye.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ye.prototype.onKeyPress=function(){b&&T>=9&&(this.hasSelection=null),this.fastPoll()},Ye.prototype.onContextMenu=function(e){var t=this,i=t.cm,r=i.display,a=t.textarea;t.contextMenuPending&&t.contextMenuPending();var l=ni(i,e),h=r.scroller.scrollTop;if(!l||I)return;var d=i.options.resetSelectionOnContextMenu;d&&i.doc.sel.contains(l)==-1&&lt(i,yt)(i.doc,Hr(l),Be);var g=a.style.cssText,x=t.wrapper.style.cssText,O=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",a.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-O.top-5)+"px; left: "+(e.clientX-O.left-5)+`px;
      z-index: 1000; background: `+(b?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var E;m&&(E=a.ownerDocument.defaultView.scrollY),r.input.focus(),m&&a.ownerDocument.defaultView.scrollTo(null,E),r.input.reset(),i.somethingSelected()||(a.value=t.prevInput=" "),t.contextMenuPending=N,r.selForContextMenu=i.doc.sel,clearTimeout(r.detectingSelectAll);function $(){if(a.selectionStart!=null){var V=i.somethingSelected(),K="​"+(V?a.value:"");a.value="⇚",a.value=K,t.prevInput=V?"":"​",a.selectionStart=1,a.selectionEnd=K.length,r.selForContextMenu=i.doc.sel}}function N(){if(t.contextMenuPending==N&&(t.contextMenuPending=!1,t.wrapper.style.cssText=x,a.style.cssText=g,b&&T<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=h),a.selectionStart!=null)){(!b||b&&T<9)&&$();var V=0,K=function(){r.selForContextMenu==i.doc.sel&&a.selectionStart==0&&a.selectionEnd>0&&t.prevInput=="​"?lt(i,zh)(i):V++<10?r.detectingSelectAll=setTimeout(K,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(K,200)}}if(b&&T>=9&&$(),le){br(e);var z=function(){gt(window,"mouseup",z),setTimeout(N,20)};J(window,"mouseup",z)}else setTimeout(N,50)},Ye.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},Ye.prototype.setUneditable=function(){},Ye.prototype.needsContentAttribute=!1;function Jm(e,t){if(t=t?ve(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var i=Te(e.ownerDocument);t.autofocus=i==e||e.getAttribute("autofocus")!=null&&i==document.body}function r(){e.value=d.getValue()}var a;if(e.form&&(J(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var l=e.form;a=l.submit;try{var h=l.submit=function(){r(),l.submit=a,l.submit(),l.submit=h}}catch{}}t.finishInit=function(g){g.save=r,g.getTextArea=function(){return e},g.toTextArea=function(){g.toTextArea=isNaN,r(),e.parentNode.removeChild(g.getWrapperElement()),e.style.display="",e.form&&(gt(e.form,"submit",r),!t.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=a))}},e.style.display="none";var d=We(function(g){return e.parentNode.insertBefore(g,e.nextSibling)},t);return d}function e0(e){e.off=gt,e.on=J,e.wheelEventPixels=om,e.Doc=At,e.splitLines=mn,e.countColumn=ue,e.findColumn=Bt,e.isWordChar=W,e.Pass=ye,e.signal=_e,e.Line=Mi,e.changeEnd=jr,e.scrollbarModel=ph,e.Pos=M,e.cmpPos=B,e.modes=Yt,e.mimeModes=Dr,e.resolveMode=Rt,e.getMode=xr,e.modeExtensions=Fr,e.extendMode=Ca,e.copyState=wr,e.startState=bn,e.innerMode=_r,e.commands=Hn,e.keyMap=Pr,e.keyName=rc,e.isModifierKey=ec,e.lookupKey=ji,e.normalizeKeyMap=Am,e.StringStream=Ve,e.SharedTextMarker=Bn,e.TextMarker=Vr,e.LineWidget=_n,e.e_preventDefault=pt,e.e_stopPropagation=ti,e.e_stop=br,e.addClass=Me,e.contains=se,e.rmClass=be,e.keyNames=Gr}Vm(We),Ym(We);var t0="iter insert remove copy getEditor constructor".split(" ");for(var Ja in At.prototype)At.prototype.hasOwnProperty(Ja)&&ke(t0,Ja)<0&&(We.prototype[Ja]=function(e){return function(){return e.apply(this.doc,arguments)}}(At.prototype[Ja]));return St(At),We.inputStyles={textarea:Ye,contenteditable:$e},We.defineMode=function(e){!We.defaults.mode&&e!="null"&&(We.defaults.mode=e),Sa.apply(this,arguments)},We.defineMIME=Ei,We.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),We.defineMIME("text/plain","null"),We.defineExtension=function(e,t){We.prototype[e]=t},We.defineDocExtension=function(e,t){At.prototype[e]=t},We.fromTextArea=Jm,e0(We),We.version="5.65.7",We})}(o0)),Ss}(function(u,n){(function(s){s(ln())})(function(s){var o={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},f={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};s.defineMode("xml",function(c,v){var y=c.indentUnit,b={},T=v.htmlMode?o:f;for(var m in T)b[m]=T[m];for(var m in v)b[m]=v[m];var p,w;function C(k,Y){function G(Me){return Y.tokenize=Me,Me(k,Y)}var se=k.next();if(se=="<")return k.eat("!")?k.eat("[")?k.match("CDATA[")?G(_("atom","]]>")):null:k.match("--")?G(_("comment","-->")):k.match("DOCTYPE",!0,!0)?(k.eatWhile(/[\w\._\-]/),G(L(1))):null:k.eat("?")?(k.eatWhile(/[\w\._\-]/),Y.tokenize=_("meta","?>"),"meta"):(p=k.eat("/")?"closeTag":"openTag",Y.tokenize=I,"tag bracket");if(se=="&"){var Te;return k.eat("#")?k.eat("x")?Te=k.eatWhile(/[a-fA-F\d]/)&&k.eat(";"):Te=k.eatWhile(/[\d]/)&&k.eat(";"):Te=k.eatWhile(/[\w\.\-:]/)&&k.eat(";"),Te?"atom":"error"}else return k.eatWhile(/[^&<]/),null}C.isInText=!0;function I(k,Y){var G=k.next();if(G==">"||G=="/"&&k.eat(">"))return Y.tokenize=C,p=G==">"?"endTag":"selfcloseTag","tag bracket";if(G=="=")return p="equals",null;if(G=="<"){Y.tokenize=C,Y.state=te,Y.tagName=Y.tagStart=null;var se=Y.tokenize(k,Y);return se?se+" tag error":"tag error"}else return/[\'\"]/.test(G)?(Y.tokenize=F(G),Y.stringStartCol=k.column(),Y.tokenize(k,Y)):(k.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function F(k){var Y=function(G,se){for(;!G.eol();)if(G.next()==k){se.tokenize=I;break}return"string"};return Y.isInAttribute=!0,Y}function _(k,Y){return function(G,se){for(;!G.eol();){if(G.match(Y)){se.tokenize=C;break}G.next()}return k}}function L(k){return function(Y,G){for(var se;(se=Y.next())!=null;){if(se=="<")return G.tokenize=L(k+1),G.tokenize(Y,G);if(se==">")if(k==1){G.tokenize=C;break}else return G.tokenize=L(k-1),G.tokenize(Y,G)}return"meta"}}function P(k){return k&&k.toLowerCase()}function D(k,Y,G){this.prev=k.context,this.tagName=Y||"",this.indent=k.indented,this.startOfLine=G,(b.doNotIndent.hasOwnProperty(Y)||k.context&&k.context.noIndent)&&(this.noIndent=!0)}function j(k){k.context&&(k.context=k.context.prev)}function U(k,Y){for(var G;;){if(!k.context||(G=k.context.tagName,!b.contextGrabbers.hasOwnProperty(P(G))||!b.contextGrabbers[P(G)].hasOwnProperty(P(Y))))return;j(k)}}function te(k,Y,G){return k=="openTag"?(G.tagStart=Y.column(),re):k=="closeTag"?ie:te}function re(k,Y,G){return k=="word"?(G.tagName=Y.current(),w="tag",ae):b.allowMissingTagName&&k=="endTag"?(w="tag bracket",ae(k,Y,G)):(w="error",re)}function ie(k,Y,G){if(k=="word"){var se=Y.current();return G.context&&G.context.tagName!=se&&b.implicitlyClosed.hasOwnProperty(P(G.context.tagName))&&j(G),G.context&&G.context.tagName==se||b.matchClosing===!1?(w="tag",he):(w="tag error",le)}else return b.allowMissingTagName&&k=="endTag"?(w="tag bracket",he(k,Y,G)):(w="error",le)}function he(k,Y,G){return k!="endTag"?(w="error",he):(j(G),te)}function le(k,Y,G){return w="error",he(k,Y,G)}function ae(k,Y,G){if(k=="word")return w="attribute",be;if(k=="endTag"||k=="selfcloseTag"){var se=G.tagName,Te=G.tagStart;return G.tagName=G.tagStart=null,k=="selfcloseTag"||b.autoSelfClosers.hasOwnProperty(P(se))?U(G,se):(U(G,se),G.context=new D(G,se,Te==G.indented)),te}return w="error",ae}function be(k,Y,G){return k=="equals"?H:(b.allowMissing||(w="error"),ae(k,Y,G))}function H(k,Y,G){return k=="string"?X:k=="word"&&b.allowUnquoted?(w="string",ae):(w="error",ae(k,Y,G))}function X(k,Y,G){return k=="string"?X:ae(k,Y,G)}return{startState:function(k){var Y={tokenize:C,state:te,indented:k||0,tagName:null,tagStart:null,context:null};return k!=null&&(Y.baseIndent=k),Y},token:function(k,Y){if(!Y.tagName&&k.sol()&&(Y.indented=k.indentation()),k.eatSpace())return null;p=null;var G=Y.tokenize(k,Y);return(G||p)&&G!="comment"&&(w=null,Y.state=Y.state(p||G,k,Y),w&&(G=w=="error"?G+" error":w)),G},indent:function(k,Y,G){var se=k.context;if(k.tokenize.isInAttribute)return k.tagStart==k.indented?k.stringStartCol+1:k.indented+y;if(se&&se.noIndent)return s.Pass;if(k.tokenize!=I&&k.tokenize!=C)return G?G.match(/^(\s*)/)[0].length:0;if(k.tagName)return b.multilineTagIndentPastTag!==!1?k.tagStart+k.tagName.length+2:k.tagStart+y*(b.multilineTagIndentFactor||1);if(b.alignCDATA&&/<!\[CDATA\[/.test(Y))return 0;var Te=Y&&/^<(\/)?([\w_:\.-]*)/.exec(Y);if(Te&&Te[1])for(;se;)if(se.tagName==Te[2]){se=se.prev;break}else if(b.implicitlyClosed.hasOwnProperty(P(se.tagName)))se=se.prev;else break;else if(Te)for(;se;){var Me=b.contextGrabbers[P(se.tagName)];if(Me&&Me.hasOwnProperty(P(Te[2])))se=se.prev;else break}for(;se&&se.prev&&!se.startOfLine;)se=se.prev;return se?se.indent+y:k.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:b.htmlMode?"html":"xml",helperType:b.htmlMode?"html":"xml",skipAttribute:function(k){k.state==H&&(k.state=ae)},xmlCurrentTag:function(k){return k.tagName?{name:k.tagName,close:k.type=="closeTag"}:null},xmlCurrentContext:function(k){for(var Y=[],G=k.context;G;G=G.prev)Y.push(G.tagName);return Y.reverse()}}}),s.defineMIME("text/xml","xml"),s.defineMIME("application/xml","xml"),s.mimeModes.hasOwnProperty("text/html")||s.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();(function(u,n){(function(s){s(ln())})(function(s){s.defineMode("javascript",function(o,f){var c=o.indentUnit,v=f.statementIndent,y=f.jsonld,b=f.json||y,T=f.trackScope!==!1,m=f.typescript,p=f.wordCharacters||/[\w$\xa1-\uffff]/,w=function(){function S(nt){return{type:nt,style:"keyword"}}var A=S("keyword a"),M=S("keyword b"),B=S("keyword c"),ge=S("keyword d"),Ee=S("operator"),Ae={type:"atom",style:"atom"};return{if:S("if"),while:A,with:A,else:M,do:M,try:M,finally:M,return:ge,break:ge,continue:ge,new:S("new"),delete:B,void:B,throw:B,debugger:S("debugger"),var:S("var"),const:S("var"),let:S("var"),function:S("function"),catch:S("catch"),for:S("for"),switch:S("switch"),case:S("case"),default:S("default"),in:Ee,typeof:Ee,instanceof:Ee,true:Ae,false:Ae,null:Ae,undefined:Ae,NaN:Ae,Infinity:Ae,this:S("this"),class:S("class"),super:S("atom"),yield:B,export:S("export"),import:S("import"),extends:B,await:B}}(),C=/[+\-*&%=<>!?|~^@]/,I=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function F(S){for(var A=!1,M,B=!1;(M=S.next())!=null;){if(!A){if(M=="/"&&!B)return;M=="["?B=!0:B&&M=="]"&&(B=!1)}A=!A&&M=="\\"}}var _,L;function P(S,A,M){return _=S,L=M,A}function D(S,A){var M=S.next();if(M=='"'||M=="'")return A.tokenize=j(M),A.tokenize(S,A);if(M=="."&&S.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return P("number","number");if(M=="."&&S.match(".."))return P("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(M))return P(M);if(M=="="&&S.eat(">"))return P("=>","operator");if(M=="0"&&S.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return P("number","number");if(/\d/.test(M))return S.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),P("number","number");if(M=="/")return S.eat("*")?(A.tokenize=U,U(S,A)):S.eat("/")?(S.skipToEnd(),P("comment","comment")):lr(S,A,1)?(F(S),S.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),P("regexp","string-2")):(S.eat("="),P("operator","operator",S.current()));if(M=="`")return A.tokenize=te,te(S,A);if(M=="#"&&S.peek()=="!")return S.skipToEnd(),P("meta","meta");if(M=="#"&&S.eatWhile(p))return P("variable","property");if(M=="<"&&S.match("!--")||M=="-"&&S.match("->")&&!/\S/.test(S.string.slice(0,S.start)))return S.skipToEnd(),P("comment","comment");if(C.test(M))return(M!=">"||!A.lexical||A.lexical.type!=">")&&(S.eat("=")?(M=="!"||M=="=")&&S.eat("="):/[<>*+\-|&?]/.test(M)&&(S.eat(M),M==">"&&S.eat(M))),M=="?"&&S.eat(".")?P("."):P("operator","operator",S.current());if(p.test(M)){S.eatWhile(p);var B=S.current();if(A.lastType!="."){if(w.propertyIsEnumerable(B)){var ge=w[B];return P(ge.type,ge.style,B)}if(B=="async"&&S.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return P("async","keyword",B)}return P("variable","variable",B)}}function j(S){return function(A,M){var B=!1,ge;if(y&&A.peek()=="@"&&A.match(I))return M.tokenize=D,P("jsonld-keyword","meta");for(;(ge=A.next())!=null&&!(ge==S&&!B);)B=!B&&ge=="\\";return B||(M.tokenize=D),P("string","string")}}function U(S,A){for(var M=!1,B;B=S.next();){if(B=="/"&&M){A.tokenize=D;break}M=B=="*"}return P("comment","comment")}function te(S,A){for(var M=!1,B;(B=S.next())!=null;){if(!M&&(B=="`"||B=="$"&&S.eat("{"))){A.tokenize=D;break}M=!M&&B=="\\"}return P("quasi","string-2",S.current())}var re="([{}])";function ie(S,A){A.fatArrowAt&&(A.fatArrowAt=null);var M=S.string.indexOf("=>",S.start);if(!(M<0)){if(m){var B=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(S.string.slice(S.start,M));B&&(M=B.index)}for(var ge=0,Ee=!1,Ae=M-1;Ae>=0;--Ae){var nt=S.string.charAt(Ae),zt=re.indexOf(nt);if(zt>=0&&zt<3){if(!ge){++Ae;break}if(--ge==0){nt=="("&&(Ee=!0);break}}else if(zt>=3&&zt<6)++ge;else if(p.test(nt))Ee=!0;else if(/["'\/`]/.test(nt))for(;;--Ae){if(Ae==0)return;var pe=S.string.charAt(Ae-1);if(pe==nt&&S.string.charAt(Ae-2)!="\\"){Ae--;break}}else if(Ee&&!ge){++Ae;break}}Ee&&!ge&&(A.fatArrowAt=Ae)}}var he={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function le(S,A,M,B,ge,Ee){this.indented=S,this.column=A,this.type=M,this.prev=ge,this.info=Ee,B!=null&&(this.align=B)}function ae(S,A){if(!T)return!1;for(var M=S.localVars;M;M=M.next)if(M.name==A)return!0;for(var B=S.context;B;B=B.prev)for(var M=B.vars;M;M=M.next)if(M.name==A)return!0}function be(S,A,M,B,ge){var Ee=S.cc;for(H.state=S,H.stream=ge,H.marked=null,H.cc=Ee,H.style=A,S.lexical.hasOwnProperty("align")||(S.lexical.align=!0);;){var Ae=Ee.length?Ee.pop():b?ye:ke;if(Ae(M,B)){for(;Ee.length&&Ee[Ee.length-1].lex;)Ee.pop()();return H.marked?H.marked:M=="variable"&&ae(S,B)?"variable-2":A}}}var H={state:null,column:null,marked:null,cc:null};function X(){for(var S=arguments.length-1;S>=0;S--)H.cc.push(arguments[S])}function k(){return X.apply(null,arguments),!0}function Y(S,A){for(var M=A;M;M=M.next)if(M.name==S)return!0;return!1}function G(S){var A=H.state;if(H.marked="def",!!T){if(A.context){if(A.lexical.info=="var"&&A.context&&A.context.block){var M=se(S,A.context);if(M!=null){A.context=M;return}}else if(!Y(S,A.localVars)){A.localVars=new Qe(S,A.localVars);return}}f.globalVars&&!Y(S,A.globalVars)&&(A.globalVars=new Qe(S,A.globalVars))}}function se(S,A){if(A)if(A.block){var M=se(S,A.prev);return M?M==A.prev?A:new Me(M,A.vars,!0):null}else return Y(S,A.vars)?A:new Me(A.prev,new Qe(S,A.vars),!1);else return null}function Te(S){return S=="public"||S=="private"||S=="protected"||S=="abstract"||S=="readonly"}function Me(S,A,M){this.prev=S,this.vars=A,this.block=M}function Qe(S,A){this.name=S,this.next=A}var mr=new Qe("this",new Qe("arguments",null));function Ke(){H.state.context=new Me(H.state.context,H.state.localVars,!1),H.state.localVars=mr}function jt(){H.state.context=new Me(H.state.context,H.state.localVars,!0),H.state.localVars=null}Ke.lex=jt.lex=!0;function qe(){H.state.localVars=H.state.context.vars,H.state.context=H.state.context.prev}qe.lex=!0;function ve(S,A){var M=function(){var B=H.state,ge=B.indented;if(B.lexical.type=="stat")ge=B.lexical.indented;else for(var Ee=B.lexical;Ee&&Ee.type==")"&&Ee.align;Ee=Ee.prev)ge=Ee.indented;B.lexical=new le(ge,H.stream.column(),S,null,B.lexical,A)};return M.lex=!0,M}function ue(){var S=H.state;S.lexical.prev&&(S.lexical.type==")"&&(S.indented=S.lexical.indented),S.lexical=S.lexical.prev)}ue.lex=!0;function me(S){function A(M){return M==S?k():S==";"||M=="}"||M==")"||M=="]"?X():k(A)}return A}function ke(S,A){return S=="var"?k(ve("vardef",A),br,me(";"),ue):S=="keyword a"?k(ve("form"),rr,ke,ue):S=="keyword b"?k(ve("form"),ke,ue):S=="keyword d"?H.stream.match(/^\s*$/,!1)?k():k(ve("stat"),Bt,me(";"),ue):S=="debugger"?k(me(";")):S=="{"?k(ve("}"),jt,ar,ue,qe):S==";"?k():S=="if"?(H.state.lexical.info=="else"&&H.state.cc[H.state.cc.length-1]==ue&&H.state.cc.pop()(),k(ve("form"),rr,ke,ue,Pi)):S=="function"?k(sr):S=="for"?k(ve("form"),jt,xa,ke,qe,ue):S=="class"||m&&A=="interface"?(H.marked="keyword",k(ve("form",S=="class"?S:A),Sa,ue)):S=="variable"?m&&A=="declare"?(H.marked="keyword",k(ke)):m&&(A=="module"||A=="enum"||A=="type")&&H.stream.match(/^\s*\w/,!1)?(H.marked="keyword",A=="enum"?k(Ai):A=="type"?k(wa,me("operator"),J,me(";")):k(ve("form"),Pt,me("{"),ve("}"),ar,ue,ue)):m&&A=="namespace"?(H.marked="keyword",k(ve("form"),ye,ke,ue)):m&&A=="abstract"?(H.marked="keyword",k(ke)):k(ve("stat"),Pe):S=="switch"?k(ve("form"),rr,me("{"),ve("}","switch"),jt,ar,ue,ue,qe):S=="case"?k(ye,me(":")):S=="default"?k(me(":")):S=="catch"?k(ve("form"),Ke,Oe,ke,ue,qe):S=="export"?k(ve("stat"),Fr,ue):S=="import"?k(ve("stat"),wr,ue):S=="async"?k(ke):A=="@"?k(ye,ke):X(ve("stat"),ye,me(";"),ue)}function Oe(S){if(S=="(")return k(Yt,me(")"))}function ye(S,A){return ir(S,A,!1)}function Be(S,A){return ir(S,A,!0)}function rr(S){return S!="("?X():k(ve(")"),Bt,me(")"),ue)}function ir(S,A,M){if(H.state.fatArrowAt==H.stream.start){var B=M?Fe:Jr;if(S=="(")return k(Ke,ve(")"),je(Yt,")"),ue,me("=>"),B,qe);if(S=="variable")return X(Ke,Pt,me("=>"),B,qe)}var ge=M?Je:Le;return he.hasOwnProperty(S)?k(ge):S=="function"?k(sr,ge):S=="class"||m&&A=="interface"?(H.marked="keyword",k(ve("form"),Dr,ue)):S=="keyword c"||S=="async"?k(M?Be:ye):S=="("?k(ve(")"),Bt,me(")"),ue,ge):S=="operator"||S=="spread"?k(M?Be:ye):S=="["?k(ve("]"),Sr,ue,ge):S=="{"?ei(Oi,"}",null,ge):S=="quasi"?X(we,ge):S=="new"?k(R(M)):k()}function Bt(S){return S.match(/[;\}\)\],]/)?X():X(ye)}function Le(S,A){return S==","?k(Bt):Je(S,A,!1)}function Je(S,A,M){var B=M==!1?Le:Je,ge=M==!1?ye:Be;if(S=="=>")return k(Ke,M?Fe:Jr,qe);if(S=="operator")return/\+\+|--/.test(A)||m&&A=="!"?k(B):m&&A=="<"&&H.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?k(ve(">"),je(J,">"),ue,B):A=="?"?k(ye,me(":"),ge):k(ge);if(S=="quasi")return X(we,B);if(S!=";"){if(S=="(")return ei(Be,")","call",B);if(S==".")return k(xt,B);if(S=="[")return k(ve("]"),Bt,me("]"),ue,B);if(m&&A=="as")return H.marked="keyword",k(J,B);if(S=="regexp")return H.state.lastType=H.marked="operator",H.stream.backUp(H.stream.pos-H.stream.start-1),k(ge)}}function we(S,A){return S!="quasi"?X():A.slice(A.length-2)!="${"?k(we):k(Bt,$t)}function $t(S){if(S=="}")return H.marked="string-2",H.state.tokenize=te,k(we)}function Jr(S){return ie(H.stream,H.state),X(S=="{"?ke:ye)}function Fe(S){return ie(H.stream,H.state),X(S=="{"?ke:Be)}function R(S){return function(A){return A=="."?k(S?W:q):A=="variable"&&m?k(pt,S?Je:Le):X(S?Be:ye)}}function q(S,A){if(A=="target")return H.marked="keyword",k(Le)}function W(S,A){if(A=="target")return H.marked="keyword",k(Je)}function Pe(S){return S==":"?k(ue,ke):X(Le,me(";"),ue)}function xt(S){if(S=="variable")return H.marked="property",k()}function Oi(S,A){if(S=="async")return H.marked="property",k(Oi);if(S=="variable"||H.style=="keyword"){if(H.marked="property",A=="get"||A=="set")return k(vn);var M;return m&&H.state.fatArrowAt==H.stream.start&&(M=H.stream.match(/^\s*:\s*/,!1))&&(H.state.fatArrowAt=H.stream.pos+M[0].length),k(nr)}else{if(S=="number"||S=="string")return H.marked=y?"property":H.style+" property",k(nr);if(S=="jsonld-keyword")return k(nr);if(m&&Te(A))return H.marked="keyword",k(Oi);if(S=="[")return k(ye,Ut,me("]"),nr);if(S=="spread")return k(Be,nr);if(A=="*")return H.marked="keyword",k(Oi);if(S==":")return X(nr)}}function vn(S){return S!="variable"?X(nr):(H.marked="property",k(sr))}function nr(S){if(S==":")return k(Be);if(S=="(")return X(sr)}function je(S,A,M){function B(ge,Ee){if(M?M.indexOf(ge)>-1:ge==","){var Ae=H.state.lexical;return Ae.info=="call"&&(Ae.pos=(Ae.pos||0)+1),k(function(nt,zt){return nt==A||zt==A?X():X(S)},B)}return ge==A||Ee==A?k():M&&M.indexOf(";")>-1?X(S):k(me(A))}return function(ge,Ee){return ge==A||Ee==A?k():X(S,B)}}function ei(S,A,M){for(var B=3;B<arguments.length;B++)H.cc.push(arguments[B]);return k(ve(A,M),je(S,A),ue)}function ar(S){return S=="}"?k():X(ke,ar)}function Ut(S,A){if(m){if(S==":")return k(J);if(A=="?")return k(Ut)}}function Zs(S,A){if(m&&(S==":"||A=="in"))return k(J)}function Vt(S){if(m&&S==":")return H.stream.match(/^\s*\w+\s+is\b/,!1)?k(ye,ma,J):k(J)}function ma(S,A){if(A=="is")return H.marked="keyword",k()}function J(S,A){if(A=="keyof"||A=="typeof"||A=="infer"||A=="readonly")return H.marked="keyword",k(A=="typeof"?Be:J);if(S=="variable"||A=="void")return H.marked="type",k(St);if(A=="|"||A=="&")return k(J);if(S=="string"||S=="number"||S=="atom")return k(St);if(S=="[")return k(ve("]"),je(J,"]",","),ue,St);if(S=="{")return k(ve("}"),gt,ue,St);if(S=="(")return k(je(wt,")"),gn,St);if(S=="<")return k(je(J,">"),J);if(S=="quasi")return X(Ue,St)}function gn(S){if(S=="=>")return k(J)}function gt(S){return S.match(/[\}\)\]]/)?k():S==","||S==";"?k(gt):X(_e,gt)}function _e(S,A){if(S=="variable"||H.style=="keyword")return H.marked="property",k(_e);if(A=="?"||S=="number"||S=="string")return k(_e);if(S==":")return k(J);if(S=="[")return k(me("variable"),Zs,me("]"),_e);if(S=="(")return X(or,_e);if(!S.match(/[;\}\)\],]/))return k()}function Ue(S,A){return S!="quasi"?X():A.slice(A.length-2)!="${"?k(Ue):k(J,ba)}function ba(S){if(S=="}")return H.marked="string-2",H.state.tokenize=te,k(Ue)}function wt(S,A){return S=="variable"&&H.stream.match(/^\s*[?:]/,!1)||A=="?"?k(wt):S==":"?k(J):S=="spread"?k(wt):X(J)}function St(S,A){if(A=="<")return k(ve(">"),je(J,">"),ue,St);if(A=="|"||S=="."||A=="&")return k(J);if(S=="[")return k(J,me("]"),St);if(A=="extends"||A=="implements")return H.marked="keyword",k(J);if(A=="?")return k(J,me(":"),J)}function pt(S,A){if(A=="<")return k(ve(">"),je(J,">"),ue,St)}function ti(){return X(J,pn)}function pn(S,A){if(A=="=")return k(J)}function br(S,A){return A=="enum"?(H.marked="keyword",k(Ai)):X(Pt,Ut,Gt,Js)}function Pt(S,A){if(m&&Te(A))return H.marked="keyword",k(Pt);if(S=="variable")return G(A),k();if(S=="spread")return k(Pt);if(S=="[")return ei(Qs,"]");if(S=="{")return ei(yn,"}")}function yn(S,A){return S=="variable"&&!H.stream.match(/^\s*:/,!1)?(G(A),k(Gt)):(S=="variable"&&(H.marked="property"),S=="spread"?k(Pt):S=="}"?X():S=="["?k(ye,me("]"),me(":"),yn):k(me(":"),Pt,Gt))}function Qs(){return X(Pt,Gt)}function Gt(S,A){if(A=="=")return k(Be)}function Js(S){if(S==",")return k(br)}function Pi(S,A){if(S=="keyword b"&&A=="else")return k(ve("form","else"),ke,ue)}function xa(S,A){if(A=="await")return k(xa);if(S=="(")return k(ve(")"),mn,ue)}function mn(S){return S=="var"?k(br,Rr):S=="variable"?k(Rr):X(Rr)}function Rr(S,A){return S==")"?k():S==";"?k(Rr):A=="in"||A=="of"?(H.marked="keyword",k(ye,Rr)):X(ye,Rr)}function sr(S,A){if(A=="*")return H.marked="keyword",k(sr);if(S=="variable")return G(A),k(sr);if(S=="(")return k(Ke,ve(")"),je(Yt,")"),ue,Vt,ke,qe);if(m&&A=="<")return k(ve(">"),je(ti,">"),ue,sr)}function or(S,A){if(A=="*")return H.marked="keyword",k(or);if(S=="variable")return G(A),k(or);if(S=="(")return k(Ke,ve(")"),je(Yt,")"),ue,Vt,qe);if(m&&A=="<")return k(ve(">"),je(ti,">"),ue,or)}function wa(S,A){if(S=="keyword"||S=="variable")return H.marked="type",k(wa);if(A=="<")return k(ve(">"),je(ti,">"),ue)}function Yt(S,A){return A=="@"&&k(ye,Yt),S=="spread"?k(Yt):m&&Te(A)?(H.marked="keyword",k(Yt)):m&&S=="this"?k(Ut,Gt):X(Pt,Ut,Gt)}function Dr(S,A){return S=="variable"?Sa(S,A):Ei(S,A)}function Sa(S,A){if(S=="variable")return G(A),k(Ei)}function Ei(S,A){if(A=="<")return k(ve(">"),je(ti,">"),ue,Ei);if(A=="extends"||A=="implements"||m&&S==",")return A=="implements"&&(H.marked="keyword"),k(m?J:ye,Ei);if(S=="{")return k(ve("}"),Rt,ue)}function Rt(S,A){if(S=="async"||S=="variable"&&(A=="static"||A=="get"||A=="set"||m&&Te(A))&&H.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return H.marked="keyword",k(Rt);if(S=="variable"||H.style=="keyword")return H.marked="property",k(xr,Rt);if(S=="number"||S=="string")return k(xr,Rt);if(S=="[")return k(ye,Ut,me("]"),xr,Rt);if(A=="*")return H.marked="keyword",k(Rt);if(m&&S=="(")return X(or,Rt);if(S==";"||S==",")return k(Rt);if(S=="}")return k();if(A=="@")return k(ye,Rt)}function xr(S,A){if(A=="!"||A=="?")return k(xr);if(S==":")return k(J,Gt);if(A=="=")return k(Be);var M=H.state.lexical.prev,B=M&&M.info=="interface";return X(B?or:sr)}function Fr(S,A){return A=="*"?(H.marked="keyword",k(oe,me(";"))):A=="default"?(H.marked="keyword",k(ye,me(";"))):S=="{"?k(je(Ca,"}"),oe,me(";")):X(ke)}function Ca(S,A){if(A=="as")return H.marked="keyword",k(me("variable"));if(S=="variable")return X(Be,Ca)}function wr(S){return S=="string"?k():S=="("?X(ye):S=="."?X(Le):X(_r,bn,oe)}function _r(S,A){return S=="{"?ei(_r,"}"):(S=="variable"&&G(A),A=="*"&&(H.marked="keyword"),k(Ve))}function bn(S){if(S==",")return k(_r,bn)}function Ve(S,A){if(A=="as")return H.marked="keyword",k(_r)}function oe(S,A){if(A=="from")return H.marked="keyword",k(ye)}function Sr(S){return S=="]"?k():X(je(Be,"]"))}function Ai(){return X(ve("form"),Pt,me("{"),ve("}"),je(Kt,"}"),ue,ue)}function Kt(){return X(Pt,Gt)}function Ie(S,A){return S.lastType=="operator"||S.lastType==","||C.test(A.charAt(0))||/[,.]/.test(A.charAt(0))}function lr(S,A,M){return A.tokenize==D&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(A.lastType)||A.lastType=="quasi"&&/\{\s*$/.test(S.string.slice(0,S.pos-(M||0)))}return{startState:function(S){var A={tokenize:D,lastType:"sof",cc:[],lexical:new le((S||0)-c,0,"block",!1),localVars:f.localVars,context:f.localVars&&new Me(null,null,!1),indented:S||0};return f.globalVars&&typeof f.globalVars=="object"&&(A.globalVars=f.globalVars),A},token:function(S,A){if(S.sol()&&(A.lexical.hasOwnProperty("align")||(A.lexical.align=!1),A.indented=S.indentation(),ie(S,A)),A.tokenize!=U&&S.eatSpace())return null;var M=A.tokenize(S,A);return _=="comment"?M:(A.lastType=_=="operator"&&(L=="++"||L=="--")?"incdec":_,be(A,M,_,L,S))},indent:function(S,A){if(S.tokenize==U||S.tokenize==te)return s.Pass;if(S.tokenize!=D)return 0;var M=A&&A.charAt(0),B=S.lexical,ge;if(!/^\s*else\b/.test(A))for(var Ee=S.cc.length-1;Ee>=0;--Ee){var Ae=S.cc[Ee];if(Ae==ue)B=B.prev;else if(Ae!=Pi&&Ae!=qe)break}for(;(B.type=="stat"||B.type=="form")&&(M=="}"||(ge=S.cc[S.cc.length-1])&&(ge==Le||ge==Je)&&!/^[,\.=+\-*:?[\(]/.test(A));)B=B.prev;v&&B.type==")"&&B.prev.type=="stat"&&(B=B.prev);var nt=B.type,zt=M==nt;return nt=="vardef"?B.indented+(S.lastType=="operator"||S.lastType==","?B.info.length+1:0):nt=="form"&&M=="{"?B.indented:nt=="form"?B.indented+c:nt=="stat"?B.indented+(Ie(S,A)?v||c:0):B.info=="switch"&&!zt&&f.doubleIndentSwitch!=!1?B.indented+(/^(?:case|default)\b/.test(A)?c:2*c):B.align?B.column+(zt?0:1):B.indented+(zt?0:c)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:b?null:"/*",blockCommentEnd:b?null:"*/",blockCommentContinue:b?null:" * ",lineComment:b?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:b?"json":"javascript",jsonldMode:y,jsonMode:b,expressionAllowed:lr,skipExpression:function(S){be(S,"atom","atom","true",new s.StringStream("",2,null))}}}),s.registerHelper("wordChars","javascript",/[\w$]/),s.defineMIME("text/javascript","javascript"),s.defineMIME("text/ecmascript","javascript"),s.defineMIME("application/javascript","javascript"),s.defineMIME("application/x-javascript","javascript"),s.defineMIME("application/ecmascript","javascript"),s.defineMIME("application/json",{name:"javascript",json:!0}),s.defineMIME("application/x-json",{name:"javascript",json:!0}),s.defineMIME("application/manifest+json",{name:"javascript",json:!0}),s.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),s.defineMIME("text/typescript",{name:"javascript",typescript:!0}),s.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(u,n){(function(s){s(ln())})(function(s){s.defineMode("css",function(le,ae){var be=ae.inline;ae.propertyKeywords||(ae=s.resolveMode("text/css"));var H=le.indentUnit,X=ae.tokenHooks,k=ae.documentTypes||{},Y=ae.mediaTypes||{},G=ae.mediaFeatures||{},se=ae.mediaValueKeywords||{},Te=ae.propertyKeywords||{},Me=ae.nonStandardPropertyKeywords||{},Qe=ae.fontProperties||{},mr=ae.counterDescriptors||{},Ke=ae.colorKeywords||{},jt=ae.valueKeywords||{},qe=ae.allowNested,ve=ae.lineComment,ue=ae.supportsAtComponent===!0,me=le.highlightNonStandardPropertyKeywords!==!1,ke,Oe;function ye(R,q){return ke=q,R}function Be(R,q){var W=R.next();if(X[W]){var Pe=X[W](R,q);if(Pe!==!1)return Pe}if(W=="@")return R.eatWhile(/[\w\\\-]/),ye("def",R.current());if(W=="="||(W=="~"||W=="|")&&R.eat("="))return ye(null,"compare");if(W=='"'||W=="'")return q.tokenize=rr(W),q.tokenize(R,q);if(W=="#")return R.eatWhile(/[\w\\\-]/),ye("atom","hash");if(W=="!")return R.match(/^\s*\w*/),ye("keyword","important");if(/\d/.test(W)||W=="."&&R.eat(/\d/))return R.eatWhile(/[\w.%]/),ye("number","unit");if(W==="-"){if(/[\d.]/.test(R.peek()))return R.eatWhile(/[\w.%]/),ye("number","unit");if(R.match(/^-[\w\\\-]*/))return R.eatWhile(/[\w\\\-]/),R.match(/^\s*:/,!1)?ye("variable-2","variable-definition"):ye("variable-2","variable");if(R.match(/^\w+-/))return ye("meta","meta")}else return/[,+>*\/]/.test(W)?ye(null,"select-op"):W=="."&&R.match(/^-?[_a-z][_a-z0-9-]*/i)?ye("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(W)?ye(null,W):R.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(R.current())&&(q.tokenize=ir),ye("variable callee","variable")):/[\w\\\-]/.test(W)?(R.eatWhile(/[\w\\\-]/),ye("property","word")):ye(null,null)}function rr(R){return function(q,W){for(var Pe=!1,xt;(xt=q.next())!=null;){if(xt==R&&!Pe){R==")"&&q.backUp(1);break}Pe=!Pe&&xt=="\\"}return(xt==R||!Pe&&R!=")")&&(W.tokenize=null),ye("string","string")}}function ir(R,q){return R.next(),R.match(/^\s*[\"\')]/,!1)?q.tokenize=null:q.tokenize=rr(")"),ye(null,"(")}function Bt(R,q,W){this.type=R,this.indent=q,this.prev=W}function Le(R,q,W,Pe){return R.context=new Bt(W,q.indentation()+(Pe===!1?0:H),R.context),W}function Je(R){return R.context.prev&&(R.context=R.context.prev),R.context.type}function we(R,q,W){return Fe[W.context.type](R,q,W)}function $t(R,q,W,Pe){for(var xt=Pe||1;xt>0;xt--)W.context=W.context.prev;return we(R,q,W)}function Jr(R){var q=R.current().toLowerCase();jt.hasOwnProperty(q)?Oe="atom":Ke.hasOwnProperty(q)?Oe="keyword":Oe="variable"}var Fe={};return Fe.top=function(R,q,W){if(R=="{")return Le(W,q,"block");if(R=="}"&&W.context.prev)return Je(W);if(ue&&/@component/i.test(R))return Le(W,q,"atComponentBlock");if(/^@(-moz-)?document$/i.test(R))return Le(W,q,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(R))return Le(W,q,"atBlock");if(/^@(font-face|counter-style)/i.test(R))return W.stateArg=R,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(R))return"keyframes";if(R&&R.charAt(0)=="@")return Le(W,q,"at");if(R=="hash")Oe="builtin";else if(R=="word")Oe="tag";else{if(R=="variable-definition")return"maybeprop";if(R=="interpolation")return Le(W,q,"interpolation");if(R==":")return"pseudo";if(qe&&R=="(")return Le(W,q,"parens")}return W.context.type},Fe.block=function(R,q,W){if(R=="word"){var Pe=q.current().toLowerCase();return Te.hasOwnProperty(Pe)?(Oe="property","maybeprop"):Me.hasOwnProperty(Pe)?(Oe=me?"string-2":"property","maybeprop"):qe?(Oe=q.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Oe+=" error","maybeprop")}else return R=="meta"?"block":!qe&&(R=="hash"||R=="qualifier")?(Oe="error","block"):Fe.top(R,q,W)},Fe.maybeprop=function(R,q,W){return R==":"?Le(W,q,"prop"):we(R,q,W)},Fe.prop=function(R,q,W){if(R==";")return Je(W);if(R=="{"&&qe)return Le(W,q,"propBlock");if(R=="}"||R=="{")return $t(R,q,W);if(R=="(")return Le(W,q,"parens");if(R=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(q.current()))Oe+=" error";else if(R=="word")Jr(q);else if(R=="interpolation")return Le(W,q,"interpolation");return"prop"},Fe.propBlock=function(R,q,W){return R=="}"?Je(W):R=="word"?(Oe="property","maybeprop"):W.context.type},Fe.parens=function(R,q,W){return R=="{"||R=="}"?$t(R,q,W):R==")"?Je(W):R=="("?Le(W,q,"parens"):R=="interpolation"?Le(W,q,"interpolation"):(R=="word"&&Jr(q),"parens")},Fe.pseudo=function(R,q,W){return R=="meta"?"pseudo":R=="word"?(Oe="variable-3",W.context.type):we(R,q,W)},Fe.documentTypes=function(R,q,W){return R=="word"&&k.hasOwnProperty(q.current())?(Oe="tag",W.context.type):Fe.atBlock(R,q,W)},Fe.atBlock=function(R,q,W){if(R=="(")return Le(W,q,"atBlock_parens");if(R=="}"||R==";")return $t(R,q,W);if(R=="{")return Je(W)&&Le(W,q,qe?"block":"top");if(R=="interpolation")return Le(W,q,"interpolation");if(R=="word"){var Pe=q.current().toLowerCase();Pe=="only"||Pe=="not"||Pe=="and"||Pe=="or"?Oe="keyword":Y.hasOwnProperty(Pe)?Oe="attribute":G.hasOwnProperty(Pe)?Oe="property":se.hasOwnProperty(Pe)?Oe="keyword":Te.hasOwnProperty(Pe)?Oe="property":Me.hasOwnProperty(Pe)?Oe=me?"string-2":"property":jt.hasOwnProperty(Pe)?Oe="atom":Ke.hasOwnProperty(Pe)?Oe="keyword":Oe="error"}return W.context.type},Fe.atComponentBlock=function(R,q,W){return R=="}"?$t(R,q,W):R=="{"?Je(W)&&Le(W,q,qe?"block":"top",!1):(R=="word"&&(Oe="error"),W.context.type)},Fe.atBlock_parens=function(R,q,W){return R==")"?Je(W):R=="{"||R=="}"?$t(R,q,W,2):Fe.atBlock(R,q,W)},Fe.restricted_atBlock_before=function(R,q,W){return R=="{"?Le(W,q,"restricted_atBlock"):R=="word"&&W.stateArg=="@counter-style"?(Oe="variable","restricted_atBlock_before"):we(R,q,W)},Fe.restricted_atBlock=function(R,q,W){return R=="}"?(W.stateArg=null,Je(W)):R=="word"?(W.stateArg=="@font-face"&&!Qe.hasOwnProperty(q.current().toLowerCase())||W.stateArg=="@counter-style"&&!mr.hasOwnProperty(q.current().toLowerCase())?Oe="error":Oe="property","maybeprop"):"restricted_atBlock"},Fe.keyframes=function(R,q,W){return R=="word"?(Oe="variable","keyframes"):R=="{"?Le(W,q,"top"):we(R,q,W)},Fe.at=function(R,q,W){return R==";"?Je(W):R=="{"||R=="}"?$t(R,q,W):(R=="word"?Oe="tag":R=="hash"&&(Oe="builtin"),"at")},Fe.interpolation=function(R,q,W){return R=="}"?Je(W):R=="{"||R==";"?$t(R,q,W):(R=="word"?Oe="variable":R!="variable"&&R!="("&&R!=")"&&(Oe="error"),"interpolation")},{startState:function(R){return{tokenize:null,state:be?"block":"top",stateArg:null,context:new Bt(be?"block":"top",R||0,null)}},token:function(R,q){if(!q.tokenize&&R.eatSpace())return null;var W=(q.tokenize||Be)(R,q);return W&&typeof W=="object"&&(ke=W[1],W=W[0]),Oe=W,ke!="comment"&&(q.state=Fe[q.state](ke,R,q)),Oe},indent:function(R,q){var W=R.context,Pe=q&&q.charAt(0),xt=W.indent;return W.type=="prop"&&(Pe=="}"||Pe==")")&&(W=W.prev),W.prev&&(Pe=="}"&&(W.type=="block"||W.type=="top"||W.type=="interpolation"||W.type=="restricted_atBlock")?(W=W.prev,xt=W.indent):(Pe==")"&&(W.type=="parens"||W.type=="atBlock_parens")||Pe=="{"&&(W.type=="at"||W.type=="atBlock"))&&(xt=Math.max(0,W.indent-H))),xt},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:ve,fold:"brace"}});function o(le){for(var ae={},be=0;be<le.length;++be)ae[le[be].toLowerCase()]=!0;return ae}var f=["domain","regexp","url","url-prefix"],c=o(f),v=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],y=o(v),b=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],T=o(b),m=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],p=o(m),w=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],C=o(w),I=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],F=o(I),_=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],L=o(_),P=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],D=o(P),j=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],U=o(j),te=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],re=o(te),ie=f.concat(v).concat(b).concat(m).concat(w).concat(I).concat(j).concat(te);s.registerHelper("hintWords","css",ie);function he(le,ae){for(var be=!1,H;(H=le.next())!=null;){if(be&&H=="/"){ae.tokenize=null;break}be=H=="*"}return["comment","comment"]}s.defineMIME("text/css",{documentTypes:c,mediaTypes:y,mediaFeatures:T,mediaValueKeywords:p,propertyKeywords:C,nonStandardPropertyKeywords:F,fontProperties:L,counterDescriptors:D,colorKeywords:U,valueKeywords:re,tokenHooks:{"/":function(le,ae){return le.eat("*")?(ae.tokenize=he,he(le,ae)):!1}},name:"css"}),s.defineMIME("text/x-scss",{mediaTypes:y,mediaFeatures:T,mediaValueKeywords:p,propertyKeywords:C,nonStandardPropertyKeywords:F,colorKeywords:U,valueKeywords:re,fontProperties:L,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(le,ae){return le.eat("/")?(le.skipToEnd(),["comment","comment"]):le.eat("*")?(ae.tokenize=he,he(le,ae)):["operator","operator"]},":":function(le){return le.match(/^\s*\{/,!1)?[null,null]:!1},$:function(le){return le.match(/^[\w-]+/),le.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(le){return le.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),s.defineMIME("text/x-less",{mediaTypes:y,mediaFeatures:T,mediaValueKeywords:p,propertyKeywords:C,nonStandardPropertyKeywords:F,colorKeywords:U,valueKeywords:re,fontProperties:L,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(le,ae){return le.eat("/")?(le.skipToEnd(),["comment","comment"]):le.eat("*")?(ae.tokenize=he,he(le,ae)):["operator","operator"]},"@":function(le){return le.eat("{")?[null,"interpolation"]:le.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(le.eatWhile(/[\w\\\-]/),le.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),s.defineMIME("text/x-gss",{documentTypes:c,mediaTypes:y,mediaFeatures:T,propertyKeywords:C,nonStandardPropertyKeywords:F,fontProperties:L,counterDescriptors:D,colorKeywords:U,valueKeywords:re,supportsAtComponent:!0,tokenHooks:{"/":function(le,ae){return le.eat("*")?(ae.tokenize=he,he(le,ae)):!1}},name:"css",helperType:"gss"})})})();(function(u,n){(function(s){s(ln())})(function(s){var o={pairs:`()[]{}''""`,closeBefore:`)]}'":;>`,triples:"",explode:"[]{}"},f=s.Pos;s.defineOption("autoCloseBrackets",!1,function(L,P,D){D&&D!=s.Init&&(L.removeKeyMap(v),L.state.closeBrackets=null),P&&(y(c(P,"pairs")),L.state.closeBrackets=P,L.addKeyMap(v))});function c(L,P){return P=="pairs"&&typeof L=="string"?L:typeof L=="object"&&L[P]!=null?L[P]:o[P]}var v={Backspace:m,Enter:p};function y(L){for(var P=0;P<L.length;P++){var D=L.charAt(P),j="'"+D+"'";v[j]||(v[j]=b(D))}}y(o.pairs+"`");function b(L){return function(P){return I(P,L)}}function T(L){var P=L.state.closeBrackets;if(!P||P.override)return P;var D=L.getModeAt(L.getCursor());return D.closeBrackets||P}function m(L){var P=T(L);if(!P||L.getOption("disableInput"))return s.Pass;for(var D=c(P,"pairs"),j=L.listSelections(),U=0;U<j.length;U++){if(!j[U].empty())return s.Pass;var te=F(L,j[U].head);if(!te||D.indexOf(te)%2!=0)return s.Pass}for(var U=j.length-1;U>=0;U--){var re=j[U].head;L.replaceRange("",f(re.line,re.ch-1),f(re.line,re.ch+1),"+delete")}}function p(L){var P=T(L),D=P&&c(P,"explode");if(!D||L.getOption("disableInput"))return s.Pass;for(var j=L.listSelections(),U=0;U<j.length;U++){if(!j[U].empty())return s.Pass;var te=F(L,j[U].head);if(!te||D.indexOf(te)%2!=0)return s.Pass}L.operation(function(){var re=L.lineSeparator()||`
`;L.replaceSelection(re+re,null),w(L,-1),j=L.listSelections();for(var ie=0;ie<j.length;ie++){var he=j[ie].head.line;L.indentLine(he,null,!0),L.indentLine(he+1,null,!0)}})}function w(L,P){for(var D=[],j=L.listSelections(),U=0,te=0;te<j.length;te++){var re=j[te];re.head==L.getCursor()&&(U=te);var ie=re.head.ch||P>0?{line:re.head.line,ch:re.head.ch+P}:{line:re.head.line-1};D.push({anchor:ie,head:ie})}L.setSelections(D,U)}function C(L){var P=s.cmpPos(L.anchor,L.head)>0;return{anchor:new f(L.anchor.line,L.anchor.ch+(P?-1:1)),head:new f(L.head.line,L.head.ch+(P?1:-1))}}function I(L,P){var D=T(L);if(!D||L.getOption("disableInput"))return s.Pass;var j=c(D,"pairs"),U=j.indexOf(P);if(U==-1)return s.Pass;for(var te=c(D,"closeBefore"),re=c(D,"triples"),ie=j.charAt(U+1)==P,he=L.listSelections(),le=U%2==0,ae,be=0;be<he.length;be++){var H=he[be],X=H.head,k,Y=L.getRange(X,f(X.line,X.ch+1));if(le&&!H.empty())k="surround";else if((ie||!le)&&Y==P)ie&&_(L,X)?k="both":re.indexOf(P)>=0&&L.getRange(X,f(X.line,X.ch+3))==P+P+P?k="skipThree":k="skip";else if(ie&&X.ch>1&&re.indexOf(P)>=0&&L.getRange(f(X.line,X.ch-2),X)==P+P){if(X.ch>2&&/\bstring/.test(L.getTokenTypeAt(f(X.line,X.ch-2))))return s.Pass;k="addFour"}else if(ie){var G=X.ch==0?" ":L.getRange(f(X.line,X.ch-1),X);if(!s.isWordChar(Y)&&G!=P&&!s.isWordChar(G))k="both";else return s.Pass}else if(le&&(Y.length===0||/\s/.test(Y)||te.indexOf(Y)>-1))k="both";else return s.Pass;if(!ae)ae=k;else if(ae!=k)return s.Pass}var se=U%2?j.charAt(U-1):P,Te=U%2?P:j.charAt(U+1);L.operation(function(){if(ae=="skip")w(L,1);else if(ae=="skipThree")w(L,3);else if(ae=="surround"){for(var Me=L.getSelections(),Qe=0;Qe<Me.length;Qe++)Me[Qe]=se+Me[Qe]+Te;L.replaceSelections(Me,"around"),Me=L.listSelections().slice();for(var Qe=0;Qe<Me.length;Qe++)Me[Qe]=C(Me[Qe]);L.setSelections(Me)}else ae=="both"?(L.replaceSelection(se+Te,null),L.triggerElectric(se+Te),w(L,-1)):ae=="addFour"&&(L.replaceSelection(se+se+se+se,"before"),w(L,1))})}function F(L,P){var D=L.getRange(f(P.line,P.ch-1),f(P.line,P.ch+1));return D.length==2?D:null}function _(L,P){var D=L.getTokenAt(f(P.line,P.ch+1));return/\bstring/.test(D.type)&&D.start==P.ch&&(P.ch==0||!/\bstring/.test(L.getTokenTypeAt(P)))}})})();var kc={},Tc;function l0(){return Tc||(Tc=1,function(u,n){(function(s){s(ln())})(function(s){var o=s.Pos;function f(P,D){return P.line-D.line||P.ch-D.ch}var c="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",v=c+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",y=new RegExp("<(/?)(["+c+"]["+v+"]*)","g");function b(P,D,j,U){this.line=D,this.ch=j,this.cm=P,this.text=P.getLine(D),this.min=U?Math.max(U.from,P.firstLine()):P.firstLine(),this.max=U?Math.min(U.to-1,P.lastLine()):P.lastLine()}function T(P,D){var j=P.cm.getTokenTypeAt(o(P.line,D));return j&&/\btag\b/.test(j)}function m(P){if(!(P.line>=P.max))return P.ch=0,P.text=P.cm.getLine(++P.line),!0}function p(P){if(!(P.line<=P.min))return P.text=P.cm.getLine(--P.line),P.ch=P.text.length,!0}function w(P){for(;;){var D=P.text.indexOf(">",P.ch);if(D==-1){if(m(P))continue;return}if(!T(P,D+1)){P.ch=D+1;continue}var j=P.text.lastIndexOf("/",D),U=j>-1&&!/\S/.test(P.text.slice(j+1,D));return P.ch=D+1,U?"selfClose":"regular"}}function C(P){for(;;){var D=P.ch?P.text.lastIndexOf("<",P.ch-1):-1;if(D==-1){if(p(P))continue;return}if(!T(P,D+1)){P.ch=D;continue}y.lastIndex=D,P.ch=D;var j=y.exec(P.text);if(j&&j.index==D)return j}}function I(P){for(;;){y.lastIndex=P.ch;var D=y.exec(P.text);if(!D){if(m(P))continue;return}if(!T(P,D.index+1)){P.ch=D.index+1;continue}return P.ch=D.index+D[0].length,D}}function F(P){for(;;){var D=P.ch?P.text.lastIndexOf(">",P.ch-1):-1;if(D==-1){if(p(P))continue;return}if(!T(P,D+1)){P.ch=D;continue}var j=P.text.lastIndexOf("/",D),U=j>-1&&!/\S/.test(P.text.slice(j+1,D));return P.ch=D+1,U?"selfClose":"regular"}}function _(P,D){for(var j=[];;){var U=I(P),te,re=P.line,ie=P.ch-(U?U[0].length:0);if(!U||!(te=w(P)))return;if(te!="selfClose")if(U[1]){for(var he=j.length-1;he>=0;--he)if(j[he]==U[2]){j.length=he;break}if(he<0&&(!D||D==U[2]))return{tag:U[2],from:o(re,ie),to:o(P.line,P.ch)}}else j.push(U[2])}}function L(P,D){for(var j=[];;){var U=F(P);if(!U)return;if(U=="selfClose"){C(P);continue}var te=P.line,re=P.ch,ie=C(P);if(!ie)return;if(ie[1])j.push(ie[2]);else{for(var he=j.length-1;he>=0;--he)if(j[he]==ie[2]){j.length=he;break}if(he<0&&(!D||D==ie[2]))return{tag:ie[2],from:o(P.line,P.ch),to:o(te,re)}}}}s.registerHelper("fold","xml",function(P,D){for(var j=new b(P,D.line,0);;){var U=I(j);if(!U||j.line!=D.line)return;var te=w(j);if(!te)return;if(!U[1]&&te!="selfClose"){var re=o(j.line,j.ch),ie=_(j,U[2]);return ie&&f(ie.from,re)>0?{from:re,to:ie.from}:null}}}),s.findMatchingTag=function(P,D,j){var U=new b(P,D.line,D.ch,j);if(!(U.text.indexOf(">")==-1&&U.text.indexOf("<")==-1)){var te=w(U),re=te&&o(U.line,U.ch),ie=te&&C(U);if(!(!te||!ie||f(U,D)>0)){var he={from:o(U.line,U.ch),to:re,tag:ie[2]};return te=="selfClose"?{open:he,close:null,at:"open"}:ie[1]?{open:L(U,ie[2]),close:he,at:"close"}:(U=new b(P,re.line,re.ch,j),{open:he,close:_(U,ie[2]),at:"open"})}}},s.findEnclosingTag=function(P,D,j,U){for(var te=new b(P,D.line,D.ch,j);;){var re=L(te,U);if(!re)break;var ie=new b(P,D.line,D.ch,j),he=_(ie,re.tag);if(he)return{open:re,close:he}}},s.scanForClosingTag=function(P,D,j,U){var te=new b(P,D.line,D.ch,U?{from:0,to:U}:null);return _(te,j)}})}()),kc}(function(u,n){(function(s){s(ln(),l0())})(function(s){s.defineOption("autoCloseTags",!1,function(m,p,w){if(w!=s.Init&&w&&m.removeKeyMap("autoCloseTags"),!!p){var C={name:"autoCloseTags"};(typeof p!="object"||p.whenClosing!==!1)&&(C["'/'"]=function(I){return y(I)}),(typeof p!="object"||p.whenOpening!==!1)&&(C["'>'"]=function(I){return c(I)}),m.addKeyMap(C)}});var o=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],f=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];function c(m){if(m.getOption("disableInput"))return s.Pass;for(var p=m.listSelections(),w=[],C=m.getOption("autoCloseTags"),I=0;I<p.length;I++){if(!p[I].empty())return s.Pass;var F=p[I].head,_=m.getTokenAt(F),L=s.innerMode(m.getMode(),_.state),P=L.state,D=L.mode.xmlCurrentTag&&L.mode.xmlCurrentTag(P),j=D&&D.name;if(!j)return s.Pass;var U=L.mode.configuration=="html",te=typeof C=="object"&&C.dontCloseTags||U&&o,re=typeof C=="object"&&C.indentTags||U&&f;_.end>F.ch&&(j=j.slice(0,j.length-_.end+F.ch));var ie=j.toLowerCase();if(!j||_.type=="string"&&(_.end!=F.ch||!/[\"\']/.test(_.string.charAt(_.string.length-1))||_.string.length==1)||_.type=="tag"&&D.close||_.string.indexOf("/")==F.ch-_.start-1||te&&b(te,ie)>-1||T(m,L.mode.xmlCurrentContext&&L.mode.xmlCurrentContext(P)||[],j,F,!0))return s.Pass;var he=typeof C=="object"&&C.emptyTags;if(he&&b(he,j)>-1){w[I]={text:"/>",newPos:s.Pos(F.line,F.ch+2)};continue}var le=re&&b(re,ie)>-1;w[I]={indent:le,text:">"+(le?`

`:"")+"</"+j+">",newPos:le?s.Pos(F.line+1,0):s.Pos(F.line,F.ch+1)}}for(var ae=typeof C=="object"&&C.dontIndentOnAutoClose,I=p.length-1;I>=0;I--){var be=w[I];m.replaceRange(be.text,p[I].head,p[I].anchor,"+insert");var H=m.listSelections().slice(0);H[I]={head:be.newPos,anchor:be.newPos},m.setSelections(H),!ae&&be.indent&&(m.indentLine(be.newPos.line,null,!0),m.indentLine(be.newPos.line+1,null,!0))}}function v(m,p){for(var w=m.listSelections(),C=[],I=p?"/":"</",F=m.getOption("autoCloseTags"),_=typeof F=="object"&&F.dontIndentOnSlash,L=0;L<w.length;L++){if(!w[L].empty())return s.Pass;var P=w[L].head,D=m.getTokenAt(P),j=s.innerMode(m.getMode(),D.state),U=j.state;if(p&&(D.type=="string"||D.string.charAt(0)!="<"||D.start!=P.ch-1))return s.Pass;var te,re=j.mode.name!="xml"&&m.getMode().name=="htmlmixed";if(re&&j.mode.name=="javascript")te=I+"script";else if(re&&j.mode.name=="css")te=I+"style";else{var ie=j.mode.xmlCurrentContext&&j.mode.xmlCurrentContext(U),he=ie.length?ie[ie.length-1]:"";if(!ie||ie.length&&T(m,ie,he,P))return s.Pass;te=I+he}m.getLine(P.line).charAt(D.end)!=">"&&(te+=">"),C[L]=te}if(m.replaceSelections(C),w=m.listSelections(),!_)for(var L=0;L<w.length;L++)(L==w.length-1||w[L].head.line<w[L+1].head.line)&&m.indentLine(w[L].head.line)}function y(m){return m.getOption("disableInput")?s.Pass:v(m,!0)}s.commands.closeTag=function(m){return v(m)};function b(m,p){if(m.indexOf)return m.indexOf(p);for(var w=0,C=m.length;w<C;++w)if(m[w]==p)return w;return-1}function T(m,p,w,C,I){if(!s.scanForClosingTag)return!1;var F=Math.min(m.lastLine()+1,C.line+500),_=s.scanForClosingTag(m,C,null,F);if(!_||_.tag!=w)return!1;for(var L=I?1:0,P=p.length-1;P>=0&&p[P]==w;P--)++L;C=_.to;for(var P=1;P<L;P++){var D=s.scanForClosingTag(m,C,null,F);if(!D||D.tag!=w)return!1;C=D.to}return!0}})})();var Vl={},u0={get exports(){return Vl},set exports(u){Vl=u}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(u,n){(function(s){var o=Math.cosh||function(p){return Math.abs(p)<1e-9?1-p:(Math.exp(p)+Math.exp(-p))*.5},f=Math.sinh||function(p){return Math.abs(p)<1e-9?p:(Math.exp(p)-Math.exp(-p))*.5},c=function(p){var w=Math.PI/4;if(-w>p||p>w)return Math.cos(p)-1;var C=p*p;return C*(C*(C*(C*(C*(C*(C*(C/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},v=function(p,w){var C=Math.abs(p),I=Math.abs(w);return C<3e3&&I<3e3?Math.sqrt(C*C+I*I):(C<I?(C=I,I=p/w):I=w/p,C*Math.sqrt(1+I*I))},y=function(){throw SyntaxError("Invalid Param")};function b(p,w){var C=Math.abs(p),I=Math.abs(w);return p===0?Math.log(I):w===0?Math.log(C):C<3e3&&I<3e3?Math.log(p*p+w*w)*.5:(p=p/2,w=w/2,.5*Math.log(p*p+w*w)+Math.LN2)}var T=function(p,w){var C={re:0,im:0};if(p==null)C.re=C.im=0;else if(w!==void 0)C.re=p,C.im=w;else switch(typeof p){case"object":if("im"in p&&"re"in p)C.re=p.re,C.im=p.im;else if("abs"in p&&"arg"in p){if(!Number.isFinite(p.abs)&&Number.isFinite(p.arg))return m.INFINITY;C.re=p.abs*Math.cos(p.arg),C.im=p.abs*Math.sin(p.arg)}else if("r"in p&&"phi"in p){if(!Number.isFinite(p.r)&&Number.isFinite(p.phi))return m.INFINITY;C.re=p.r*Math.cos(p.phi),C.im=p.r*Math.sin(p.phi)}else p.length===2?(C.re=p[0],C.im=p[1]):y();break;case"string":C.im=C.re=0;var I=p.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),F=1,_=0;I===null&&y();for(var L=0;L<I.length;L++){var P=I[L];P===" "||P==="	"||P===`
`||(P==="+"?F++:P==="-"?_++:P==="i"||P==="I"?(F+_===0&&y(),I[L+1]!==" "&&!isNaN(I[L+1])?(C.im+=parseFloat((_%2?"-":"")+I[L+1]),L++):C.im+=parseFloat((_%2?"-":"")+"1"),F=_=0):((F+_===0||isNaN(P))&&y(),I[L+1]==="i"||I[L+1]==="I"?(C.im+=parseFloat((_%2?"-":"")+P),L++):C.re+=parseFloat((_%2?"-":"")+P),F=_=0))}F+_>0&&y();break;case"number":C.im=0,C.re=p;break;default:y()}return isNaN(C.re)||isNaN(C.im),C};function m(p,w){if(!(this instanceof m))return new m(p,w);var C=T(p,w);this.re=C.re,this.im=C.im}m.prototype={re:0,im:0,sign:function(){var p=this.abs();return new m(this.re/p,this.im/p)},add:function(p,w){var C=new m(p,w);return this.isInfinite()&&C.isInfinite()?m.NAN:this.isInfinite()||C.isInfinite()?m.INFINITY:new m(this.re+C.re,this.im+C.im)},sub:function(p,w){var C=new m(p,w);return this.isInfinite()&&C.isInfinite()?m.NAN:this.isInfinite()||C.isInfinite()?m.INFINITY:new m(this.re-C.re,this.im-C.im)},mul:function(p,w){var C=new m(p,w);return this.isInfinite()&&C.isZero()||this.isZero()&&C.isInfinite()?m.NAN:this.isInfinite()||C.isInfinite()?m.INFINITY:C.im===0&&this.im===0?new m(this.re*C.re,0):new m(this.re*C.re-this.im*C.im,this.re*C.im+this.im*C.re)},div:function(p,w){var C=new m(p,w);if(this.isZero()&&C.isZero()||this.isInfinite()&&C.isInfinite())return m.NAN;if(this.isInfinite()||C.isZero())return m.INFINITY;if(this.isZero()||C.isInfinite())return m.ZERO;p=this.re,w=this.im;var I=C.re,F=C.im,_,L;return F===0?new m(p/I,w/I):Math.abs(I)<Math.abs(F)?(L=I/F,_=I*L+F,new m((p*L+w)/_,(w*L-p)/_)):(L=F/I,_=F*L+I,new m((p+w*L)/_,(w-p*L)/_))},pow:function(p,w){var C=new m(p,w);if(p=this.re,w=this.im,C.isZero())return m.ONE;if(C.im===0){if(w===0&&p>0)return new m(Math.pow(p,C.re),0);if(p===0)switch((C.re%4+4)%4){case 0:return new m(Math.pow(w,C.re),0);case 1:return new m(0,Math.pow(w,C.re));case 2:return new m(-Math.pow(w,C.re),0);case 3:return new m(0,-Math.pow(w,C.re))}}if(p===0&&w===0&&C.re>0&&C.im>=0)return m.ZERO;var I=Math.atan2(w,p),F=b(p,w);return p=Math.exp(C.re*F-C.im*I),w=C.im*F+C.re*I,new m(p*Math.cos(w),p*Math.sin(w))},sqrt:function(){var p=this.re,w=this.im,C=this.abs(),I,F;if(p>=0){if(w===0)return new m(Math.sqrt(p),0);I=.5*Math.sqrt(2*(C+p))}else I=Math.abs(w)/Math.sqrt(2*(C-p));return p<=0?F=.5*Math.sqrt(2*(C-p)):F=Math.abs(w)/Math.sqrt(2*(C+p)),new m(I,w<0?-F:F)},exp:function(){var p=Math.exp(this.re);return this.im,new m(p*Math.cos(this.im),p*Math.sin(this.im))},expm1:function(){var p=this.re,w=this.im;return new m(Math.expm1(p)*Math.cos(w)+c(w),Math.exp(p)*Math.sin(w))},log:function(){var p=this.re,w=this.im;return new m(b(p,w),Math.atan2(w,p))},abs:function(){return v(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var p=this.re,w=this.im;return new m(Math.sin(p)*o(w),Math.cos(p)*f(w))},cos:function(){var p=this.re,w=this.im;return new m(Math.cos(p)*o(w),-Math.sin(p)*f(w))},tan:function(){var p=2*this.re,w=2*this.im,C=Math.cos(p)+o(w);return new m(Math.sin(p)/C,f(w)/C)},cot:function(){var p=2*this.re,w=2*this.im,C=Math.cos(p)-o(w);return new m(-Math.sin(p)/C,f(w)/C)},sec:function(){var p=this.re,w=this.im,C=.5*o(2*w)+.5*Math.cos(2*p);return new m(Math.cos(p)*o(w)/C,Math.sin(p)*f(w)/C)},csc:function(){var p=this.re,w=this.im,C=.5*o(2*w)-.5*Math.cos(2*p);return new m(Math.sin(p)*o(w)/C,-Math.cos(p)*f(w)/C)},asin:function(){var p=this.re,w=this.im,C=new m(w*w-p*p+1,-2*p*w).sqrt(),I=new m(C.re-w,C.im+p).log();return new m(I.im,-I.re)},acos:function(){var p=this.re,w=this.im,C=new m(w*w-p*p+1,-2*p*w).sqrt(),I=new m(C.re-w,C.im+p).log();return new m(Math.PI/2-I.im,I.re)},atan:function(){var p=this.re,w=this.im;if(p===0){if(w===1)return new m(0,1/0);if(w===-1)return new m(0,-1/0)}var C=p*p+(1-w)*(1-w),I=new m((1-w*w-p*p)/C,-2*p/C).log();return new m(-.5*I.im,.5*I.re)},acot:function(){var p=this.re,w=this.im;if(w===0)return new m(Math.atan2(1,p),0);var C=p*p+w*w;return C!==0?new m(p/C,-w/C).atan():new m(p!==0?p/0:0,w!==0?-w/0:0).atan()},asec:function(){var p=this.re,w=this.im;if(p===0&&w===0)return new m(0,1/0);var C=p*p+w*w;return C!==0?new m(p/C,-w/C).acos():new m(p!==0?p/0:0,w!==0?-w/0:0).acos()},acsc:function(){var p=this.re,w=this.im;if(p===0&&w===0)return new m(Math.PI/2,1/0);var C=p*p+w*w;return C!==0?new m(p/C,-w/C).asin():new m(p!==0?p/0:0,w!==0?-w/0:0).asin()},sinh:function(){var p=this.re,w=this.im;return new m(f(p)*Math.cos(w),o(p)*Math.sin(w))},cosh:function(){var p=this.re,w=this.im;return new m(o(p)*Math.cos(w),f(p)*Math.sin(w))},tanh:function(){var p=2*this.re,w=2*this.im,C=o(p)+Math.cos(w);return new m(f(p)/C,Math.sin(w)/C)},coth:function(){var p=2*this.re,w=2*this.im,C=o(p)-Math.cos(w);return new m(f(p)/C,-Math.sin(w)/C)},csch:function(){var p=this.re,w=this.im,C=Math.cos(2*w)-o(2*p);return new m(-2*f(p)*Math.cos(w)/C,2*o(p)*Math.sin(w)/C)},sech:function(){var p=this.re,w=this.im,C=Math.cos(2*w)+o(2*p);return new m(2*o(p)*Math.cos(w)/C,-2*f(p)*Math.sin(w)/C)},asinh:function(){var p=this.im;this.im=-this.re,this.re=p;var w=this.asin();return this.re=-this.im,this.im=p,p=w.re,w.re=-w.im,w.im=p,w},acosh:function(){var p=this.acos();if(p.im<=0){var w=p.re;p.re=-p.im,p.im=w}else{var w=p.im;p.im=-p.re,p.re=w}return p},atanh:function(){var p=this.re,w=this.im,C=p>1&&w===0,I=1-p,F=1+p,_=I*I+w*w,L=_!==0?new m((F*I-w*w)/_,(w*I+F*w)/_):new m(p!==-1?p/0:0,w!==0?w/0:0),P=L.re;return L.re=b(L.re,L.im)/2,L.im=Math.atan2(L.im,P)/2,C&&(L.im=-L.im),L},acoth:function(){var p=this.re,w=this.im;if(p===0&&w===0)return new m(0,Math.PI/2);var C=p*p+w*w;return C!==0?new m(p/C,-w/C).atanh():new m(p!==0?p/0:0,w!==0?-w/0:0).atanh()},acsch:function(){var p=this.re,w=this.im;if(w===0)return new m(p!==0?Math.log(p+Math.sqrt(p*p+1)):1/0,0);var C=p*p+w*w;return C!==0?new m(p/C,-w/C).asinh():new m(p!==0?p/0:0,w!==0?-w/0:0).asinh()},asech:function(){var p=this.re,w=this.im;if(this.isZero())return m.INFINITY;var C=p*p+w*w;return C!==0?new m(p/C,-w/C).acosh():new m(p!==0?p/0:0,w!==0?-w/0:0).acosh()},inverse:function(){if(this.isZero())return m.INFINITY;if(this.isInfinite())return m.ZERO;var p=this.re,w=this.im,C=p*p+w*w;return new m(p/C,-w/C)},conjugate:function(){return new m(this.re,-this.im)},neg:function(){return new m(-this.re,-this.im)},ceil:function(p){return p=Math.pow(10,p||0),new m(Math.ceil(this.re*p)/p,Math.ceil(this.im*p)/p)},floor:function(p){return p=Math.pow(10,p||0),new m(Math.floor(this.re*p)/p,Math.floor(this.im*p)/p)},round:function(p){return p=Math.pow(10,p||0),new m(Math.round(this.re*p)/p,Math.round(this.im*p)/p)},equals:function(p,w){var C=new m(p,w);return Math.abs(C.re-this.re)<=m.EPSILON&&Math.abs(C.im-this.im)<=m.EPSILON},clone:function(){return new m(this.re,this.im)},toString:function(){var p=this.re,w=this.im,C="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(p)<m.EPSILON&&(p=0),Math.abs(w)<m.EPSILON&&(w=0),w===0?C+p:(p!==0?(C+=p,C+=" ",w<0?(w=-w,C+="-"):C+="+",C+=" "):w<0&&(w=-w,C+="-"),w!==1&&(C+=w),C+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},m.ZERO=new m(0,0),m.ONE=new m(1,0),m.I=new m(0,1),m.PI=new m(Math.PI,0),m.E=new m(Math.E,0),m.INFINITY=new m(1/0,1/0),m.NAN=new m(NaN,NaN),m.EPSILON=1e-15,Object.defineProperty(m,"__esModule",{value:!0}),m.default=m,m.Complex=m,u.exports=m})()})(u0);const OA=r0(Vl);var Jn="",Gl="",Lv="",Iv="",f0=Ls&&"ontouchstart"in document.documentElement;if(Ls){var qo={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},h0=document.createElement("p"),Yo=h0.style,c0="Transform";for(var Xo in qo)if(Xo+c0 in Yo){Jn=Xo,Gl=qo[Xo];break}Jn==="Webkit"&&"msHyphens"in Yo&&(Jn="ms",Gl=qo.ms,Iv="edge"),Jn==="Webkit"&&"-apple-trailing-word"in Yo&&(Lv="apple")}var Ce={js:Jn,css:Gl,vendor:Lv,browser:Iv,isTouch:f0};function PA(u){return u[1]==="-"||Ce.js==="ms"?u:"@"+Ce.css+"keyframes"+u.substr(10)}var d0={noPrefill:["appearance"],supportedProperty:function(n){return n!=="appearance"?!1:Ce.js==="ms"?"-webkit-"+n:Ce.css+n}},v0={noPrefill:["color-adjust"],supportedProperty:function(n){return n!=="color-adjust"?!1:Ce.js==="Webkit"?Ce.css+"print-"+n:n}},g0=/[-\s]+(.)?/g;function p0(u,n){return n?n.toUpperCase():""}function Iu(u){return u.replace(g0,p0)}function Yr(u){return Iu("-"+u)}var y0={noPrefill:["mask"],supportedProperty:function(n,s){if(!/^mask/.test(n))return!1;if(Ce.js==="Webkit"){var o="mask-image";if(Iu(o)in s)return n;if(Ce.js+Yr(o)in s)return Ce.css+n}return n}},m0={noPrefill:["text-orientation"],supportedProperty:function(n){return n!=="text-orientation"?!1:Ce.vendor==="apple"&&!Ce.isTouch?Ce.css+n:n}},b0={noPrefill:["transform"],supportedProperty:function(n,s,o){return n!=="transform"?!1:o.transform?n:Ce.css+n}},x0={noPrefill:["transition"],supportedProperty:function(n,s,o){return n!=="transition"?!1:o.transition?n:Ce.css+n}},w0={noPrefill:["writing-mode"],supportedProperty:function(n){return n!=="writing-mode"?!1:Ce.js==="Webkit"||Ce.js==="ms"&&Ce.browser!=="edge"?Ce.css+n:n}},S0={noPrefill:["user-select"],supportedProperty:function(n){return n!=="user-select"?!1:Ce.js==="Moz"||Ce.js==="ms"||Ce.vendor==="apple"?Ce.css+n:n}},C0={supportedProperty:function(n,s){if(!/^break-/.test(n))return!1;if(Ce.js==="Webkit"){var o="WebkitColumn"+Yr(n);return o in s?Ce.css+"column-"+n:!1}if(Ce.js==="Moz"){var f="page"+Yr(n);return f in s?"page-"+n:!1}return!1}},k0={supportedProperty:function(n,s){if(!/^(border|margin|padding)-inline/.test(n))return!1;if(Ce.js==="Moz")return n;var o=n.replace("-inline","");return Ce.js+Yr(o)in s?Ce.css+o:!1}},T0={supportedProperty:function(n,s){return Iu(n)in s?n:!1}},O0={supportedProperty:function(n,s){var o=Yr(n);return n[0]==="-"||n[0]==="-"&&n[1]==="-"?n:Ce.js+o in s?Ce.css+n:Ce.js!=="Webkit"&&"Webkit"+o in s?"-webkit-"+n:!1}},P0={supportedProperty:function(n){return n.substring(0,11)!=="scroll-snap"?!1:Ce.js==="ms"?""+Ce.css+n:n}},E0={supportedProperty:function(n){return n!=="overscroll-behavior"?!1:Ce.js==="ms"?Ce.css+"scroll-chaining":n}},A0={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},M0={supportedProperty:function(n,s){var o=A0[n];return o&&Ce.js+Yr(o)in s?Ce.css+o:!1}},Nv={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},L0=Object.keys(Nv),I0=function(n){return Ce.css+n},N0={supportedProperty:function(n,s,o){var f=o.multiple;if(L0.indexOf(n)>-1){var c=Nv[n];if(!Array.isArray(c))return Ce.js+Yr(c)in s?Ce.css+c:!1;if(!f)return!1;for(var v=0;v<c.length;v++)if(!(Ce.js+Yr(c[0])in s))return!1;return c.map(I0)}return!1}},$v=[d0,v0,y0,m0,b0,x0,w0,S0,C0,k0,T0,O0,P0,E0,M0,N0],Oc=$v.filter(function(u){return u.supportedProperty}).map(function(u){return u.supportedProperty}),$0=$v.filter(function(u){return u.noPrefill}).reduce(function(u,n){return u.push.apply(u,i0(n.noPrefill)),u},[]),ea,gi={};if(Ls){ea=document.createElement("p");var Zo=window.getComputedStyle(document.documentElement,"");for(var Qo in Zo)isNaN(Qo)||(gi[Zo[Qo]]=Zo[Qo]);$0.forEach(function(u){return delete gi[u]})}function Pc(u,n){if(n===void 0&&(n={}),!ea)return u;if(gi[u]!=null)return gi[u];(u==="transition"||u==="transform")&&(n[u]=u in ea.style);for(var s=0;s<Oc.length&&(gi[u]=Oc[s](u,ea.style,n),!gi[u]);s++);try{ea.style[u]=""}catch{return!1}return gi[u]}var Yi={},R0={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},D0=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,qr;function F0(u,n,s){if(n==="var")return"var";if(n==="all")return"all";if(s==="all")return", all";var o=n?Pc(n):", "+Pc(s);return o||n||s}Ls&&(qr=document.createElement("p"));function EA(u,n){var s=n;if(!qr||u==="content")return n;if(typeof s!="string"||!isNaN(parseInt(s,10)))return s;var o=u+s;if(Yi[o]!=null)return Yi[o];try{qr.style[u]=s}catch{return Yi[o]=!1,!1}if(R0[u])s=s.replace(D0,F0);else if(qr.style[u]===""&&(s=Ce.css+s,s==="-ms-flex"&&(qr.style[u]="-ms-flexbox"),qr.style[u]=s,qr.style[u]===""))return Yi[o]=!1,!1;return qr.style[u]="",Yi[o]=s,Yi[o]}var es=function(u){return u&&u.Math==Math&&u},dt=es(typeof globalThis=="object"&&globalThis)||es(typeof window=="object"&&window)||es(typeof self=="object"&&self)||es(typeof Hl=="object"&&Hl)||function(){return this}()||Function("return this")(),un={},rt=function(u){try{return!!u()}catch{return!0}},_0=rt,vr=!_0(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),B0=rt,Ns=!B0(function(){var u=function(){}.bind();return typeof u!="function"||u.hasOwnProperty("prototype")}),z0=Ns,ts=Function.prototype.call,bt=z0?ts.bind(ts):function(){return ts.apply(ts,arguments)},Rv={},Dv={}.propertyIsEnumerable,Fv=Object.getOwnPropertyDescriptor,W0=Fv&&!Dv.call({1:2},1);Rv.f=W0?function(n){var s=Fv(this,n);return!!s&&s.enumerable}:Dv;var $s=function(u,n){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:n}},_v=Ns,Bv=Function.prototype,Kl=Bv.call,H0=_v&&Bv.bind.bind(Kl,Kl),it=_v?H0:function(u){return function(){return Kl.apply(u,arguments)}},zv=it,j0=zv({}.toString),U0=zv("".slice),wi=function(u){return U0(j0(u),8,-1)},V0=it,G0=rt,K0=wi,Jo=Object,q0=V0("".split),Wv=G0(function(){return!Jo("z").propertyIsEnumerable(0)})?function(u){return K0(u)=="String"?q0(u,""):Jo(u)}:Jo,Si=function(u){return u==null},Y0=Si,X0=TypeError,gr=function(u){if(Y0(u))throw X0("Can't call method on "+u);return u},Z0=Wv,Q0=gr,oa=function(u){return Z0(Q0(u))},ql=typeof document=="object"&&document.all,J0=typeof ql>"u"&&ql!==void 0,Hv={all:ql,IS_HTMLDDA:J0},jv=Hv,eb=jv.all,Ze=jv.IS_HTMLDDA?function(u){return typeof u=="function"||u===eb}:function(u){return typeof u=="function"},Ec=Ze,Uv=Hv,tb=Uv.all,Nr=Uv.IS_HTMLDDA?function(u){return typeof u=="object"?u!==null:Ec(u)||u===tb}:function(u){return typeof u=="object"?u!==null:Ec(u)},el=dt,rb=Ze,ib=function(u){return rb(u)?u:void 0},Ci=function(u,n){return arguments.length<2?ib(el[u]):el[u]&&el[u][n]},nb=it,Rs=nb({}.isPrototypeOf),Ds=typeof navigator<"u"&&String(navigator.userAgent)||"",Vv=dt,tl=Ds,Ac=Vv.process,Mc=Vv.Deno,Lc=Ac&&Ac.versions||Mc&&Mc.version,Ic=Lc&&Lc.v8,er,Cs;Ic&&(er=Ic.split("."),Cs=er[0]>0&&er[0]<4?1:+(er[0]+er[1]));!Cs&&tl&&(er=tl.match(/Edge\/(\d+)/),(!er||er[1]>=74)&&(er=tl.match(/Chrome\/(\d+)/),er&&(Cs=+er[1])));var Nu=Cs,Nc=Nu,ab=rt,Gv=!!Object.getOwnPropertySymbols&&!ab(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&Nc&&Nc<41}),sb=Gv,Kv=sb&&!Symbol.sham&&typeof Symbol.iterator=="symbol",ob=Ci,lb=Ze,ub=Rs,fb=Kv,hb=Object,qv=fb?function(u){return typeof u=="symbol"}:function(u){var n=ob("Symbol");return lb(n)&&ub(n.prototype,hb(u))},cb=String,Fs=function(u){try{return cb(u)}catch{return"Object"}},db=Ze,vb=Fs,gb=TypeError,$r=function(u){if(db(u))return u;throw gb(vb(u)+" is not a function")},pb=$r,yb=Si,fn=function(u,n){var s=u[n];return yb(s)?void 0:pb(s)},rl=bt,il=Ze,nl=Nr,mb=TypeError,bb=function(u,n){var s,o;if(n==="string"&&il(s=u.toString)&&!nl(o=rl(s,u))||il(s=u.valueOf)&&!nl(o=rl(s,u))||n!=="string"&&il(s=u.toString)&&!nl(o=rl(s,u)))return o;throw mb("Can't convert object to primitive value")},na={},xb={get exports(){return na},set exports(u){na=u}},$c=dt,wb=Object.defineProperty,$u=function(u,n){try{wb($c,u,{value:n,configurable:!0,writable:!0})}catch{$c[u]=n}return n},Sb=dt,Cb=$u,Rc="__core-js_shared__",kb=Sb[Rc]||Cb(Rc,{}),Ru=kb,Dc=Ru;(xb.exports=function(u,n){return Dc[u]||(Dc[u]=n!==void 0?n:{})})("versions",[]).push({version:"3.30.0",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Tb=gr,Ob=Object,_s=function(u){return Ob(Tb(u))},Pb=it,Eb=_s,Ab=Pb({}.hasOwnProperty),tr=Object.hasOwn||function(n,s){return Ab(Eb(n),s)},Mb=it,Lb=0,Ib=Math.random(),Nb=Mb(1 .toString),Yv=function(u){return"Symbol("+(u===void 0?"":u)+")_"+Nb(++Lb+Ib,36)},$b=dt,Rb=na,Fc=tr,Db=Yv,Fb=Gv,_b=Kv,rn=$b.Symbol,al=Rb("wks"),Bb=_b?rn.for||rn:rn&&rn.withoutSetter||Db,vt=function(u){return Fc(al,u)||(al[u]=Fb&&Fc(rn,u)?rn[u]:Bb("Symbol."+u)),al[u]},zb=bt,_c=Nr,Bc=qv,Wb=fn,Hb=bb,jb=vt,Ub=TypeError,Vb=jb("toPrimitive"),Gb=function(u,n){if(!_c(u)||Bc(u))return u;var s=Wb(u,Vb),o;if(s){if(n===void 0&&(n="default"),o=zb(s,u,n),!_c(o)||Bc(o))return o;throw Ub("Can't convert object to primitive value")}return n===void 0&&(n="number"),Hb(u,n)},Kb=Gb,qb=qv,Du=function(u){var n=Kb(u,"string");return qb(n)?n:n+""},Yb=dt,zc=Nr,Yl=Yb.document,Xb=zc(Yl)&&zc(Yl.createElement),Bs=function(u){return Xb?Yl.createElement(u):{}},Zb=vr,Qb=rt,Jb=Bs,Xv=!Zb&&!Qb(function(){return Object.defineProperty(Jb("div"),"a",{get:function(){return 7}}).a!=7}),ex=vr,tx=bt,rx=Rv,ix=$s,nx=oa,ax=Du,sx=tr,ox=Xv,Wc=Object.getOwnPropertyDescriptor;un.f=ex?Wc:function(n,s){if(n=nx(n),s=ax(s),ox)try{return Wc(n,s)}catch{}if(sx(n,s))return ix(!tx(rx.f,n,s),n[s])};var pr={},lx=vr,ux=rt,Zv=lx&&ux(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),fx=Nr,hx=String,cx=TypeError,Ot=function(u){if(fx(u))return u;throw cx(hx(u)+" is not an object")},dx=vr,vx=Xv,gx=Zv,rs=Ot,Hc=Du,px=TypeError,sl=Object.defineProperty,yx=Object.getOwnPropertyDescriptor,ol="enumerable",ll="configurable",ul="writable";pr.f=dx?gx?function(n,s,o){if(rs(n),s=Hc(s),rs(o),typeof n=="function"&&s==="prototype"&&"value"in o&&ul in o&&!o[ul]){var f=yx(n,s);f&&f[ul]&&(n[s]=o.value,o={configurable:ll in o?o[ll]:f[ll],enumerable:ol in o?o[ol]:f[ol],writable:!1})}return sl(n,s,o)}:sl:function(n,s,o){if(rs(n),s=Hc(s),rs(o),vx)try{return sl(n,s,o)}catch{}if("get"in o||"set"in o)throw px("Accessors not supported");return"value"in o&&(n[s]=o.value),n};var mx=vr,bx=pr,xx=$s,la=mx?function(u,n,s){return bx.f(u,n,xx(1,s))}:function(u,n,s){return u[n]=s,u},ks={},wx={get exports(){return ks},set exports(u){ks=u}},Xl=vr,Sx=tr,Qv=Function.prototype,Cx=Xl&&Object.getOwnPropertyDescriptor,Fu=Sx(Qv,"name"),kx=Fu&&function(){}.name==="something",Tx=Fu&&(!Xl||Xl&&Cx(Qv,"name").configurable),zs={EXISTS:Fu,PROPER:kx,CONFIGURABLE:Tx},Ox=it,Px=Ze,Zl=Ru,Ex=Ox(Function.toString);Px(Zl.inspectSource)||(Zl.inspectSource=function(u){return Ex(u)});var _u=Zl.inspectSource,Ax=dt,Mx=Ze,jc=Ax.WeakMap,Lx=Mx(jc)&&/native code/.test(String(jc)),Ix=na,Nx=Yv,Uc=Ix("keys"),Bu=function(u){return Uc[u]||(Uc[u]=Nx(u))},zu={},$x=Lx,Jv=dt,Rx=Nr,Dx=la,fl=tr,hl=Ru,Fx=Bu,_x=zu,Vc="Object already initialized",Ql=Jv.TypeError,Bx=Jv.WeakMap,Ts,aa,Os,zx=function(u){return Os(u)?aa(u):Ts(u,{})},Wx=function(u){return function(n){var s;if(!Rx(n)||(s=aa(n)).type!==u)throw Ql("Incompatible receiver, "+u+" required");return s}};if($x||hl.state){var dr=hl.state||(hl.state=new Bx);dr.get=dr.get,dr.has=dr.has,dr.set=dr.set,Ts=function(u,n){if(dr.has(u))throw Ql(Vc);return n.facade=u,dr.set(u,n),n},aa=function(u){return dr.get(u)||{}},Os=function(u){return dr.has(u)}}else{var Xi=Fx("state");_x[Xi]=!0,Ts=function(u,n){if(fl(u,Xi))throw Ql(Vc);return n.facade=u,Dx(u,Xi,n),n},aa=function(u){return fl(u,Xi)?u[Xi]:{}},Os=function(u){return fl(u,Xi)}}var Ws={set:Ts,get:aa,has:Os,enforce:zx,getterFor:Wx},Wu=it,Hx=rt,jx=Ze,is=tr,Jl=vr,Ux=zs.CONFIGURABLE,Vx=_u,eg=Ws,Gx=eg.enforce,Kx=eg.get,Gc=String,ps=Object.defineProperty,qx=Wu("".slice),Yx=Wu("".replace),Xx=Wu([].join),Zx=Jl&&!Hx(function(){return ps(function(){},"length",{value:8}).length!==8}),Qx=String(String).split("String"),Jx=wx.exports=function(u,n,s){qx(Gc(n),0,7)==="Symbol("&&(n="["+Yx(Gc(n),/^Symbol\(([^)]*)\)/,"$1")+"]"),s&&s.getter&&(n="get "+n),s&&s.setter&&(n="set "+n),(!is(u,"name")||Ux&&u.name!==n)&&(Jl?ps(u,"name",{value:n,configurable:!0}):u.name=n),Zx&&s&&is(s,"arity")&&u.length!==s.arity&&ps(u,"length",{value:s.arity});try{s&&is(s,"constructor")&&s.constructor?Jl&&ps(u,"prototype",{writable:!1}):u.prototype&&(u.prototype=void 0)}catch{}var o=Gx(u);return is(o,"source")||(o.source=Xx(Qx,typeof n=="string"?n:"")),u};Function.prototype.toString=Jx(function(){return jx(this)&&Kx(this).source||Vx(this)},"toString");var ew=Ze,tw=pr,rw=ks,iw=$u,ki=function(u,n,s,o){o||(o={});var f=o.enumerable,c=o.name!==void 0?o.name:n;if(ew(s)&&rw(s,c,o),o.global)f?u[n]=s:iw(n,s);else{try{o.unsafe?u[n]&&(f=!0):delete u[n]}catch{}f?u[n]=s:tw.f(u,n,{value:s,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return u},tg={},nw=Math.ceil,aw=Math.floor,sw=Math.trunc||function(n){var s=+n;return(s>0?aw:nw)(s)},ow=sw,Hs=function(u){var n=+u;return n!==n||n===0?0:ow(n)},lw=Hs,uw=Math.max,fw=Math.min,rg=function(u,n){var s=lw(u);return s<0?uw(s+n,0):fw(s,n)},hw=Hs,cw=Math.min,hn=function(u){return u>0?cw(hw(u),9007199254740991):0},dw=hn,js=function(u){return dw(u.length)},vw=oa,gw=rg,pw=js,Kc=function(u){return function(n,s,o){var f=vw(n),c=pw(f),v=gw(o,c),y;if(u&&s!=s){for(;c>v;)if(y=f[v++],y!=y)return!0}else for(;c>v;v++)if((u||v in f)&&f[v]===s)return u||v||0;return!u&&-1}},ig={includes:Kc(!0),indexOf:Kc(!1)},yw=it,cl=tr,mw=oa,bw=ig.indexOf,xw=zu,qc=yw([].push),ng=function(u,n){var s=mw(u),o=0,f=[],c;for(c in s)!cl(xw,c)&&cl(s,c)&&qc(f,c);for(;n.length>o;)cl(s,c=n[o++])&&(~bw(f,c)||qc(f,c));return f},Hu=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ww=ng,Sw=Hu,Cw=Sw.concat("length","prototype");tg.f=Object.getOwnPropertyNames||function(n){return ww(n,Cw)};var ag={};ag.f=Object.getOwnPropertySymbols;var kw=Ci,Tw=it,Ow=tg,Pw=ag,Ew=Ot,Aw=Tw([].concat),Mw=kw("Reflect","ownKeys")||function(n){var s=Ow.f(Ew(n)),o=Pw.f;return o?Aw(s,o(n)):s},Yc=tr,Lw=Mw,Iw=un,Nw=pr,$w=function(u,n,s){for(var o=Lw(n),f=Nw.f,c=Iw.f,v=0;v<o.length;v++){var y=o[v];!Yc(u,y)&&!(s&&Yc(s,y))&&f(u,y,c(n,y))}},Rw=rt,Dw=Ze,Fw=/#|\.prototype\./,ua=function(u,n){var s=Bw[_w(u)];return s==Ww?!0:s==zw?!1:Dw(n)?Rw(n):!!n},_w=ua.normalize=function(u){return String(u).replace(Fw,".").toLowerCase()},Bw=ua.data={},zw=ua.NATIVE="N",Ww=ua.POLYFILL="P",sg=ua,dl=dt,Hw=un.f,jw=la,Uw=ki,Vw=$u,Gw=$w,Kw=sg,Nt=function(u,n){var s=u.target,o=u.global,f=u.stat,c,v,y,b,T,m;if(o?v=dl:f?v=dl[s]||Vw(s,{}):v=(dl[s]||{}).prototype,v)for(y in n){if(T=n[y],u.dontCallGetSet?(m=Hw(v,y),b=m&&m.value):b=v[y],c=Kw(o?y:s+(f?".":"#")+y,u.forced),!c&&b!==void 0){if(typeof T==typeof b)continue;Gw(T,b)}(u.sham||b&&b.sham)&&jw(T,"sham",!0),Uw(v,y,T,u)}},qw=wi,fa=typeof process<"u"&&qw(process)=="process",Yw=it,Xw=$r,Zw=function(u,n,s){try{return Yw(Xw(Object.getOwnPropertyDescriptor(u,n)[s]))}catch{}},Qw=Ze,Jw=String,eS=TypeError,tS=function(u){if(typeof u=="object"||Qw(u))return u;throw eS("Can't set "+Jw(u)+" as a prototype")},rS=Zw,iS=Ot,nS=tS,og=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,n={},s;try{s=rS(Object.prototype,"__proto__","set"),s(n,[]),u=n instanceof Array}catch{}return function(f,c){return iS(f),nS(c),u?s(f,c):f.__proto__=c,f}}():void 0),aS=pr.f,sS=tr,oS=vt,Xc=oS("toStringTag"),ju=function(u,n,s){u&&!s&&(u=u.prototype),u&&!sS(u,Xc)&&aS(u,Xc,{configurable:!0,value:n})},Zc=ks,lS=pr,uS=function(u,n,s){return s.get&&Zc(s.get,n,{getter:!0}),s.set&&Zc(s.set,n,{setter:!0}),lS.f(u,n,s)},fS=Ci,hS=uS,cS=vt,dS=vr,Qc=cS("species"),vS=function(u){var n=fS(u);dS&&n&&!n[Qc]&&hS(n,Qc,{configurable:!0,get:function(){return this}})},gS=Rs,pS=TypeError,yS=function(u,n){if(gS(n,u))return u;throw pS("Incorrect invocation")},mS=vt,bS=mS("toStringTag"),lg={};lg[bS]="z";var xS=String(lg)==="[object z]",wS=xS,SS=Ze,ys=wi,CS=vt,kS=CS("toStringTag"),TS=Object,OS=ys(function(){return arguments}())=="Arguments",PS=function(u,n){try{return u[n]}catch{}},Uu=wS?ys:function(u){var n,s,o;return u===void 0?"Undefined":u===null?"Null":typeof(s=PS(n=TS(u),kS))=="string"?s:OS?ys(n):(o=ys(n))=="Object"&&SS(n.callee)?"Arguments":o},ES=it,AS=rt,ug=Ze,MS=Uu,LS=Ci,IS=_u,fg=function(){},NS=[],hg=LS("Reflect","construct"),Vu=/^\s*(?:class|function)\b/,$S=ES(Vu.exec),RS=!Vu.exec(fg),qn=function(n){if(!ug(n))return!1;try{return hg(fg,NS,n),!0}catch{return!1}},cg=function(n){if(!ug(n))return!1;switch(MS(n)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return RS||!!$S(Vu,IS(n))}catch{return!0}};cg.sham=!0;var DS=!hg||AS(function(){var u;return qn(qn.call)||!qn(Object)||!qn(function(){u=!0})||u})?cg:qn,FS=DS,_S=Fs,BS=TypeError,zS=function(u){if(FS(u))return u;throw BS(_S(u)+" is not a constructor")},Jc=Ot,WS=zS,HS=Si,jS=vt,US=jS("species"),dg=function(u,n){var s=Jc(u).constructor,o;return s===void 0||HS(o=Jc(s)[US])?n:WS(o)},VS=Ns,vg=Function.prototype,ed=vg.apply,td=vg.call,Gu=typeof Reflect=="object"&&Reflect.apply||(VS?td.bind(ed):function(){return td.apply(ed,arguments)}),GS=wi,KS=it,ha=function(u){if(GS(u)==="Function")return KS(u)},rd=ha,qS=$r,YS=Ns,XS=rd(rd.bind),Ku=function(u,n){return qS(u),n===void 0?u:YS?XS(u,n):function(){return u.apply(n,arguments)}},ZS=Ci,gg=ZS("document","documentElement"),QS=it,JS=QS([].slice),e1=TypeError,t1=function(u,n){if(u<n)throw e1("Not enough arguments");return u},r1=Ds,pg=/(?:ipad|iphone|ipod).*applewebkit/i.test(r1),Ht=dt,i1=Gu,n1=Ku,id=Ze,a1=tr,yg=rt,nd=gg,s1=JS,ad=Bs,o1=t1,l1=pg,u1=fa,eu=Ht.setImmediate,tu=Ht.clearImmediate,f1=Ht.process,vl=Ht.Dispatch,h1=Ht.Function,sd=Ht.MessageChannel,c1=Ht.String,gl=0,ra={},od="onreadystatechange",sa,ci,pl,yl;yg(function(){sa=Ht.location});var qu=function(u){if(a1(ra,u)){var n=ra[u];delete ra[u],n()}},ml=function(u){return function(){qu(u)}},ld=function(u){qu(u.data)},ud=function(u){Ht.postMessage(c1(u),sa.protocol+"//"+sa.host)};(!eu||!tu)&&(eu=function(n){o1(arguments.length,1);var s=id(n)?n:h1(n),o=s1(arguments,1);return ra[++gl]=function(){i1(s,void 0,o)},ci(gl),gl},tu=function(n){delete ra[n]},u1?ci=function(u){f1.nextTick(ml(u))}:vl&&vl.now?ci=function(u){vl.now(ml(u))}:sd&&!l1?(pl=new sd,yl=pl.port2,pl.port1.onmessage=ld,ci=n1(yl.postMessage,yl)):Ht.addEventListener&&id(Ht.postMessage)&&!Ht.importScripts&&sa&&sa.protocol!=="file:"&&!yg(ud)?(ci=ud,Ht.addEventListener("message",ld,!1)):od in ad("script")?ci=function(u){nd.appendChild(ad("script"))[od]=function(){nd.removeChild(this),qu(u)}}:ci=function(u){setTimeout(ml(u),0)});var mg={set:eu,clear:tu},bg=function(){this.head=null,this.tail=null};bg.prototype={add:function(u){var n={item:u,next:null},s=this.tail;s?s.next=n:this.head=n,this.tail=n},get:function(){var u=this.head;if(u){var n=this.head=u.next;return n===null&&(this.tail=null),u.item}}};var xg=bg,d1=Ds,v1=/ipad|iphone|ipod/i.test(d1)&&typeof Pebble<"u",g1=Ds,p1=/web0s(?!.*chrome)/i.test(g1),bi=dt,fd=Ku,y1=un.f,bl=mg.set,m1=xg,b1=pg,x1=v1,w1=p1,xl=fa,hd=bi.MutationObserver||bi.WebKitMutationObserver,cd=bi.document,dd=bi.process,ns=bi.Promise,vd=y1(bi,"queueMicrotask"),ru=vd&&vd.value,Zi,wl,Sl,as,gd;if(!ru){var ss=new m1,os=function(){var u,n;for(xl&&(u=dd.domain)&&u.exit();n=ss.get();)try{n()}catch(s){throw ss.head&&Zi(),s}u&&u.enter()};!b1&&!xl&&!w1&&hd&&cd?(wl=!0,Sl=cd.createTextNode(""),new hd(os).observe(Sl,{characterData:!0}),Zi=function(){Sl.data=wl=!wl}):!x1&&ns&&ns.resolve?(as=ns.resolve(void 0),as.constructor=ns,gd=fd(as.then,as),Zi=function(){gd(os)}):xl?Zi=function(){dd.nextTick(os)}:(bl=fd(bl,bi),Zi=function(){bl(os)}),ru=function(u){ss.head||Zi(),ss.add(u)}}var S1=ru,C1=function(u,n){try{arguments.length==1?console.error(u):console.error(u,n)}catch{}},Yu=function(u){try{return{error:!1,value:u()}}catch(n){return{error:!0,value:n}}},k1=dt,Us=k1.Promise,wg=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",T1=wg,O1=fa,P1=!T1&&!O1&&typeof window=="object"&&typeof document=="object",E1=dt,ia=Us,A1=Ze,M1=sg,L1=_u,I1=vt,N1=P1,$1=wg,Cl=Nu;ia&&ia.prototype;var R1=I1("species"),iu=!1,Sg=A1(E1.PromiseRejectionEvent),D1=M1("Promise",function(){var u=L1(ia),n=u!==String(ia);if(!n&&Cl===66)return!0;if(!Cl||Cl<51||!/native code/.test(u)){var s=new ia(function(c){c(1)}),o=function(c){c(function(){},function(){})},f=s.constructor={};if(f[R1]=o,iu=s.then(function(){})instanceof o,!iu)return!0}return!n&&(N1||$1)&&!Sg}),ca={CONSTRUCTOR:D1,REJECTION_EVENT:Sg,SUBCLASSING:iu},cn={},pd=$r,F1=TypeError,_1=function(u){var n,s;this.promise=new u(function(o,f){if(n!==void 0||s!==void 0)throw F1("Bad Promise constructor");n=o,s=f}),this.resolve=pd(n),this.reject=pd(s)};cn.f=function(u){return new _1(u)};var B1=Nt,Ps=fa,Xr=dt,on=bt,yd=ki,md=og,z1=ju,W1=vS,H1=$r,ms=Ze,j1=Nr,U1=yS,V1=dg,Cg=mg.set,Xu=S1,G1=C1,K1=Yu,q1=xg,kg=Ws,Es=Us,Zu=ca,Tg=cn,Vs="Promise",Og=Zu.CONSTRUCTOR,Y1=Zu.REJECTION_EVENT,X1=Zu.SUBCLASSING,kl=kg.getterFor(Vs),Z1=kg.set,tn=Es&&Es.prototype,pi=Es,ls=tn,Pg=Xr.TypeError,nu=Xr.document,Qu=Xr.process,au=Tg.f,Q1=au,J1=!!(nu&&nu.createEvent&&Xr.dispatchEvent),Eg="unhandledrejection",eC="rejectionhandled",bd=0,Ag=1,tC=2,Ju=1,Mg=2,us,xd,rC,wd,Lg=function(u){var n;return j1(u)&&ms(n=u.then)?n:!1},Ig=function(u,n){var s=n.value,o=n.state==Ag,f=o?u.ok:u.fail,c=u.resolve,v=u.reject,y=u.domain,b,T,m;try{f?(o||(n.rejection===Mg&&nC(n),n.rejection=Ju),f===!0?b=s:(y&&y.enter(),b=f(s),y&&(y.exit(),m=!0)),b===u.promise?v(Pg("Promise-chain cycle")):(T=Lg(b))?on(T,b,c,v):c(b)):v(s)}catch(p){y&&!m&&y.exit(),v(p)}},Ng=function(u,n){u.notified||(u.notified=!0,Xu(function(){for(var s=u.reactions,o;o=s.get();)Ig(o,u);u.notified=!1,n&&!u.rejection&&iC(u)}))},$g=function(u,n,s){var o,f;J1?(o=nu.createEvent("Event"),o.promise=n,o.reason=s,o.initEvent(u,!1,!0),Xr.dispatchEvent(o)):o={promise:n,reason:s},!Y1&&(f=Xr["on"+u])?f(o):u===Eg&&G1("Unhandled promise rejection",s)},iC=function(u){on(Cg,Xr,function(){var n=u.facade,s=u.value,o=Sd(u),f;if(o&&(f=K1(function(){Ps?Qu.emit("unhandledRejection",s,n):$g(Eg,n,s)}),u.rejection=Ps||Sd(u)?Mg:Ju,f.error))throw f.value})},Sd=function(u){return u.rejection!==Ju&&!u.parent},nC=function(u){on(Cg,Xr,function(){var n=u.facade;Ps?Qu.emit("rejectionHandled",n):$g(eC,n,u.value)})},nn=function(u,n,s){return function(o){u(n,o,s)}},sn=function(u,n,s){u.done||(u.done=!0,s&&(u=s),u.value=n,u.state=tC,Ng(u,!0))},su=function(u,n,s){if(!u.done){u.done=!0,s&&(u=s);try{if(u.facade===n)throw Pg("Promise can't be resolved itself");var o=Lg(n);o?Xu(function(){var f={done:!1};try{on(o,n,nn(su,f,u),nn(sn,f,u))}catch(c){sn(f,c,u)}}):(u.value=n,u.state=Ag,Ng(u,!1))}catch(f){sn({done:!1},f,u)}}};if(Og&&(pi=function(n){U1(this,ls),H1(n),on(us,this);var s=kl(this);try{n(nn(su,s),nn(sn,s))}catch(o){sn(s,o)}},ls=pi.prototype,us=function(n){Z1(this,{type:Vs,done:!1,notified:!1,parent:!1,reactions:new q1,rejection:!1,state:bd,value:void 0})},us.prototype=yd(ls,"then",function(n,s){var o=kl(this),f=au(V1(this,pi));return o.parent=!0,f.ok=ms(n)?n:!0,f.fail=ms(s)&&s,f.domain=Ps?Qu.domain:void 0,o.state==bd?o.reactions.add(f):Xu(function(){Ig(f,o)}),f.promise}),xd=function(){var u=new us,n=kl(u);this.promise=u,this.resolve=nn(su,n),this.reject=nn(sn,n)},Tg.f=au=function(u){return u===pi||u===rC?new xd(u):Q1(u)},ms(Es)&&tn!==Object.prototype)){wd=tn.then,X1||yd(tn,"then",function(n,s){var o=this;return new pi(function(f,c){on(wd,o,f,c)}).then(n,s)},{unsafe:!0});try{delete tn.constructor}catch{}md&&md(tn,ls)}B1({global:!0,constructor:!0,wrap:!0,forced:Og},{Promise:pi});z1(pi,Vs,!1);W1(Vs);var da={},aC=vt,sC=da,oC=aC("iterator"),lC=Array.prototype,uC=function(u){return u!==void 0&&(sC.Array===u||lC[oC]===u)},fC=Uu,Cd=fn,hC=Si,cC=da,dC=vt,vC=dC("iterator"),Rg=function(u){if(!hC(u))return Cd(u,vC)||Cd(u,"@@iterator")||cC[fC(u)]},gC=bt,pC=$r,yC=Ot,mC=Fs,bC=Rg,xC=TypeError,wC=function(u,n){var s=arguments.length<2?bC(u):n;if(pC(s))return yC(gC(s,u));throw xC(mC(u)+" is not iterable")},SC=bt,kd=Ot,CC=fn,kC=function(u,n,s){var o,f;kd(u);try{if(o=CC(u,"return"),!o){if(n==="throw")throw s;return s}o=SC(o,u)}catch(c){f=!0,o=c}if(n==="throw")throw s;if(f)throw o;return kd(o),s},TC=Ku,OC=bt,PC=Ot,EC=Fs,AC=uC,MC=js,Td=Rs,LC=wC,IC=Rg,Od=kC,NC=TypeError,bs=function(u,n){this.stopped=u,this.result=n},Pd=bs.prototype,Dg=function(u,n,s){var o=s&&s.that,f=!!(s&&s.AS_ENTRIES),c=!!(s&&s.IS_RECORD),v=!!(s&&s.IS_ITERATOR),y=!!(s&&s.INTERRUPTED),b=TC(n,o),T,m,p,w,C,I,F,_=function(P){return T&&Od(T,"normal",P),new bs(!0,P)},L=function(P){return f?(PC(P),y?b(P[0],P[1],_):b(P[0],P[1])):y?b(P,_):b(P)};if(c)T=u.iterator;else if(v)T=u;else{if(m=IC(u),!m)throw NC(EC(u)+" is not iterable");if(AC(m)){for(p=0,w=MC(u);w>p;p++)if(C=L(u[p]),C&&Td(Pd,C))return C;return new bs(!1)}T=LC(u,m)}for(I=c?u.next:T.next;!(F=OC(I,T)).done;){try{C=L(F.value)}catch(P){Od(T,"throw",P)}if(typeof C=="object"&&C&&Td(Pd,C))return C}return new bs(!1)},$C=vt,Fg=$C("iterator"),_g=!1;try{var RC=0,Ed={next:function(){return{done:!!RC++}},return:function(){_g=!0}};Ed[Fg]=function(){return this},Array.from(Ed,function(){throw 2})}catch{}var DC=function(u,n){if(!n&&!_g)return!1;var s=!1;try{var o={};o[Fg]=function(){return{next:function(){return{done:s=!0}}}},u(o)}catch{}return s},FC=Us,_C=DC,BC=ca.CONSTRUCTOR,Bg=BC||!_C(function(u){FC.all(u).then(void 0,function(){})}),zC=Nt,WC=bt,HC=$r,jC=cn,UC=Yu,VC=Dg,GC=Bg;zC({target:"Promise",stat:!0,forced:GC},{all:function(n){var s=this,o=jC.f(s),f=o.resolve,c=o.reject,v=UC(function(){var y=HC(s.resolve),b=[],T=0,m=1;VC(n,function(p){var w=T++,C=!1;m++,WC(y,s,p).then(function(I){C||(C=!0,b[w]=I,--m||f(b))},c)}),--m||f(b)});return v.error&&c(v.value),o.promise}});var KC=Nt,qC=ca.CONSTRUCTOR,ou=Us,YC=Ci,XC=Ze,ZC=ki,Ad=ou&&ou.prototype;KC({target:"Promise",proto:!0,forced:qC,real:!0},{catch:function(u){return this.then(void 0,u)}});if(XC(ou)){var Md=YC("Promise").prototype.catch;Ad.catch!==Md&&ZC(Ad,"catch",Md,{unsafe:!0})}var QC=Nt,JC=bt,ek=$r,tk=cn,rk=Yu,ik=Dg,nk=Bg;QC({target:"Promise",stat:!0,forced:nk},{race:function(n){var s=this,o=tk.f(s),f=o.reject,c=rk(function(){var v=ek(s.resolve);ik(n,function(y){JC(v,s,y).then(o.resolve,f)})});return c.error&&f(c.value),o.promise}});var ak=Nt,sk=bt,ok=cn,lk=ca.CONSTRUCTOR;ak({target:"Promise",stat:!0,forced:lk},{reject:function(n){var s=ok.f(this);return sk(s.reject,void 0,n),s.promise}});var uk=Ot,fk=Nr,hk=cn,ck=function(u,n){if(uk(u),fk(n)&&n.constructor===u)return n;var s=hk.f(u),o=s.resolve;return o(n),s.promise},dk=Nt,vk=Ci,gk=ca.CONSTRUCTOR,pk=ck;vk("Promise");dk({target:"Promise",stat:!0,forced:gk},{resolve:function(n){return pk(this,n)}});var yk=Uu,mk=String,yr=function(u){if(yk(u)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return mk(u)},bk=Ot,zg=function(){var u=bk(this),n="";return u.hasIndices&&(n+="d"),u.global&&(n+="g"),u.ignoreCase&&(n+="i"),u.multiline&&(n+="m"),u.dotAll&&(n+="s"),u.unicode&&(n+="u"),u.unicodeSets&&(n+="v"),u.sticky&&(n+="y"),n},ef=rt,xk=dt,tf=xk.RegExp,rf=ef(function(){var u=tf("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),wk=rf||ef(function(){return!tf("a","y").sticky}),Sk=rf||ef(function(){var u=tf("^r","gy");return u.lastIndex=2,u.exec("str")!=null}),Wg={BROKEN_CARET:Sk,MISSED_STICKY:wk,UNSUPPORTED_Y:rf},Hg={},Ck=ng,kk=Hu,Tk=Object.keys||function(n){return Ck(n,kk)},Ok=vr,Pk=Zv,Ek=pr,Ak=Ot,Mk=oa,Lk=Tk;Hg.f=Ok&&!Pk?Object.defineProperties:function(n,s){Ak(n);for(var o=Mk(s),f=Lk(s),c=f.length,v=0,y;c>v;)Ek.f(n,y=f[v++],o[y]);return n};var Ik=Ot,Nk=Hg,Ld=Hu,$k=zu,Rk=gg,Dk=Bs,Fk=Bu,Id=">",Nd="<",lu="prototype",uu="script",jg=Fk("IE_PROTO"),Tl=function(){},Ug=function(u){return Nd+uu+Id+u+Nd+"/"+uu+Id},$d=function(u){u.write(Ug("")),u.close();var n=u.parentWindow.Object;return u=null,n},_k=function(){var u=Dk("iframe"),n="java"+uu+":",s;return u.style.display="none",Rk.appendChild(u),u.src=String(n),s=u.contentWindow.document,s.open(),s.write(Ug("document.F=Object")),s.close(),s.F},fs,xs=function(){try{fs=new ActiveXObject("htmlfile")}catch{}xs=typeof document<"u"?document.domain&&fs?$d(fs):_k():$d(fs);for(var u=Ld.length;u--;)delete xs[lu][Ld[u]];return xs()};$k[jg]=!0;var nf=Object.create||function(n,s){var o;return n!==null?(Tl[lu]=Ik(n),o=new Tl,Tl[lu]=null,o[jg]=n):o=xs(),s===void 0?o:Nk.f(o,s)},Bk=rt,zk=dt,Wk=zk.RegExp,Hk=Bk(function(){var u=Wk(".","s");return!(u.dotAll&&u.exec(`
`)&&u.flags==="s")}),jk=rt,Uk=dt,Vk=Uk.RegExp,Gk=jk(function(){var u=Vk("(?<a>b)","g");return u.exec("b").groups.a!=="b"||"b".replace(u,"$<a>c")!=="bc"}),an=bt,Gs=it,Kk=yr,qk=zg,Yk=Wg,Xk=na,Zk=nf,Qk=Ws.get,Jk=Hk,eT=Gk,tT=Xk("native-string-replace",String.prototype.replace),As=RegExp.prototype.exec,fu=As,rT=Gs("".charAt),iT=Gs("".indexOf),nT=Gs("".replace),Ol=Gs("".slice),hu=function(){var u=/a/,n=/b*/g;return an(As,u,"a"),an(As,n,"a"),u.lastIndex!==0||n.lastIndex!==0}(),Vg=Yk.BROKEN_CARET,cu=/()??/.exec("")[1]!==void 0,aT=hu||cu||Vg||Jk||eT;aT&&(fu=function(n){var s=this,o=Qk(s),f=Kk(n),c=o.raw,v,y,b,T,m,p,w;if(c)return c.lastIndex=s.lastIndex,v=an(fu,c,f),s.lastIndex=c.lastIndex,v;var C=o.groups,I=Vg&&s.sticky,F=an(qk,s),_=s.source,L=0,P=f;if(I&&(F=nT(F,"y",""),iT(F,"g")===-1&&(F+="g"),P=Ol(f,s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&rT(f,s.lastIndex-1)!==`
`)&&(_="(?: "+_+")",P=" "+P,L++),y=new RegExp("^(?:"+_+")",F)),cu&&(y=new RegExp("^"+_+"$(?!\\s)",F)),hu&&(b=s.lastIndex),T=an(As,I?y:s,P),I?T?(T.input=Ol(T.input,L),T[0]=Ol(T[0],L),T.index=s.lastIndex,s.lastIndex+=T[0].length):s.lastIndex=0:hu&&T&&(s.lastIndex=s.global?T.index+T[0].length:b),cu&&T&&T.length>1&&an(tT,T[0],y,function(){for(m=1;m<arguments.length-2;m++)arguments[m]===void 0&&(T[m]=void 0)}),T&&C)for(T.groups=p=Zk(null),m=0;m<C.length;m++)w=C[m],p[w[0]]=T[w[1]];return T});var Ks=fu,sT=Nt,Rd=Ks;sT({target:"RegExp",proto:!0,forced:/./.exec!==Rd},{exec:Rd});var Dd=ha,Fd=ki,oT=Ks,_d=rt,Gg=vt,lT=la,uT=Gg("species"),Pl=RegExp.prototype,af=function(u,n,s,o){var f=Gg(u),c=!_d(function(){var T={};return T[f]=function(){return 7},""[u](T)!=7}),v=c&&!_d(function(){var T=!1,m=/a/;return u==="split"&&(m={},m.constructor={},m.constructor[uT]=function(){return m},m.flags="",m[f]=/./[f]),m.exec=function(){return T=!0,null},m[f](""),!T});if(!c||!v||s){var y=Dd(/./[f]),b=n(f,""[u],function(T,m,p,w,C){var I=Dd(T),F=m.exec;return F===oT||F===Pl.exec?c&&!C?{done:!0,value:y(m,p,w)}:{done:!0,value:I(p,m,w)}:{done:!1}});Fd(String.prototype,u,b[0]),Fd(Pl,f,b[1])}o&&lT(Pl[f],"sham",!0)},sf=it,fT=Hs,hT=yr,cT=gr,dT=sf("".charAt),Bd=sf("".charCodeAt),vT=sf("".slice),zd=function(u){return function(n,s){var o=hT(cT(n)),f=fT(s),c=o.length,v,y;return f<0||f>=c?u?"":void 0:(v=Bd(o,f),v<55296||v>56319||f+1===c||(y=Bd(o,f+1))<56320||y>57343?u?dT(o,f):v:u?vT(o,f,f+2):(v-55296<<10)+(y-56320)+65536)}},gT={codeAt:zd(!1),charAt:zd(!0)},pT=gT.charAt,of=function(u,n,s){return n+(s?pT(u,n).length:1)},Wd=bt,yT=Ot,mT=Ze,bT=wi,xT=Ks,wT=TypeError,lf=function(u,n){var s=u.exec;if(mT(s)){var o=Wd(s,u,n);return o!==null&&yT(o),o}if(bT(u)==="RegExp")return Wd(xT,u,n);throw wT("RegExp#exec called on incompatible receiver")},ST=bt,CT=af,kT=Ot,TT=Si,OT=hn,El=yr,PT=gr,ET=fn,AT=of,Hd=lf;CT("match",function(u,n,s){return[function(f){var c=PT(this),v=TT(f)?void 0:ET(f,u);return v?ST(v,f,c):new RegExp(f)[u](El(c))},function(o){var f=kT(this),c=El(o),v=s(n,f,c);if(v.done)return v.value;if(!f.global)return Hd(f,c);var y=f.unicode;f.lastIndex=0;for(var b=[],T=0,m;(m=Hd(f,c))!==null;){var p=El(m[0]);b[T]=p,p===""&&(f.lastIndex=AT(c,OT(f.lastIndex),y)),T++}return T===0?null:b}]});var uf=it,MT=_s,LT=Math.floor,Al=uf("".charAt),IT=uf("".replace),Ml=uf("".slice),NT=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,$T=/\$([$&'`]|\d{1,2})/g,RT=function(u,n,s,o,f,c){var v=s+u.length,y=o.length,b=$T;return f!==void 0&&(f=MT(f),b=NT),IT(c,b,function(T,m){var p;switch(Al(m,0)){case"$":return"$";case"&":return u;case"`":return Ml(n,0,s);case"'":return Ml(n,v);case"<":p=f[Ml(m,1,-1)];break;default:var w=+m;if(w===0)return T;if(w>y){var C=LT(w/10);return C===0?T:C<=y?o[C-1]===void 0?Al(m,1):o[C-1]+Al(m,1):T}p=o[w-1]}return p===void 0?"":p})},DT=Gu,jd=bt,qs=it,FT=af,_T=rt,BT=Ot,zT=Ze,WT=Si,HT=Hs,jT=hn,Qi=yr,UT=gr,VT=of,GT=fn,KT=RT,qT=lf,YT=vt,du=YT("replace"),XT=Math.max,ZT=Math.min,QT=qs([].concat),Ll=qs([].push),Ud=qs("".indexOf),Vd=qs("".slice),JT=function(u){return u===void 0?u:String(u)},eO=function(){return"a".replace(/./,"$0")==="$0"}(),Gd=function(){return/./[du]?/./[du]("a","$0")==="":!1}(),tO=!_T(function(){var u=/./;return u.exec=function(){var n=[];return n.groups={a:"7"},n},"".replace(u,"$<a>")!=="7"});FT("replace",function(u,n,s){var o=Gd?"$":"$0";return[function(c,v){var y=UT(this),b=WT(c)?void 0:GT(c,du);return b?jd(b,c,y,v):jd(n,Qi(y),c,v)},function(f,c){var v=BT(this),y=Qi(f);if(typeof c=="string"&&Ud(c,o)===-1&&Ud(c,"$<")===-1){var b=s(n,v,y,c);if(b.done)return b.value}var T=zT(c);T||(c=Qi(c));var m=v.global;if(m){var p=v.unicode;v.lastIndex=0}for(var w=[];;){var C=qT(v,y);if(C===null||(Ll(w,C),!m))break;var I=Qi(C[0]);I===""&&(v.lastIndex=VT(y,jT(v.lastIndex),p))}for(var F="",_=0,L=0;L<w.length;L++){C=w[L];for(var P=Qi(C[0]),D=XT(ZT(HT(C.index),y.length),0),j=[],U=1;U<C.length;U++)Ll(j,JT(C[U]));var te=C.groups;if(T){var re=QT([P],j,D,y);te!==void 0&&Ll(re,te);var ie=Qi(DT(c,void 0,re))}else ie=KT(P,y,D,j,te,c);D>=_&&(F+=Vd(y,_,D)+ie,_=D+P.length)}return F+Vd(y,_)}]},!tO||!eO||Gd);var rO=Nr,iO=wi,nO=vt,aO=nO("match"),Kg=function(u){var n;return rO(u)&&((n=u[aO])!==void 0?!!n:iO(u)=="RegExp")},sO=Kg,oO=TypeError,ff=function(u){if(sO(u))throw oO("The method doesn't accept regular expressions");return u},lO=vt,uO=lO("match"),hf=function(u){var n=/./;try{"/./"[u](n)}catch{try{return n[uO]=!1,"/./"[u](n)}catch{}}return!1},fO=Nt,qg=ha,hO=un.f,cO=hn,Kd=yr,dO=ff,vO=gr,gO=hf,qd=qg("".startsWith),pO=qg("".slice),yO=Math.min,Yg=gO("startsWith"),mO=!Yg&&!!function(){var u=hO(String.prototype,"startsWith");return u&&!u.writable}();fO({target:"String",proto:!0,forced:!mO&&!Yg},{startsWith:function(n){var s=Kd(vO(this));dO(n);var o=cO(yO(arguments.length>1?arguments[1]:void 0,s.length)),f=Kd(n);return qd?qd(s,f,o):pO(s,o,o+f.length)===f}});var bO=vt,xO=nf,wO=pr.f,vu=bO("unscopables"),gu=Array.prototype;gu[vu]==null&&wO(gu,vu,{configurable:!0,value:xO(null)});var SO=function(u){gu[vu][u]=!0},CO=rt,kO=!CO(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype}),TO=tr,OO=Ze,PO=_s,EO=Bu,AO=kO,Yd=EO("IE_PROTO"),pu=Object,MO=pu.prototype,Xg=AO?pu.getPrototypeOf:function(u){var n=PO(u);if(TO(n,Yd))return n[Yd];var s=n.constructor;return OO(s)&&n instanceof s?s.prototype:n instanceof pu?MO:null},LO=rt,IO=Ze,NO=Nr,Xd=Xg,$O=ki,RO=vt,yu=RO("iterator"),Zg=!1,xi,Il,Nl;[].keys&&(Nl=[].keys(),"next"in Nl?(Il=Xd(Xd(Nl)),Il!==Object.prototype&&(xi=Il)):Zg=!0);var DO=!NO(xi)||LO(function(){var u={};return xi[yu].call(u)!==u});DO&&(xi={});IO(xi[yu])||$O(xi,yu,function(){return this});var Qg={IteratorPrototype:xi,BUGGY_SAFARI_ITERATORS:Zg},FO=Qg.IteratorPrototype,_O=nf,BO=$s,zO=ju,WO=da,HO=function(){return this},jO=function(u,n,s,o){var f=n+" Iterator";return u.prototype=_O(FO,{next:BO(+!o,s)}),zO(u,f,!1),WO[f]=HO,u},UO=Nt,VO=bt,Jg=zs,GO=Ze,KO=jO,Zd=Xg,Qd=og,qO=ju,YO=la,$l=ki,XO=vt,ZO=da,ep=Qg,QO=Jg.PROPER,JO=Jg.CONFIGURABLE,Jd=ep.IteratorPrototype,hs=ep.BUGGY_SAFARI_ITERATORS,Yn=XO("iterator"),ev="keys",Xn="values",tv="entries",eP=function(){return this},tP=function(u,n,s,o,f,c,v){KO(s,n,o);var y=function(L){if(L===f&&w)return w;if(!hs&&L in m)return m[L];switch(L){case ev:return function(){return new s(this,L)};case Xn:return function(){return new s(this,L)};case tv:return function(){return new s(this,L)}}return function(){return new s(this)}},b=n+" Iterator",T=!1,m=u.prototype,p=m[Yn]||m["@@iterator"]||f&&m[f],w=!hs&&p||y(f),C=n=="Array"&&m.entries||p,I,F,_;if(C&&(I=Zd(C.call(new u)),I!==Object.prototype&&I.next&&(Zd(I)!==Jd&&(Qd?Qd(I,Jd):GO(I[Yn])||$l(I,Yn,eP)),qO(I,b,!0))),QO&&f==Xn&&p&&p.name!==Xn&&(JO?YO(m,"name",Xn):(T=!0,w=function(){return VO(p,this)})),f)if(F={values:y(Xn),keys:c?w:y(ev),entries:y(tv)},v)for(_ in F)(hs||T||!(_ in m))&&$l(m,_,F[_]);else UO({target:n,proto:!0,forced:hs||T},F);return m[Yn]!==w&&$l(m,Yn,w,{name:f}),ZO[n]=w,F},rP=function(u,n){return{value:u,done:n}},iP=oa,cf=SO,rv=da,tp=Ws,nP=pr.f,aP=tP,cs=rP,sP=vr,rp="Array Iterator",oP=tp.set,lP=tp.getterFor(rp),uP=aP(Array,"Array",function(u,n){oP(this,{type:rp,target:iP(u),index:0,kind:n})},function(){var u=lP(this),n=u.target,s=u.kind,o=u.index++;return!n||o>=n.length?(u.target=void 0,cs(void 0,!0)):s=="keys"?cs(o,!1):s=="values"?cs(n[o],!1):cs([o,n[o]],!1)},"values"),iv=rv.Arguments=rv.Array;cf("keys");cf("values");cf("entries");if(sP&&iv.name!=="values")try{nP(iv,"name",{value:"values"})}catch{}var fP={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},hP=Bs,Rl=hP("span").classList,nv=Rl&&Rl.constructor&&Rl.constructor.prototype,cP=nv===Object.prototype?void 0:nv,av=dt,ip=fP,dP=cP,ta=uP,Dl=la,np=vt,Fl=np("iterator"),sv=np("toStringTag"),_l=ta.values,ap=function(u,n){if(u){if(u[Fl]!==_l)try{Dl(u,Fl,_l)}catch{u[Fl]=_l}if(u[sv]||Dl(u,sv,n),ip[n]){for(var s in ta)if(u[s]!==ta[s])try{Dl(u,s,ta[s])}catch{u[s]=ta[s]}}}};for(var Bl in ip)ap(av[Bl]&&av[Bl].prototype,Bl);ap(dP,"DOMTokenList");var vP=$r,gP=_s,pP=Wv,yP=js,mP=TypeError,ov=function(u){return function(n,s,o,f){vP(s);var c=gP(n),v=pP(c),y=yP(c),b=u?y-1:0,T=u?-1:1;if(o<2)for(;;){if(b in v){f=v[b],b+=T;break}if(b+=T,u?b<0:y<=b)throw mP("Reduce of empty array with no initial value")}for(;u?b>=0:y>b;b+=T)b in v&&(f=s(f,v[b],b,c));return f}},bP={left:ov(!1),right:ov(!0)},xP=rt,sp=function(u,n){var s=[][u];return!!s&&xP(function(){s.call(null,n||function(){return 1},1)})},wP=Nt,SP=bP.left,CP=sp,lv=Nu,kP=fa,TP=!kP&&lv>79&&lv<83,OP=TP||!CP("reduce");wP({target:"Array",proto:!0,forced:OP},{reduce:function(n){var s=arguments.length;return SP(this,n,s,s>1?arguments[1]:void 0)}});var PP=Nt,op=ha,EP=un.f,AP=hn,uv=yr,MP=ff,LP=gr,IP=hf,fv=op("".endsWith),NP=op("".slice),$P=Math.min,lp=IP("endsWith"),RP=!lp&&!!function(){var u=EP(String.prototype,"endsWith");return u&&!u.writable}();PP({target:"String",proto:!0,forced:!RP&&!lp},{endsWith:function(n){var s=uv(LP(this));MP(n);var o=arguments.length>1?arguments[1]:void 0,f=s.length,c=o===void 0?f:$P(AP(o),f),v=uv(n);return fv?fv(s,v,c):NP(s,c-v.length,c)===v}});var DP=Du,FP=pr,_P=$s,BP=function(u,n,s){var o=DP(n);o in u?FP.f(u,o,_P(0,s)):u[o]=s},hv=rg,zP=js,WP=BP,HP=Array,jP=Math.max,UP=function(u,n,s){for(var o=zP(u),f=hv(n,o),c=hv(s===void 0?o:s,o),v=HP(jP(c-f,0)),y=0;f<c;f++,y++)WP(v,y,u[f]);return v.length=y,v},VP=Gu,Zn=bt,df=it,GP=af,KP=Ot,qP=Si,YP=Kg,cv=gr,XP=dg,ZP=of,QP=hn,zl=yr,JP=fn,dv=UP,vv=lf,eE=Ks,tE=Wg,rE=rt,Ji=tE.UNSUPPORTED_Y,gv=4294967295,iE=Math.min,up=[].push,nE=df(/./.exec),en=df(up),Qn=df("".slice),aE=!rE(function(){var u=/(?:)/,n=u.exec;u.exec=function(){return n.apply(this,arguments)};var s="ab".split(u);return s.length!==2||s[0]!=="a"||s[1]!=="b"});GP("split",function(u,n,s){var o;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?o=function(f,c){var v=zl(cv(this)),y=c===void 0?gv:c>>>0;if(y===0)return[];if(f===void 0)return[v];if(!YP(f))return Zn(n,v,f,y);for(var b=[],T=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(f.sticky?"y":""),m=0,p=new RegExp(f.source,T+"g"),w,C,I;(w=Zn(eE,p,v))&&(C=p.lastIndex,!(C>m&&(en(b,Qn(v,m,w.index)),w.length>1&&w.index<v.length&&VP(up,b,dv(w,1)),I=w[0].length,m=C,b.length>=y)));)p.lastIndex===w.index&&p.lastIndex++;return m===v.length?(I||!nE(p,""))&&en(b,""):en(b,Qn(v,m)),b.length>y?dv(b,0,y):b}:"0".split(void 0,0).length?o=function(f,c){return f===void 0&&c===0?[]:Zn(n,this,f,c)}:o=n,[function(c,v){var y=cv(this),b=qP(c)?void 0:JP(c,u);return b?Zn(b,c,y,v):Zn(o,zl(y),c,v)},function(f,c){var v=KP(this),y=zl(f),b=s(o,v,y,c,o!==n);if(b.done)return b.value;var T=XP(v,RegExp),m=v.unicode,p=(v.ignoreCase?"i":"")+(v.multiline?"m":"")+(v.unicode?"u":"")+(Ji?"g":"y"),w=new T(Ji?"^(?:"+v.source+")":v,p),C=c===void 0?gv:c>>>0;if(C===0)return[];if(y.length===0)return vv(w,y)===null?[y]:[];for(var I=0,F=0,_=[];F<y.length;){w.lastIndex=Ji?0:F;var L=vv(w,Ji?Qn(y,F):y),P;if(L===null||(P=iE(QP(w.lastIndex+(Ji?F:0)),y.length))===I)F=ZP(y,F,m);else{if(en(_,Qn(y,I,F)),_.length===C)return _;for(var D=1;D<=L.length-1;D++)if(en(_,L[D]),_.length===C)return _;F=I=P}}return en(_,Qn(y,I)),_}]},!aE,Ji);var fp=`	
\v\f\r                　\u2028\u2029\uFEFF`,sE=it,oE=gr,lE=yr,mu=fp,pv=sE("".replace),uE=RegExp("^["+mu+"]+"),fE=RegExp("(^|[^"+mu+"])["+mu+"]+$"),Wl=function(u){return function(n){var s=lE(oE(n));return u&1&&(s=pv(s,uE,"")),u&2&&(s=pv(s,fE,"$1")),s}},hE={start:Wl(1),end:Wl(2),trim:Wl(3)},cE=zs.PROPER,dE=rt,yv=fp,mv="​᠎",vE=function(u){return dE(function(){return!!yv[u]()||mv[u]()!==mv||cE&&yv[u].name!==u})},gE=Nt,pE=hE.trim,yE=vE;gE({target:"String",proto:!0,forced:yE("trim")},{trim:function(){return pE(this)}});var mE=Nt,bE=ha,xE=ig.indexOf,wE=sp,bu=bE([].indexOf),hp=!!bu&&1/bu([1],1,-0)<0,SE=hp||!wE("indexOf");mE({target:"Array",proto:!0,forced:SE},{indexOf:function(n){var s=arguments.length>1?arguments[1]:void 0;return hp?bu(this,n,s)||0:xE(this,n,s)}});var CE=Nt,kE=it,TE=ff,OE=gr,bv=yr,PE=hf,EE=kE("".indexOf);CE({target:"String",proto:!0,forced:!PE("includes")},{includes:function(n){return!!~EE(bv(OE(this)),bv(TE(n)),arguments.length>1?arguments[1]:void 0)}});var AE=wi,ME=Array.isArray||function(n){return AE(n)=="Array"},LE=Nt,IE=it,NE=ME,$E=IE([].reverse),xv=[1,2];LE({target:"Array",proto:!0,forced:String(xv)===String(xv.reverse())},{reverse:function(){return NE(this)&&(this.length=this.length),$E(this)}});var RE=bt,DE=tr,FE=Rs,_E=zg,wv=RegExp.prototype,BE=function(u){var n=u.flags;return n===void 0&&!("flags"in wv)&&!DE(u,"flags")&&FE(wv,u)?RE(_E,u):n},zE=zs.PROPER,WE=ki,HE=Ot,Sv=yr,jE=rt,UE=BE,vf="toString",VE=RegExp.prototype,cp=VE[vf],GE=jE(function(){return cp.call({source:"a",flags:"b"})!="/a/b"}),KE=zE&&cp.name!=vf;(GE||KE)&&WE(RegExp.prototype,vf,function(){var n=HE(this),s=Sv(n.source),o=Sv(UE(n));return"/"+s+"/"+o},{unsafe:!0});function qE(){var{DOMParser:u}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:u,createCanvas(s,o){return new OffscreenCanvas(s,o)},createImage(s){return Lr(function*(){var o=yield fetch(s),f=yield o.blob(),c=yield createImageBitmap(f);return c})()}};return(typeof DOMParser<"u"||typeof u>"u")&&Reflect.deleteProperty(n,"DOMParser"),n}function YE(u){var{DOMParser:n,canvas:s,fetch:o}=u;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:n,fetch:o,createCanvas:s.createCanvas,createImage:s.loadImage}}var XE=Object.freeze({__proto__:null,offscreen:qE,node:YE});function Ti(u){return u.replace(/(?!\u3000)\s+/gm," ")}function dp(u){return u.replace(/^[\n \t]+/,"")}function vp(u){return u.replace(/[\n \t]+$/,"")}function _t(u){var n=(u||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return n.map(parseFloat)}var ZE=/^[A-Z-]+$/;function gp(u){return ZE.test(u)?u.toLowerCase():u}function gf(u){var n=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(u)||[];return n[2]||n[3]||n[4]}function pp(u){if(!u.startsWith("rgb"))return u;var n=3,s=u.replace(/\d+(\.\d+)?/g,(o,f)=>n--&&f?String(Math.round(parseFloat(o))):o);return s}var QE=/(\[[^\]]+\])/g,JE=/(#[^\s+>~.[:]+)/g,eA=/(\.[^\s+>~.[:]+)/g,tA=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,rA=/(:[\w-]+\([^)]*\))/gi,iA=/(:[^\s+>~.[:]+)/g,nA=/([^\s+>~.[:]+)/g;function di(u,n){var s=n.exec(u);return s?[u.replace(n," "),s.length]:[u,0]}function yp(u){var n=[0,0,0],s=u.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),o=0;return[s,o]=di(s,QE),n[1]+=o,[s,o]=di(s,JE),n[0]+=o,[s,o]=di(s,eA),n[1]+=o,[s,o]=di(s,tA),n[2]+=o,[s,o]=di(s,rA),n[1]+=o,[s,o]=di(s,iA),n[1]+=o,s=s.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[s,o]=di(s,nA),n[2]+=o,n.join("")}var mi=1e-8;function xu(u){return Math.sqrt(Math.pow(u[0],2)+Math.pow(u[1],2))}function Ms(u,n){return(u[0]*n[0]+u[1]*n[1])/(xu(u)*xu(n))}function wu(u,n){return(u[0]*n[1]<u[1]*n[0]?-1:1)*Math.acos(Ms(u,n))}function Su(u){return u*u*u}function Cu(u){return 3*u*u*(1-u)}function ku(u){return 3*u*(1-u)*(1-u)}function Tu(u){return(1-u)*(1-u)*(1-u)}function Ou(u){return u*u}function Pu(u){return 2*u*(1-u)}function Eu(u){return(1-u)*(1-u)}class de{constructor(n,s,o){this.document=n,this.name=s,this.value=o,this.isNormalizedColor=!1}static empty(n){return new de(n,"EMPTY","")}split(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:s,name:o}=this;return Ti(this.getString()).trim().split(n).map(f=>new de(s,o,f))}hasValue(n){var{value:s}=this;return s!==null&&s!==""&&(n||s!==0)&&typeof s<"u"}isString(n){var{value:s}=this,o=typeof s=="string";return!o||!n?o:n.test(s)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var n=this.getString();switch(!0){case n.endsWith("px"):case/^[0-9]+$/.test(n):return!0;default:return!1}}setValue(n){return this.value=n,this}getValue(n){return typeof n>"u"||this.hasValue()?this.value:n}getNumber(n){if(!this.hasValue())return typeof n>"u"?0:parseFloat(n);var{value:s}=this,o=parseFloat(s);return this.isString(/%$/)&&(o/=100),o}getString(n){return typeof n>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(n)}getColor(n){var s=this.getString(n);return this.isNormalizedColor||(this.isNormalizedColor=!0,s=pp(s),this.value=s),s}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[o,f]=typeof n=="boolean"?[void 0,n]:[n],{viewPort:c}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(c.computeSize("x"),c.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(c.computeSize("x"),c.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*c.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*c.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&f):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*c.computeSize(o);default:{var v=this.getNumber();return s&&v<1?v*c.computeSize(o):v}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var n=this.getString(),s=/#([^)'"]+)/.exec(n);return s&&(s=s[1]),s||(s=n),this.document.definitions[s]}getFillStyleDefinition(n,s){var o=this.getDefinition();if(!o)return null;if(typeof o.createGradient=="function")return o.createGradient(this.document.ctx,n,s);if(typeof o.createPattern=="function"){if(o.getHrefAttribute().hasValue()){var f=o.getAttribute("patternTransform");o=o.getHrefAttribute().getDefinition(),f.hasValue()&&o.getAttribute("patternTransform",!0).setValue(f.value)}return o.createPattern(this.document.ctx,n,s)}return null}getTextBaseline(){return this.hasValue()?de.textBaselineMapping[this.getString()]:null}addOpacity(n){for(var s=this.getColor(),o=s.length,f=0,c=0;c<o&&(s[c]===","&&f++,f!==3);c++);if(n.hasValue()&&this.isString()&&f!==3){var v=new jl(s);v.ok&&(v.alpha=n.getNumber(),s=v.toRGBA())}return new de(this.document,this.name,s)}}de.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class mp{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(n,s){this.viewPorts.push({width:n,height:s})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:n}=this;return n[n.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(n){return typeof n=="number"?n:n==="x"?this.width:n==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class Xe{constructor(n,s){this.x=n,this.y=s}static parse(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[o=s,f=s]=_t(n);return new Xe(o,f)}static parseScale(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[o=s,f=o]=_t(n);return new Xe(o,f)}static parsePath(n){for(var s=_t(n),o=s.length,f=[],c=0;c<o;c+=2)f.push(new Xe(s[c],s[c+1]));return f}angleTo(n){return Math.atan2(n.y-this.y,n.x-this.x)}applyTransform(n){var{x:s,y:o}=this,f=s*n[0]+o*n[2]+n[4],c=s*n[1]+o*n[3]+n[5];this.x=f,this.y=c}}class bp{constructor(n){this.screen=n,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:n,onClick:s,onMouseMove:o}=this,f=n.ctx.canvas;f.onclick=s,f.onmousemove=o,this.working=!0}}stop(){if(this.working){var n=this.screen.ctx.canvas;this.working=!1,n.onclick=null,n.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:n,events:s,eventElements:o}=this,{style:f}=n.ctx.canvas;f&&(f.cursor=""),s.forEach((c,v)=>{for(var{run:y}=c,b=o[v];b;)y(b),b=b.parent}),this.events=[],this.eventElements=[]}}checkPath(n,s){if(!(!this.working||!s)){var{events:o,eventElements:f}=this;o.forEach((c,v)=>{var{x:y,y:b}=c;!f[v]&&s.isPointInPath&&s.isPointInPath(y,b)&&(f[v]=n)})}}checkBoundingBox(n,s){if(!(!this.working||!s)){var{events:o,eventElements:f}=this;o.forEach((c,v)=>{var{x:y,y:b}=c;!f[v]&&s.isPointInBox(y,b)&&(f[v]=n)})}}mapXY(n,s){for(var{window:o,ctx:f}=this.screen,c=new Xe(n,s),v=f.canvas;v;)c.x-=v.offsetLeft,c.y-=v.offsetTop,v=v.offsetParent;return o.scrollX&&(c.x+=o.scrollX),o.scrollY&&(c.y+=o.scrollY),c}onClick(n){var{x:s,y:o}=this.mapXY(n.clientX,n.clientY);this.events.push({type:"onclick",x:s,y:o,run(f){f.onClick&&f.onClick()}})}onMouseMove(n){var{x:s,y:o}=this.mapXY(n.clientX,n.clientY);this.events.push({type:"onmousemove",x:s,y:o,run(f){f.onMouseMove&&f.onMouseMove()}})}}var xp=typeof window<"u"?window:null,wp=typeof fetch<"u"?fetch.bind(void 0):null;class va{constructor(n){var{fetch:s=wp,window:o=xp}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=n,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new mp,this.mouse=new bp(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=o,this.fetch=s}wait(n){this.waits.push(n)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var n=this.waits.every(s=>s());return n&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=n,n}setDefaults(n){n.strokeStyle="rgba(0,0,0,0)",n.lineCap="butt",n.lineJoin="miter",n.miterLimit=4}setViewBox(n){var{document:s,ctx:o,aspectRatio:f,width:c,desiredWidth:v,height:y,desiredHeight:b,minX:T=0,minY:m=0,refX:p,refY:w,clip:C=!1,clipX:I=0,clipY:F=0}=n,_=Ti(f).replace(/^defer\s/,""),[L,P]=_.split(" "),D=L||"xMidYMid",j=P||"meet",U=c/v,te=y/b,re=Math.min(U,te),ie=Math.max(U,te),he=v,le=b;j==="meet"&&(he*=re,le*=re),j==="slice"&&(he*=ie,le*=ie);var ae=new de(s,"refX",p),be=new de(s,"refY",w),H=ae.hasValue()&&be.hasValue();if(H&&o.translate(-re*ae.getPixels("x"),-re*be.getPixels("y")),C){var X=re*I,k=re*F;o.beginPath(),o.moveTo(X,k),o.lineTo(c,k),o.lineTo(c,y),o.lineTo(X,y),o.closePath(),o.clip()}if(!H){var Y=j==="meet"&&re===te,G=j==="slice"&&ie===te,se=j==="meet"&&re===U,Te=j==="slice"&&ie===U;D.startsWith("xMid")&&(Y||G)&&o.translate(c/2-he/2,0),D.endsWith("YMid")&&(se||Te)&&o.translate(0,y/2-le/2),D.startsWith("xMax")&&(Y||G)&&o.translate(c-he,0),D.endsWith("YMax")&&(se||Te)&&o.translate(0,y-le)}switch(!0){case D==="none":o.scale(U,te);break;case j==="meet":o.scale(re,re);break;case j==="slice":o.scale(ie,ie);break}o.translate(-T,-m)}start(n){var{enableRedraw:s=!1,ignoreMouse:o=!1,ignoreAnimation:f=!1,ignoreDimensions:c=!1,ignoreClear:v=!1,forceRedraw:y,scaleWidth:b,scaleHeight:T,offsetX:m,offsetY:p}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:w,mouse:C}=this,I=1e3/w;if(this.frameDuration=I,this.readyPromise=new Promise(D=>{this.resolveReady=D}),this.isReady()&&this.render(n,c,v,b,T,m,p),!!s){var F=Date.now(),_=F,L=0,P=()=>{F=Date.now(),L=F-_,L>=I&&(_=F-L%I,this.shouldUpdate(f,y)&&(this.render(n,c,v,b,T,m,p),C.runEvents())),this.intervalId=Ko(P)};o||C.start(),this.intervalId=Ko(P)}}stop(){this.intervalId&&(Ko.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(n,s){if(!n){var{frameDuration:o}=this,f=this.animations.reduce((c,v)=>v.update(o)||c,!1);if(f)return!0}return!!(typeof s=="function"&&s()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(n,s,o,f,c,v,y){var{CLIENT_WIDTH:b,CLIENT_HEIGHT:T,viewPort:m,ctx:p,isFirstRender:w}=this,C=p.canvas;m.clear(),C.width&&C.height?m.setCurrent(C.width,C.height):m.setCurrent(b,T);var I=n.getStyle("width"),F=n.getStyle("height");!s&&(w||typeof f!="number"&&typeof c!="number")&&(I.hasValue()&&(C.width=I.getPixels("x"),C.style&&(C.style.width="".concat(C.width,"px"))),F.hasValue()&&(C.height=F.getPixels("y"),C.style&&(C.style.height="".concat(C.height,"px"))));var _=C.clientWidth||C.width,L=C.clientHeight||C.height;if(s&&I.hasValue()&&F.hasValue()&&(_=I.getPixels("x"),L=F.getPixels("y")),m.setCurrent(_,L),typeof v=="number"&&n.getAttribute("x",!0).setValue(v),typeof y=="number"&&n.getAttribute("y",!0).setValue(y),typeof f=="number"||typeof c=="number"){var P=_t(n.getAttribute("viewBox").getString()),D=0,j=0;if(typeof f=="number"){var U=n.getStyle("width");U.hasValue()?D=U.getPixels("x")/f:isNaN(P[2])||(D=P[2]/f)}if(typeof c=="number"){var te=n.getStyle("height");te.hasValue()?j=te.getPixels("y")/c:isNaN(P[3])||(j=P[3]/c)}D||(D=j),j||(j=D),n.getAttribute("width",!0).setValue(f),n.getAttribute("height",!0).setValue(c);var re=n.getStyle("transform",!0,!0);re.setValue("".concat(re.getString()," scale(").concat(1/D,", ").concat(1/j,")"))}o||p.clearRect(0,0,_,L),n.render(p),w&&(this.isFirstRender=!1)}}va.defaultWindow=xp;va.defaultFetch=wp;var{defaultFetch:aA}=va,sA=typeof DOMParser<"u"?DOMParser:null;class ws{constructor(){var{fetch:n=aA,DOMParser:s=sA}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=n,this.DOMParser=s}parse(n){var s=this;return Lr(function*(){return n.startsWith("<")?s.parseFromString(n):s.load(n)})()}parseFromString(n){var s=new this.DOMParser;try{return this.checkDocument(s.parseFromString(n,"image/svg+xml"))}catch{return this.checkDocument(s.parseFromString(n,"text/xml"))}}checkDocument(n){var s=n.getElementsByTagName("parsererror")[0];if(s)throw new Error(s.textContent);return n}load(n){var s=this;return Lr(function*(){var o=yield s.fetch(n),f=yield o.text();return s.parseFromString(f)})()}}class Sp{constructor(n,s){this.type="translate",this.point=null,this.point=Xe.parse(s)}apply(n){var{x:s,y:o}=this.point;n.translate(s||0,o||0)}unapply(n){var{x:s,y:o}=this.point;n.translate(-1*s||0,-1*o||0)}applyToPoint(n){var{x:s,y:o}=this.point;n.applyTransform([1,0,0,1,s||0,o||0])}}class Cp{constructor(n,s,o){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var f=_t(s);this.angle=new de(n,"angle",f[0]),this.originX=o[0],this.originY=o[1],this.cx=f[1]||0,this.cy=f[2]||0}apply(n){var{cx:s,cy:o,originX:f,originY:c,angle:v}=this,y=s+f.getPixels("x"),b=o+c.getPixels("y");n.translate(y,b),n.rotate(v.getRadians()),n.translate(-y,-b)}unapply(n){var{cx:s,cy:o,originX:f,originY:c,angle:v}=this,y=s+f.getPixels("x"),b=o+c.getPixels("y");n.translate(y,b),n.rotate(-1*v.getRadians()),n.translate(-y,-b)}applyToPoint(n){var{cx:s,cy:o,angle:f}=this,c=f.getRadians();n.applyTransform([1,0,0,1,s||0,o||0]),n.applyTransform([Math.cos(c),Math.sin(c),-Math.sin(c),Math.cos(c),0,0]),n.applyTransform([1,0,0,1,-s||0,-o||0])}}class kp{constructor(n,s,o){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var f=Xe.parseScale(s);(f.x===0||f.y===0)&&(f.x=mi,f.y=mi),this.scale=f,this.originX=o[0],this.originY=o[1]}apply(n){var{scale:{x:s,y:o},originX:f,originY:c}=this,v=f.getPixels("x"),y=c.getPixels("y");n.translate(v,y),n.scale(s,o||s),n.translate(-v,-y)}unapply(n){var{scale:{x:s,y:o},originX:f,originY:c}=this,v=f.getPixels("x"),y=c.getPixels("y");n.translate(v,y),n.scale(1/s,1/o||s),n.translate(-v,-y)}applyToPoint(n){var{x:s,y:o}=this.scale;n.applyTransform([s||0,0,0,o||0,0,0])}}class pf{constructor(n,s,o){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=_t(s),this.originX=o[0],this.originY=o[1]}apply(n){var{originX:s,originY:o,matrix:f}=this,c=s.getPixels("x"),v=o.getPixels("y");n.translate(c,v),n.transform(f[0],f[1],f[2],f[3],f[4],f[5]),n.translate(-c,-v)}unapply(n){var{originX:s,originY:o,matrix:f}=this,c=f[0],v=f[2],y=f[4],b=f[1],T=f[3],m=f[5],p=0,w=0,C=1,I=1/(c*(T*C-m*w)-v*(b*C-m*p)+y*(b*w-T*p)),F=s.getPixels("x"),_=o.getPixels("y");n.translate(F,_),n.transform(I*(T*C-m*w),I*(m*p-b*C),I*(y*w-v*C),I*(c*C-y*p),I*(v*m-y*T),I*(y*b-c*m)),n.translate(-F,-_)}applyToPoint(n){n.applyTransform(this.matrix)}}class yf extends pf{constructor(n,s,o){super(n,s,o),this.type="skew",this.angle=null,this.angle=new de(n,"angle",s)}}class Tp extends yf{constructor(n,s,o){super(n,s,o),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class Op extends yf{constructor(n,s,o){super(n,s,o),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function oA(u){return Ti(u).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function lA(u){var[n,s]=u.split("(");return[n.trim(),s.trim().replace(")","")]}class Zr{constructor(n,s,o){this.document=n,this.transforms=[];var f=oA(s);f.forEach(c=>{if(c!=="none"){var[v,y]=lA(c),b=Zr.transformTypes[v];typeof b<"u"&&this.transforms.push(new b(this.document,y,o))}})}static fromElement(n,s){var o=s.getStyle("transform",!1,!0),[f,c=f]=s.getStyle("transform-origin",!1,!0).split(),v=[f,c];return o.hasValue()?new Zr(n,o.getString(),v):null}apply(n){for(var{transforms:s}=this,o=s.length,f=0;f<o;f++)s[f].apply(n)}unapply(n){for(var{transforms:s}=this,o=s.length,f=o-1;f>=0;f--)s[f].unapply(n)}applyToPoint(n){for(var{transforms:s}=this,o=s.length,f=0;f<o;f++)s[f].applyToPoint(n)}}Zr.transformTypes={translate:Sp,rotate:Cp,scale:kp,matrix:pf,skewX:Tp,skewY:Op};class ze{constructor(n,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=n,this.node=s,this.captureTextNodes=o,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!s||s.nodeType!==1)){if(Array.from(s.attributes).forEach(y=>{var b=gp(y.nodeName);this.attributes[b]=new de(n,b,y.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var f=this.getAttribute("style").getString().split(";").map(y=>y.trim());f.forEach(y=>{if(y){var[b,T]=y.split(":").map(m=>m.trim());this.styles[b]=new de(n,b,T)}})}var{definitions:c}=n,v=this.getAttribute("id");v.hasValue()&&(c[v.getString()]||(c[v.getString()]=this)),Array.from(s.childNodes).forEach(y=>{if(y.nodeType===1)this.addChild(y);else if(o&&(y.nodeType===3||y.nodeType===4)){var b=n.createTextNode(y);b.getText().length>0&&this.addChild(b)}})}}getAttribute(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=this.attributes[n];if(!o&&s){var f=new de(this.document,n,"");return this.attributes[n]=f,f}return o||de.empty(this.document)}getHrefAttribute(){for(var n in this.attributes)if(n==="href"||n.endsWith(":href"))return this.attributes[n];return de.empty(this.document)}getStyle(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=this.styles[n];if(f)return f;var c=this.getAttribute(n);if(c!=null&&c.hasValue())return this.styles[n]=c,c;if(!o){var{parent:v}=this;if(v){var y=v.getStyle(n);if(y!=null&&y.hasValue())return y}}if(s){var b=new de(this.document,n,"");return this.styles[n]=b,b}return f||de.empty(this.document)}render(n){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(n.save(),this.getStyle("mask").hasValue()){var s=this.getStyle("mask").getDefinition();s&&(this.applyEffects(n),s.apply(n,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var o=this.getStyle("filter").getDefinition();o&&(this.applyEffects(n),o.apply(n,this))}else this.setContext(n),this.renderChildren(n),this.clearContext(n);n.restore()}}setContext(n){}applyEffects(n){var s=Zr.fromElement(this.document,this);s&&s.apply(n);var o=this.getStyle("clip-path",!1,!0);if(o.hasValue()){var f=o.getDefinition();f&&f.apply(n)}}clearContext(n){}renderChildren(n){this.children.forEach(s=>{s.render(n)})}addChild(n){var s=n instanceof ze?n:this.document.createElement(n);s.parent=this,ze.ignoreChildTypes.includes(s.type)||this.children.push(s)}matchesSelector(n){var s,{node:o}=this;if(typeof o.matches=="function")return o.matches(n);var f=(s=o.getAttribute)===null||s===void 0?void 0:s.call(o,"class");return!f||f===""?!1:f.split(" ").some(c=>".".concat(c)===n)}addStylesFromStyleDefinition(){var{styles:n,stylesSpecificity:s}=this.document;for(var o in n)if(!o.startsWith("@")&&this.matchesSelector(o)){var f=n[o],c=s[o];if(f)for(var v in f){var y=this.stylesSpecificity[v];typeof y>"u"&&(y="000"),c>=y&&(this.styles[v]=f[v],this.stylesSpecificity[v]=c)}}}removeStyles(n,s){var o=s.reduce((f,c)=>{var v=n.getStyle(c);if(!v.hasValue())return f;var y=v.getString();return v.setValue(""),[...f,[c,y]]},[]);return o}restoreStyles(n,s){s.forEach(o=>{var[f,c]=o;n.getStyle(f,!0).setValue(c)})}isFirstChild(){var n;return((n=this.parent)===null||n===void 0?void 0:n.children.indexOf(this))===0}}ze.ignoreChildTypes=["title"];class Pp extends ze{constructor(n,s,o){super(n,s,o)}}function uA(u){var n=u.trim();return/^('|")/.test(n)?n:'"'.concat(n,'"')}function fA(u){return typeof process>"u"?u:u.trim().split(",").map(uA).join(",")}function hA(u){if(!u)return"";var n=u.trim().toLowerCase();switch(n){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return n;default:return/^oblique\s+(-|)\d+deg$/.test(n)?n:""}}function cA(u){if(!u)return"";var n=u.trim().toLowerCase();switch(n){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return n;default:return/^[\d.]+$/.test(n)?n:""}}class Tt{constructor(n,s,o,f,c,v){var y=v?typeof v=="string"?Tt.parse(v):v:{};this.fontFamily=c||y.fontFamily,this.fontSize=f||y.fontSize,this.fontStyle=n||y.fontStyle,this.fontWeight=o||y.fontWeight,this.fontVariant=s||y.fontVariant}static parse(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1?arguments[1]:void 0,o="",f="",c="",v="",y="",b=Ti(n).trim().split(" "),T={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return b.forEach(m=>{switch(!0){case(!T.fontStyle&&Tt.styles.includes(m)):m!=="inherit"&&(o=m),T.fontStyle=!0;break;case(!T.fontVariant&&Tt.variants.includes(m)):m!=="inherit"&&(f=m),T.fontStyle=!0,T.fontVariant=!0;break;case(!T.fontWeight&&Tt.weights.includes(m)):m!=="inherit"&&(c=m),T.fontStyle=!0,T.fontVariant=!0,T.fontWeight=!0;break;case!T.fontSize:m!=="inherit"&&([v]=m.split("/")),T.fontStyle=!0,T.fontVariant=!0,T.fontWeight=!0,T.fontSize=!0;break;default:m!=="inherit"&&(y+=m)}}),new Tt(o,f,c,v,y,s)}toString(){return[hA(this.fontStyle),this.fontVariant,cA(this.fontWeight),this.fontSize,fA(this.fontFamily)].join(" ").trim()}}Tt.styles="normal|italic|oblique|inherit";Tt.variants="normal|small-caps|inherit";Tt.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class qt{constructor(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=n,this.y1=s,this.x2=o,this.y2=f,this.addPoint(n,s),this.addPoint(o,f)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(n,s){typeof n<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=n,this.x2=n),n<this.x1&&(this.x1=n),n>this.x2&&(this.x2=n)),typeof s<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=s,this.y2=s),s<this.y1&&(this.y1=s),s>this.y2&&(this.y2=s))}addX(n){this.addPoint(n,null)}addY(n){this.addPoint(null,n)}addBoundingBox(n){if(n){var{x1:s,y1:o,x2:f,y2:c}=n;this.addPoint(s,o),this.addPoint(f,c)}}sumCubic(n,s,o,f,c){return Math.pow(1-n,3)*s+3*Math.pow(1-n,2)*n*o+3*(1-n)*Math.pow(n,2)*f+Math.pow(n,3)*c}bezierCurveAdd(n,s,o,f,c){var v=6*s-12*o+6*f,y=-3*s+9*o-9*f+3*c,b=3*o-3*s;if(y===0){if(v===0)return;var T=-b/v;0<T&&T<1&&(n?this.addX(this.sumCubic(T,s,o,f,c)):this.addY(this.sumCubic(T,s,o,f,c)));return}var m=Math.pow(v,2)-4*b*y;if(!(m<0)){var p=(-v+Math.sqrt(m))/(2*y);0<p&&p<1&&(n?this.addX(this.sumCubic(p,s,o,f,c)):this.addY(this.sumCubic(p,s,o,f,c)));var w=(-v-Math.sqrt(m))/(2*y);0<w&&w<1&&(n?this.addX(this.sumCubic(w,s,o,f,c)):this.addY(this.sumCubic(w,s,o,f,c)))}}addBezierCurve(n,s,o,f,c,v,y,b){this.addPoint(n,s),this.addPoint(y,b),this.bezierCurveAdd(!0,n,o,c,y),this.bezierCurveAdd(!1,s,f,v,b)}addQuadraticCurve(n,s,o,f,c,v){var y=n+.6666666666666666*(o-n),b=s+2/3*(f-s),T=y+1/3*(c-n),m=b+1/3*(v-s);this.addBezierCurve(n,s,y,T,b,m,c,v)}isPointInBox(n,s){var{x1:o,y1:f,x2:c,y2:v}=this;return o<=n&&n<=c&&f<=s&&s<=v}}class xe extends Kn{constructor(n){super(n.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Xe(0,0),this.control=new Xe(0,0),this.current=new Xe(0,0),this.points=[],this.angles=[]}isEnd(){var{i:n,commands:s}=this;return n>=s.length-1}next(){var n=this.commands[++this.i];return this.previousCommand=this.command,this.command=n,n}getPoint(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",o=new Xe(this.command[n],this.command[s]);return this.makeAbsolute(o)}getAsControlPoint(n,s){var o=this.getPoint(n,s);return this.control=o,o}getAsCurrentPoint(n,s){var o=this.getPoint(n,s);return this.current=o,o}getReflectedControlPoint(){var n=this.previousCommand.type;if(n!==Kn.CURVE_TO&&n!==Kn.SMOOTH_CURVE_TO&&n!==Kn.QUAD_TO&&n!==Kn.SMOOTH_QUAD_TO)return this.current;var{current:{x:s,y:o},control:{x:f,y:c}}=this,v=new Xe(2*s-f,2*o-c);return v}makeAbsolute(n){if(this.command.relative){var{x:s,y:o}=this.current;n.x+=s,n.y+=o}return n}addMarker(n,s,o){var{points:f,angles:c}=this;o&&c.length>0&&!c[c.length-1]&&(c[c.length-1]=f[f.length-1].angleTo(o)),this.addMarkerAngle(n,s?s.angleTo(n):null)}addMarkerAngle(n,s){this.points.push(n),this.angles.push(s)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:n}=this,s=n.length,o=0;o<s;o++)if(!n[o]){for(var f=o+1;f<s;f++)if(n[f]){n[o]=n[f];break}}return n}}class Qr extends ze{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var n=1,s=this;s;){var o=s.getStyle("opacity",!1,!0);o.hasValue(!0)&&(n*=o.getNumber()),s=s.parent}return n}setContext(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!s){var o=this.getStyle("fill"),f=this.getStyle("fill-opacity"),c=this.getStyle("stroke"),v=this.getStyle("stroke-opacity");if(o.isUrlDefinition()){var y=o.getFillStyleDefinition(this,f);y&&(n.fillStyle=y)}else if(o.hasValue()){o.getString()==="currentColor"&&o.setValue(this.getStyle("color").getColor());var b=o.getColor();b!=="inherit"&&(n.fillStyle=b==="none"?"rgba(0,0,0,0)":b)}if(f.hasValue()){var T=new de(this.document,"fill",n.fillStyle).addOpacity(f).getColor();n.fillStyle=T}if(c.isUrlDefinition()){var m=c.getFillStyleDefinition(this,v);m&&(n.strokeStyle=m)}else if(c.hasValue()){c.getString()==="currentColor"&&c.setValue(this.getStyle("color").getColor());var p=c.getString();p!=="inherit"&&(n.strokeStyle=p==="none"?"rgba(0,0,0,0)":p)}if(v.hasValue()){var w=new de(this.document,"stroke",n.strokeStyle).addOpacity(v).getString();n.strokeStyle=w}var C=this.getStyle("stroke-width");if(C.hasValue()){var I=C.getPixels();n.lineWidth=I||mi}var F=this.getStyle("stroke-linecap"),_=this.getStyle("stroke-linejoin"),L=this.getStyle("stroke-miterlimit"),P=this.getStyle("stroke-dasharray"),D=this.getStyle("stroke-dashoffset");if(F.hasValue()&&(n.lineCap=F.getString()),_.hasValue()&&(n.lineJoin=_.getString()),L.hasValue()&&(n.miterLimit=L.getNumber()),P.hasValue()&&P.getString()!=="none"){var j=_t(P.getString());typeof n.setLineDash<"u"?n.setLineDash(j):typeof n.webkitLineDash<"u"?n.webkitLineDash=j:typeof n.mozDash<"u"&&!(j.length===1&&j[0]===0)&&(n.mozDash=j);var U=D.getPixels();typeof n.lineDashOffset<"u"?n.lineDashOffset=U:typeof n.webkitLineDashOffset<"u"?n.webkitLineDashOffset=U:typeof n.mozDashOffset<"u"&&(n.mozDashOffset=U)}}if(this.modifiedEmSizeStack=!1,typeof n.font<"u"){var te=this.getStyle("font"),re=this.getStyle("font-style"),ie=this.getStyle("font-variant"),he=this.getStyle("font-weight"),le=this.getStyle("font-size"),ae=this.getStyle("font-family"),be=new Tt(re.getString(),ie.getString(),he.getString(),le.hasValue()?"".concat(le.getPixels(!0),"px"):"",ae.getString(),Tt.parse(te.getString(),n.font));re.setValue(be.fontStyle),ie.setValue(be.fontVariant),he.setValue(be.fontWeight),le.setValue(be.fontSize),ae.setValue(be.fontFamily),n.font=be.toString(),le.isPixels()&&(this.document.emSize=le.getPixels(),this.modifiedEmSizeStack=!0)}s||(this.applyEffects(n),n.globalAlpha=this.calculateOpacity())}clearContext(n){super.clearContext(n),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Re extends Qr{constructor(n,s,o){super(n,s,o),this.type="path",this.pathParser=null,this.pathParser=new xe(this.getAttribute("d").getString())}path(n){var{pathParser:s}=this,o=new qt;for(s.reset(),n&&n.beginPath();!s.isEnd();)switch(s.next().type){case xe.MOVE_TO:this.pathM(n,o);break;case xe.LINE_TO:this.pathL(n,o);break;case xe.HORIZ_LINE_TO:this.pathH(n,o);break;case xe.VERT_LINE_TO:this.pathV(n,o);break;case xe.CURVE_TO:this.pathC(n,o);break;case xe.SMOOTH_CURVE_TO:this.pathS(n,o);break;case xe.QUAD_TO:this.pathQ(n,o);break;case xe.SMOOTH_QUAD_TO:this.pathT(n,o);break;case xe.ARC:this.pathA(n,o);break;case xe.CLOSE_PATH:this.pathZ(n,o);break}return o}getBoundingBox(n){return this.path()}getMarkers(){var{pathParser:n}=this,s=n.getMarkerPoints(),o=n.getMarkerAngles(),f=s.map((c,v)=>[c,o[v]]);return f}renderChildren(n){this.path(n),this.document.screen.mouse.checkPath(this,n);var s=this.getStyle("fill-rule");n.fillStyle!==""&&(s.getString("inherit")!=="inherit"?n.fill(s.getString()):n.fill()),n.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(n.save(),n.setTransform(1,0,0,1,0,0),n.stroke(),n.restore()):n.stroke());var o=this.getMarkers();if(o){var f=o.length-1,c=this.getStyle("marker-start"),v=this.getStyle("marker-mid"),y=this.getStyle("marker-end");if(c.isUrlDefinition()){var b=c.getDefinition(),[T,m]=o[0];b.render(n,T,m)}if(v.isUrlDefinition())for(var p=v.getDefinition(),w=1;w<f;w++){var[C,I]=o[w];p.render(n,C,I)}if(y.isUrlDefinition()){var F=y.getDefinition(),[_,L]=o[f];F.render(n,_,L)}}}static pathM(n){var s=n.getAsCurrentPoint();return n.start=n.current,{point:s}}pathM(n,s){var{pathParser:o}=this,{point:f}=Re.pathM(o),{x:c,y:v}=f;o.addMarker(f),s.addPoint(c,v),n&&n.moveTo(c,v)}static pathL(n){var{current:s}=n,o=n.getAsCurrentPoint();return{current:s,point:o}}pathL(n,s){var{pathParser:o}=this,{current:f,point:c}=Re.pathL(o),{x:v,y}=c;o.addMarker(c,f),s.addPoint(v,y),n&&n.lineTo(v,y)}static pathH(n){var{current:s,command:o}=n,f=new Xe((o.relative?s.x:0)+o.x,s.y);return n.current=f,{current:s,point:f}}pathH(n,s){var{pathParser:o}=this,{current:f,point:c}=Re.pathH(o),{x:v,y}=c;o.addMarker(c,f),s.addPoint(v,y),n&&n.lineTo(v,y)}static pathV(n){var{current:s,command:o}=n,f=new Xe(s.x,(o.relative?s.y:0)+o.y);return n.current=f,{current:s,point:f}}pathV(n,s){var{pathParser:o}=this,{current:f,point:c}=Re.pathV(o),{x:v,y}=c;o.addMarker(c,f),s.addPoint(v,y),n&&n.lineTo(v,y)}static pathC(n){var{current:s}=n,o=n.getPoint("x1","y1"),f=n.getAsControlPoint("x2","y2"),c=n.getAsCurrentPoint();return{current:s,point:o,controlPoint:f,currentPoint:c}}pathC(n,s){var{pathParser:o}=this,{current:f,point:c,controlPoint:v,currentPoint:y}=Re.pathC(o);o.addMarker(y,v,c),s.addBezierCurve(f.x,f.y,c.x,c.y,v.x,v.y,y.x,y.y),n&&n.bezierCurveTo(c.x,c.y,v.x,v.y,y.x,y.y)}static pathS(n){var{current:s}=n,o=n.getReflectedControlPoint(),f=n.getAsControlPoint("x2","y2"),c=n.getAsCurrentPoint();return{current:s,point:o,controlPoint:f,currentPoint:c}}pathS(n,s){var{pathParser:o}=this,{current:f,point:c,controlPoint:v,currentPoint:y}=Re.pathS(o);o.addMarker(y,v,c),s.addBezierCurve(f.x,f.y,c.x,c.y,v.x,v.y,y.x,y.y),n&&n.bezierCurveTo(c.x,c.y,v.x,v.y,y.x,y.y)}static pathQ(n){var{current:s}=n,o=n.getAsControlPoint("x1","y1"),f=n.getAsCurrentPoint();return{current:s,controlPoint:o,currentPoint:f}}pathQ(n,s){var{pathParser:o}=this,{current:f,controlPoint:c,currentPoint:v}=Re.pathQ(o);o.addMarker(v,c,c),s.addQuadraticCurve(f.x,f.y,c.x,c.y,v.x,v.y),n&&n.quadraticCurveTo(c.x,c.y,v.x,v.y)}static pathT(n){var{current:s}=n,o=n.getReflectedControlPoint();n.control=o;var f=n.getAsCurrentPoint();return{current:s,controlPoint:o,currentPoint:f}}pathT(n,s){var{pathParser:o}=this,{current:f,controlPoint:c,currentPoint:v}=Re.pathT(o);o.addMarker(v,c,c),s.addQuadraticCurve(f.x,f.y,c.x,c.y,v.x,v.y),n&&n.quadraticCurveTo(c.x,c.y,v.x,v.y)}static pathA(n){var{current:s,command:o}=n,{rX:f,rY:c,xRot:v,lArcFlag:y,sweepFlag:b}=o,T=v*(Math.PI/180),m=n.getAsCurrentPoint(),p=new Xe(Math.cos(T)*(s.x-m.x)/2+Math.sin(T)*(s.y-m.y)/2,-Math.sin(T)*(s.x-m.x)/2+Math.cos(T)*(s.y-m.y)/2),w=Math.pow(p.x,2)/Math.pow(f,2)+Math.pow(p.y,2)/Math.pow(c,2);w>1&&(f*=Math.sqrt(w),c*=Math.sqrt(w));var C=(y===b?-1:1)*Math.sqrt((Math.pow(f,2)*Math.pow(c,2)-Math.pow(f,2)*Math.pow(p.y,2)-Math.pow(c,2)*Math.pow(p.x,2))/(Math.pow(f,2)*Math.pow(p.y,2)+Math.pow(c,2)*Math.pow(p.x,2)));isNaN(C)&&(C=0);var I=new Xe(C*f*p.y/c,C*-c*p.x/f),F=new Xe((s.x+m.x)/2+Math.cos(T)*I.x-Math.sin(T)*I.y,(s.y+m.y)/2+Math.sin(T)*I.x+Math.cos(T)*I.y),_=wu([1,0],[(p.x-I.x)/f,(p.y-I.y)/c]),L=[(p.x-I.x)/f,(p.y-I.y)/c],P=[(-p.x-I.x)/f,(-p.y-I.y)/c],D=wu(L,P);return Ms(L,P)<=-1&&(D=Math.PI),Ms(L,P)>=1&&(D=0),{currentPoint:m,rX:f,rY:c,sweepFlag:b,xAxisRotation:T,centp:F,a1:_,ad:D}}pathA(n,s){var{pathParser:o}=this,{currentPoint:f,rX:c,rY:v,sweepFlag:y,xAxisRotation:b,centp:T,a1:m,ad:p}=Re.pathA(o),w=1-y?1:-1,C=m+w*(p/2),I=new Xe(T.x+c*Math.cos(C),T.y+v*Math.sin(C));if(o.addMarkerAngle(I,C-w*Math.PI/2),o.addMarkerAngle(f,C-w*Math.PI),s.addPoint(f.x,f.y),n&&!isNaN(m)&&!isNaN(p)){var F=c>v?c:v,_=c>v?1:c/v,L=c>v?v/c:1;n.translate(T.x,T.y),n.rotate(b),n.scale(_,L),n.arc(0,0,F,m,m+p,!!(1-y)),n.scale(1/_,1/L),n.rotate(-b),n.translate(-T.x,-T.y)}}static pathZ(n){n.current=n.start}pathZ(n,s){Re.pathZ(this.pathParser),n&&s.x1!==s.x2&&s.y1!==s.y2&&n.closePath()}}class mf extends Re{constructor(n,s,o){super(n,s,o),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class Ir extends Qr{constructor(n,s,o){super(n,s,new.target===Ir?!0:o),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(n,s);var o=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();o&&(n.textBaseline=o)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(n){if(this.type!=="text")return this.getTElementBoundingBox(n);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(n);var s=null;return this.children.forEach((o,f)=>{var c=this.getChildBoundingBox(n,this,this,f);s?s.addBoundingBox(c):s=c}),s}getFontSize(){var{document:n,parent:s}=this,o=Tt.parse(n.ctx.font).fontSize,f=s.getStyle("font-size").getNumber(o);return f}getTElementBoundingBox(n){var s=this.getFontSize();return new qt(this.x,this.y-s,this.x+this.measureText(n),this.y)}getGlyph(n,s,o){var f=s[o],c=null;if(n.isArabic){var v=s.length,y=s[o-1],b=s[o+1],T="isolated";if((o===0||y===" ")&&o<v-1&&b!==" "&&(T="terminal"),o>0&&y!==" "&&o<v-1&&b!==" "&&(T="medial"),o>0&&y!==" "&&(o===v-1||b===" ")&&(T="initial"),typeof n.glyphs[f]<"u"){var m=n.glyphs[f];c=m instanceof mf?m:m[T]}}else c=n.glyphs[f];return c||(c=n.missingGlyph),c}getText(){return""}getTextFromNode(n){var s=n||this.node,o=Array.from(s.parentNode.childNodes),f=o.indexOf(s),c=o.length-1,v=Ti(s.textContent||"");return f===0&&(v=dp(v)),f===c&&(v=vp(v)),v}renderChildren(n){if(this.type!=="text"){this.renderTElementChildren(n);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(n),this.children.forEach((o,f)=>{this.renderChild(n,this,this,f)});var{mouse:s}=this.document.screen;s.isWorking()&&s.checkBoundingBox(this,this.getBoundingBox(n))}renderTElementChildren(n){var{document:s,parent:o}=this,f=this.getText(),c=o.getStyle("font-family").getDefinition();if(c){for(var{unitsPerEm:v}=c.fontFace,y=Tt.parse(s.ctx.font),b=o.getStyle("font-size").getNumber(y.fontSize),T=o.getStyle("font-style").getString(y.fontStyle),m=b/v,p=c.isRTL?f.split("").reverse().join(""):f,w=_t(o.getAttribute("dx").getString()),C=p.length,I=0;I<C;I++){var F=this.getGlyph(c,p,I);n.translate(this.x,this.y),n.scale(m,-m);var _=n.lineWidth;n.lineWidth=n.lineWidth*v/b,T==="italic"&&n.transform(1,0,.4,1,0,0),F.render(n),T==="italic"&&n.transform(1,0,-.4,1,0,0),n.lineWidth=_,n.scale(1/m,-1/m),n.translate(-this.x,-this.y),this.x+=b*(F.horizAdvX||c.horizAdvX)/v,typeof w[I]<"u"&&!isNaN(w[I])&&(this.x+=w[I])}return}var{x:L,y:P}=this;n.fillStyle&&n.fillText(f,L,P),n.strokeStyle&&n.strokeText(f,L,P)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var n=this.leafTexts[this.textChunkStart],s=n.getStyle("text-anchor").getString("start"),o=!1,f=0;s==="start"&&!o||s==="end"&&o?f=n.x-this.minX:s==="end"&&!o||s==="start"&&o?f=n.x-this.maxX:f=n.x-(this.minX+this.maxX)/2;for(var c=this.textChunkStart;c<this.leafTexts.length;c++)this.leafTexts[c].x+=f;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(n){this.children.forEach((s,o)=>{this.adjustChildCoordinatesRecursiveCore(n,this,this,o)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(n,s,o,f){var c=o.children[f];c.children.length>0?c.children.forEach((v,y)=>{s.adjustChildCoordinatesRecursiveCore(n,s,c,y)}):this.adjustChildCoordinates(n,s,o,f)}adjustChildCoordinates(n,s,o,f){var c=o.children[f];if(typeof c.measureText!="function")return c;n.save(),c.setContext(n,!0);var v=c.getAttribute("x"),y=c.getAttribute("y"),b=c.getAttribute("dx"),T=c.getAttribute("dy"),m=c.getStyle("font-family").getDefinition(),p=!!m&&m.isRTL;f===0&&(v.hasValue()||v.setValue(c.getInheritedAttribute("x")),y.hasValue()||y.setValue(c.getInheritedAttribute("y")),b.hasValue()||b.setValue(c.getInheritedAttribute("dx")),T.hasValue()||T.setValue(c.getInheritedAttribute("dy")));var w=c.measureText(n);return p&&(s.x-=w),v.hasValue()?(s.applyAnchoring(),c.x=v.getPixels("x"),b.hasValue()&&(c.x+=b.getPixels("x"))):(b.hasValue()&&(s.x+=b.getPixels("x")),c.x=s.x),s.x=c.x,p||(s.x+=w),y.hasValue()?(c.y=y.getPixels("y"),T.hasValue()&&(c.y+=T.getPixels("y"))):(T.hasValue()&&(s.y+=T.getPixels("y")),c.y=s.y),s.y=c.y,s.leafTexts.push(c),s.minX=Math.min(s.minX,c.x,c.x+w),s.maxX=Math.max(s.maxX,c.x,c.x+w),c.clearContext(n),n.restore(),c}getChildBoundingBox(n,s,o,f){var c=o.children[f];if(typeof c.getBoundingBox!="function")return null;var v=c.getBoundingBox(n);return v?(c.children.forEach((y,b)=>{var T=s.getChildBoundingBox(n,s,c,b);v.addBoundingBox(T)}),v):null}renderChild(n,s,o,f){var c=o.children[f];c.render(n),c.children.forEach((v,y)=>{s.renderChild(n,s,c,y)})}measureText(n){var{measureCache:s}=this;if(~s)return s;var o=this.getText(),f=this.measureTargetText(n,o);return this.measureCache=f,f}measureTargetText(n,s){if(!s.length)return 0;var{parent:o}=this,f=o.getStyle("font-family").getDefinition();if(f){for(var c=this.getFontSize(),v=f.isRTL?s.split("").reverse().join(""):s,y=_t(o.getAttribute("dx").getString()),b=v.length,T=0,m=0;m<b;m++){var p=this.getGlyph(f,v,m);T+=(p.horizAdvX||f.horizAdvX)*c/f.fontFace.unitsPerEm,typeof y[m]<"u"&&!isNaN(y[m])&&(T+=y[m])}return T}if(!n.measureText)return s.length*10;n.save(),this.setContext(n,!0);var{width:w}=n.measureText(s);return this.clearContext(n),n.restore(),w}getInheritedAttribute(n){for(var s=this;s instanceof Ir&&s.isFirstChild();){var o=s.parent.getAttribute(n);if(o.hasValue(!0))return o.getValue("0");s=s.parent}return null}}class ga extends Ir{constructor(n,s,o){super(n,s,new.target===ga?!0:o),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class dA extends ga{constructor(){super(...arguments),this.type="textNode"}}class dn extends Qr{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(n){var s,{document:o}=this,{screen:f,window:c}=o,v=n.canvas;if(f.setDefaults(n),v.style&&typeof n.font<"u"&&c&&typeof c.getComputedStyle<"u"){n.font=c.getComputedStyle(v).getPropertyValue("font");var y=new de(o,"fontSize",Tt.parse(n.font).fontSize);y.hasValue()&&(o.rootEmSize=y.getPixels("y"),o.emSize=o.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:b,height:T}=f.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var m=this.getAttribute("refX"),p=this.getAttribute("refY"),w=this.getAttribute("viewBox"),C=w.hasValue()?_t(w.getString()):null,I=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",F=0,_=0,L=0,P=0;C&&(F=C[0],_=C[1]),this.root||(b=this.getStyle("width").getPixels("x"),T=this.getStyle("height").getPixels("y"),this.type==="marker"&&(L=F,P=_,F=0,_=0)),f.viewPort.setCurrent(b,T),this.node&&(!this.parent||((s=this.node.parentNode)===null||s===void 0?void 0:s.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(n),n.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),C&&(b=C[2],T=C[3]),o.setViewBox({ctx:n,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:f.viewPort.width,desiredWidth:b,height:f.viewPort.height,desiredHeight:T,minX:F,minY:_,refX:m.getValue(),refY:p.getValue(),clip:I,clipX:L,clipY:P}),C&&(f.viewPort.removeCurrent(),f.viewPort.setCurrent(b,T))}clearContext(n){super.clearContext(n),this.document.screen.viewPort.removeCurrent()}resize(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=this.getAttribute("width",!0),c=this.getAttribute("height",!0),v=this.getAttribute("viewBox"),y=this.getAttribute("style"),b=f.getNumber(0),T=c.getNumber(0);if(o)if(typeof o=="string")this.getAttribute("preserveAspectRatio",!0).setValue(o);else{var m=this.getAttribute("preserveAspectRatio");m.hasValue()&&m.setValue(m.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(f.setValue(n),c.setValue(s),v.hasValue()||v.setValue("0 0 ".concat(b||n," ").concat(T||s)),y.hasValue()){var p=this.getStyle("width"),w=this.getStyle("height");p.hasValue()&&p.setValue("".concat(n,"px")),w.hasValue()&&w.setValue("".concat(s,"px"))}}}class bf extends Re{constructor(){super(...arguments),this.type="rect"}path(n){var s=this.getAttribute("x").getPixels("x"),o=this.getAttribute("y").getPixels("y"),f=this.getStyle("width",!1,!0).getPixels("x"),c=this.getStyle("height",!1,!0).getPixels("y"),v=this.getAttribute("rx"),y=this.getAttribute("ry"),b=v.getPixels("x"),T=y.getPixels("y");if(v.hasValue()&&!y.hasValue()&&(T=b),y.hasValue()&&!v.hasValue()&&(b=T),b=Math.min(b,f/2),T=Math.min(T,c/2),n){var m=4*((Math.sqrt(2)-1)/3);n.beginPath(),c>0&&f>0&&(n.moveTo(s+b,o),n.lineTo(s+f-b,o),n.bezierCurveTo(s+f-b+m*b,o,s+f,o+T-m*T,s+f,o+T),n.lineTo(s+f,o+c-T),n.bezierCurveTo(s+f,o+c-T+m*T,s+f-b+m*b,o+c,s+f-b,o+c),n.lineTo(s+b,o+c),n.bezierCurveTo(s+b-m*b,o+c,s,o+c-T+m*T,s,o+c-T),n.lineTo(s,o+T),n.bezierCurveTo(s,o+T-m*T,s+b-m*b,o,s+b,o),n.closePath())}return new qt(s,o,s+f,o+c)}getMarkers(){return null}}class Ep extends Re{constructor(){super(...arguments),this.type="circle"}path(n){var s=this.getAttribute("cx").getPixels("x"),o=this.getAttribute("cy").getPixels("y"),f=this.getAttribute("r").getPixels();return n&&f>0&&(n.beginPath(),n.arc(s,o,f,0,Math.PI*2,!1),n.closePath()),new qt(s-f,o-f,s+f,o+f)}getMarkers(){return null}}class Ap extends Re{constructor(){super(...arguments),this.type="ellipse"}path(n){var s=4*((Math.sqrt(2)-1)/3),o=this.getAttribute("rx").getPixels("x"),f=this.getAttribute("ry").getPixels("y"),c=this.getAttribute("cx").getPixels("x"),v=this.getAttribute("cy").getPixels("y");return n&&o>0&&f>0&&(n.beginPath(),n.moveTo(c+o,v),n.bezierCurveTo(c+o,v+s*f,c+s*o,v+f,c,v+f),n.bezierCurveTo(c-s*o,v+f,c-o,v+s*f,c-o,v),n.bezierCurveTo(c-o,v-s*f,c-s*o,v-f,c,v-f),n.bezierCurveTo(c+s*o,v-f,c+o,v-s*f,c+o,v),n.closePath()),new qt(c-o,v-f,c+o,v+f)}getMarkers(){return null}}class Mp extends Re{constructor(){super(...arguments),this.type="line"}getPoints(){return[new Xe(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Xe(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(n){var[{x:s,y:o},{x:f,y:c}]=this.getPoints();return n&&(n.beginPath(),n.moveTo(s,o),n.lineTo(f,c)),new qt(s,o,f,c)}getMarkers(){var[n,s]=this.getPoints(),o=n.angleTo(s);return[[n,o],[s,o]]}}class xf extends Re{constructor(n,s,o){super(n,s,o),this.type="polyline",this.points=[],this.points=Xe.parsePath(this.getAttribute("points").getString())}path(n){var{points:s}=this,[{x:o,y:f}]=s,c=new qt(o,f);return n&&(n.beginPath(),n.moveTo(o,f)),s.forEach(v=>{var{x:y,y:b}=v;c.addPoint(y,b),n&&n.lineTo(y,b)}),c}getMarkers(){var{points:n}=this,s=n.length-1,o=[];return n.forEach((f,c)=>{c!==s&&o.push([f,f.angleTo(n[c+1])])}),o.length>0&&o.push([n[n.length-1],o[o.length-1][1]]),o}}class Lp extends xf{constructor(){super(...arguments),this.type="polygon"}path(n){var s=super.path(n),[{x:o,y:f}]=this.points;return n&&(n.lineTo(o,f),n.closePath()),s}}class Ip extends ze{constructor(){super(...arguments),this.type="pattern"}createPattern(n,s,o){var f=this.getStyle("width").getPixels("x",!0),c=this.getStyle("height").getPixels("y",!0),v=new dn(this.document,null);v.attributes.viewBox=new de(this.document,"viewBox",this.getAttribute("viewBox").getValue()),v.attributes.width=new de(this.document,"width","".concat(f,"px")),v.attributes.height=new de(this.document,"height","".concat(c,"px")),v.attributes.transform=new de(this.document,"transform",this.getAttribute("patternTransform").getValue()),v.children=this.children;var y=this.document.createCanvas(f,c),b=y.getContext("2d"),T=this.getAttribute("x"),m=this.getAttribute("y");T.hasValue()&&m.hasValue()&&b.translate(T.getPixels("x",!0),m.getPixels("y",!0)),o.hasValue()?this.styles["fill-opacity"]=o:Reflect.deleteProperty(this.styles,"fill-opacity");for(var p=-1;p<=1;p++)for(var w=-1;w<=1;w++)b.save(),v.attributes.x=new de(this.document,"x",p*y.width),v.attributes.y=new de(this.document,"y",w*y.height),v.render(b),b.restore();var C=n.createPattern(y,"repeat");return C}}class Np extends ze{constructor(){super(...arguments),this.type="marker"}render(n,s,o){if(s){var{x:f,y:c}=s,v=this.getAttribute("orient").getString("auto"),y=this.getAttribute("markerUnits").getString("strokeWidth");n.translate(f,c),v==="auto"&&n.rotate(o),y==="strokeWidth"&&n.scale(n.lineWidth,n.lineWidth),n.save();var b=new dn(this.document,null);b.type=this.type,b.attributes.viewBox=new de(this.document,"viewBox",this.getAttribute("viewBox").getValue()),b.attributes.refX=new de(this.document,"refX",this.getAttribute("refX").getValue()),b.attributes.refY=new de(this.document,"refY",this.getAttribute("refY").getValue()),b.attributes.width=new de(this.document,"width",this.getAttribute("markerWidth").getValue()),b.attributes.height=new de(this.document,"height",this.getAttribute("markerHeight").getValue()),b.attributes.overflow=new de(this.document,"overflow",this.getAttribute("overflow").getValue()),b.attributes.fill=new de(this.document,"fill",this.getAttribute("fill").getColor("black")),b.attributes.stroke=new de(this.document,"stroke",this.getAttribute("stroke").getValue("none")),b.children=this.children,b.render(n),n.restore(),y==="strokeWidth"&&n.scale(1/n.lineWidth,1/n.lineWidth),v==="auto"&&n.rotate(-o),n.translate(-f,-c)}}}class $p extends ze{constructor(){super(...arguments),this.type="defs"}render(){}}class Ys extends Qr{constructor(){super(...arguments),this.type="g"}getBoundingBox(n){var s=new qt;return this.children.forEach(o=>{s.addBoundingBox(o.getBoundingBox(n))}),s}}class wf extends ze{constructor(n,s,o){super(n,s,o),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:f,children:c}=this;c.forEach(v=>{v.type==="stop"&&f.push(v)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(n,s,o){var f=this;this.getHrefAttribute().hasValue()&&(f=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(f));var{stops:c}=f,v=this.getGradient(n,s);if(!v)return this.addParentOpacity(o,c[c.length-1].color);if(c.forEach(_=>{v.addColorStop(_.offset,this.addParentOpacity(o,_.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:y}=this,{MAX_VIRTUAL_PIXELS:b,viewPort:T}=y.screen,[m]=T.viewPorts,p=new bf(y,null);p.attributes.x=new de(y,"x",-b/3),p.attributes.y=new de(y,"y",-b/3),p.attributes.width=new de(y,"width",b),p.attributes.height=new de(y,"height",b);var w=new Ys(y,null);w.attributes.transform=new de(y,"transform",this.getAttribute("gradientTransform").getValue()),w.children=[p];var C=new dn(y,null);C.attributes.x=new de(y,"x",0),C.attributes.y=new de(y,"y",0),C.attributes.width=new de(y,"width",m.width),C.attributes.height=new de(y,"height",m.height),C.children=[w];var I=y.createCanvas(m.width,m.height),F=I.getContext("2d");return F.fillStyle=v,C.render(F),F.createPattern(I,"no-repeat")}return v}inheritStopContainer(n){this.attributesToInherit.forEach(s=>{!this.getAttribute(s).hasValue()&&n.getAttribute(s).hasValue()&&this.getAttribute(s,!0).setValue(n.getAttribute(s).getValue())})}addParentOpacity(n,s){if(n.hasValue()){var o=new de(this.document,"color",s);return o.addOpacity(n).getColor()}return s}}class Rp extends wf{constructor(n,s,o){super(n,s,o),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(n,s){var o=this.getGradientUnits()==="objectBoundingBox",f=o?s.getBoundingBox(n):null;if(o&&!f)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var c=o?f.x+f.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),v=o?f.y+f.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),y=o?f.x+f.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),b=o?f.y+f.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return c===y&&v===b?null:n.createLinearGradient(c,v,y,b)}}class Dp extends wf{constructor(n,s,o){super(n,s,o),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(n,s){var o=this.getGradientUnits()==="objectBoundingBox",f=s.getBoundingBox(n);if(o&&!f)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var c=o?f.x+f.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),v=o?f.y+f.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),y=c,b=v;this.getAttribute("fx").hasValue()&&(y=o?f.x+f.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(b=o?f.y+f.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var T=o?(f.width+f.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),m=this.getAttribute("fr").getPixels();return n.createRadialGradient(y,b,m,c,v,T)}}class Fp extends ze{constructor(n,s,o){super(n,s,o),this.type="stop";var f=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),c=this.getStyle("stop-opacity"),v=this.getStyle("stop-color",!0);v.getString()===""&&v.setValue("#000"),c.hasValue()&&(v=v.addOpacity(c)),this.offset=f,this.color=v.getColor()}}class Xs extends ze{constructor(n,s,o){super(n,s,o),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,n.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new de(n,"values",null);var f=this.getAttribute("values");f.hasValue()&&this.values.setValue(f.getString().split(";"))}getProperty(){var n=this.getAttribute("attributeType").getString(),s=this.getAttribute("attributeName").getString();return n==="CSS"?this.parent.getStyle(s,!0):this.parent.getAttribute(s,!0)}calcValue(){var{initialUnits:n}=this,{progress:s,from:o,to:f}=this.getProgress(),c=o.getNumber()+(f.getNumber()-o.getNumber())*s;return n==="%"&&(c*=100),"".concat(c).concat(n)}update(n){var{parent:s}=this,o=this.getProperty();if(this.initialValue||(this.initialValue=o.getString(),this.initialUnits=o.getUnits()),this.duration>this.maxDuration){var f=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(f==="freeze"&&!this.frozen)this.frozen=!0,s.animationFrozen=!0,s.animationFrozenValue=o.getString();else if(f==="remove"&&!this.removed)return this.removed=!0,o.setValue(s.animationFrozen?s.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=n;var c=!1;if(this.begin<this.duration){var v=this.calcValue(),y=this.getAttribute("type");if(y.hasValue()){var b=y.getString();v="".concat(b,"(").concat(v,")")}o.setValue(v),c=!0}return c}getProgress(){var{document:n,values:s}=this,o={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(s.hasValue()){var f=o.progress*(s.getValue().length-1),c=Math.floor(f),v=Math.ceil(f);o.from=new de(n,"from",parseFloat(s.getValue()[c])),o.to=new de(n,"to",parseFloat(s.getValue()[v])),o.progress=(f-c)/(v-c)}else o.from=this.from,o.to=this.to;return o}}class _p extends Xs{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:n,from:s,to:o}=this.getProgress(),f=new jl(s.getColor()),c=new jl(o.getColor());if(f.ok&&c.ok){var v=f.r+(c.r-f.r)*n,y=f.g+(c.g-f.g)*n,b=f.b+(c.b-f.b)*n;return"rgb(".concat(Math.floor(v),", ").concat(Math.floor(y),", ").concat(Math.floor(b),")")}return this.getAttribute("from").getColor()}}class Bp extends Xs{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:n,from:s,to:o}=this.getProgress(),f=_t(s.getString()),c=_t(o.getString()),v=f.map((y,b)=>{var T=c[b];return y+(T-y)*n}).join(" ");return v}}class zp extends ze{constructor(n,s,o){super(n,s,o),this.type="font",this.glyphs={},this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:f}=n,{children:c}=this;for(var v of c)switch(v.type){case"font-face":{this.fontFace=v;var y=v.getStyle("font-family");y.hasValue()&&(f[y.getString()]=this);break}case"missing-glyph":this.missingGlyph=v;break;case"glyph":{var b=v;b.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[b.unicode]>"u"&&(this.glyphs[b.unicode]={}),this.glyphs[b.unicode][b.arabicForm]=b):this.glyphs[b.unicode]=b;break}}}render(){}}class Wp extends ze{constructor(n,s,o){super(n,s,o),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Hp extends Re{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class jp extends Ir{constructor(){super(...arguments),this.type="tref"}getText(){var n=this.getHrefAttribute().getDefinition();if(n){var s=n.children[0];if(s)return s.getText()}return""}}class Up extends Ir{constructor(n,s,o){super(n,s,o),this.type="a";var{childNodes:f}=s,c=f[0],v=f.length>0&&Array.from(f).every(y=>y.nodeType===3);this.hasText=v,this.text=v?this.getTextFromNode(c):""}getText(){return this.text}renderChildren(n){if(this.hasText){super.renderChildren(n);var{document:s,x:o,y:f}=this,{mouse:c}=s.screen,v=new de(s,"fontSize",Tt.parse(s.ctx.font).fontSize);c.isWorking()&&c.checkBoundingBox(this,new qt(o,f-v.getPixels("y"),o+this.measureText(n),f))}else if(this.children.length>0){var y=new Ys(this.document,null);y.children=this.children,y.parent=this,y.render(n)}}onClick(){var{window:n}=this.document;n&&n.open(this.getHrefAttribute().getString())}onMouseMove(){var n=this.document.ctx;n.canvas.style.cursor="pointer"}}function Cv(u,n){var s=Object.keys(u);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(u);n&&(o=o.filter(function(f){return Object.getOwnPropertyDescriptor(u,f).enumerable})),s.push.apply(s,o)}return s}function ds(u){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Cv(Object(s),!0).forEach(function(o){Lu(u,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(s)):Cv(Object(s)).forEach(function(o){Object.defineProperty(u,o,Object.getOwnPropertyDescriptor(s,o))})}return u}class Vp extends Ir{constructor(n,s,o){super(n,s,o),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var f=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(f)}getText(){return this.text}path(n){var{dataArray:s}=this;n&&n.beginPath(),s.forEach(o=>{var{type:f,points:c}=o;switch(f){case xe.LINE_TO:n&&n.lineTo(c[0],c[1]);break;case xe.MOVE_TO:n&&n.moveTo(c[0],c[1]);break;case xe.CURVE_TO:n&&n.bezierCurveTo(c[0],c[1],c[2],c[3],c[4],c[5]);break;case xe.QUAD_TO:n&&n.quadraticCurveTo(c[0],c[1],c[2],c[3]);break;case xe.ARC:{var[v,y,b,T,m,p,w,C]=c,I=b>T?b:T,F=b>T?1:b/T,_=b>T?T/b:1;n&&(n.translate(v,y),n.rotate(w),n.scale(F,_),n.arc(0,0,I,m,m+p,!!(1-C)),n.scale(1/F,1/_),n.rotate(-w),n.translate(-v,-y));break}case xe.CLOSE_PATH:n&&n.closePath();break}})}renderChildren(n){this.setTextData(n),n.save();var s=this.parent.getStyle("text-decoration").getString(),o=this.getFontSize(),{glyphInfo:f}=this,c=n.fillStyle;s==="underline"&&n.beginPath(),f.forEach((v,y)=>{var{p0:b,p1:T,rotation:m,text:p}=v;n.save(),n.translate(b.x,b.y),n.rotate(m),n.fillStyle&&n.fillText(p,0,0),n.strokeStyle&&n.strokeText(p,0,0),n.restore(),s==="underline"&&(y===0&&n.moveTo(b.x,b.y+o/8),n.lineTo(T.x,T.y+o/5))}),s==="underline"&&(n.lineWidth=o/20,n.strokeStyle=c,n.stroke(),n.closePath()),n.restore()}getLetterSpacingAt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[n]||0}findSegmentToFitChar(n,s,o,f,c,v,y,b,T){var m=v,p=this.measureText(n,b);b===" "&&s==="justify"&&o<f&&(p+=(f-o)/c),T>-1&&(m+=this.getLetterSpacingAt(T));var w=this.textHeight/20,C=this.getEquidistantPointOnPath(m,w,0),I=this.getEquidistantPointOnPath(m+p,w,0),F={p0:C,p1:I},_=C&&I?Math.atan2(I.y-C.y,I.x-C.x):0;if(y){var L=Math.cos(Math.PI/2+_)*y,P=Math.cos(-_)*y;F.p0=ds(ds({},C),{},{x:C.x+L,y:C.y+P}),F.p1=ds(ds({},I),{},{x:I.x+L,y:I.y+P})}return m+=p,{offset:m,segment:F,rotation:_}}measureText(n,s){var{measuresCache:o}=this,f=s||this.getText();if(o.has(f))return o.get(f);var c=this.measureTargetText(n,f);return o.set(f,c),c}setTextData(n){if(!this.glyphInfo){var s=this.getText(),o=s.split(""),f=s.split(" ").length-1,c=this.parent.getAttribute("dx").split().map(j=>j.getPixels("x")),v=this.parent.getAttribute("dy").getPixels("y"),y=this.parent.getStyle("text-anchor").getString("start"),b=this.getStyle("letter-spacing"),T=this.parent.getStyle("letter-spacing"),m=0;!b.hasValue()||b.getValue()==="inherit"?m=T.getPixels():b.hasValue()&&b.getValue()!=="initial"&&b.getValue()!=="unset"&&(m=b.getPixels());var p=[],w=s.length;this.letterSpacingCache=p;for(var C=0;C<w;C++)p.push(typeof c[C]<"u"?c[C]:m);var I=p.reduce((j,U,te)=>te===0?0:j+U||0,0),F=this.measureText(n),_=Math.max(F+I,0);this.textWidth=F,this.textHeight=this.getFontSize(),this.glyphInfo=[];var L=this.getPathLength(),P=this.getStyle("startOffset").getNumber(0)*L,D=0;(y==="middle"||y==="center")&&(D=-_/2),(y==="end"||y==="right")&&(D=-_),D+=P,o.forEach((j,U)=>{var{offset:te,segment:re,rotation:ie}=this.findSegmentToFitChar(n,y,_,L,f,D,v,j,U);D=te,!(!re.p0||!re.p1)&&this.glyphInfo.push({text:o[U],p0:re.p0,p1:re.p1,rotation:ie})})}}parsePathData(n){if(this.pathLength=-1,!n)return[];var s=[],{pathParser:o}=n;for(o.reset();!o.isEnd();){var{current:f}=o,c=f?f.x:0,v=f?f.y:0,y=o.next(),b=y.type,T=[];switch(y.type){case xe.MOVE_TO:this.pathM(o,T);break;case xe.LINE_TO:b=this.pathL(o,T);break;case xe.HORIZ_LINE_TO:b=this.pathH(o,T);break;case xe.VERT_LINE_TO:b=this.pathV(o,T);break;case xe.CURVE_TO:this.pathC(o,T);break;case xe.SMOOTH_CURVE_TO:b=this.pathS(o,T);break;case xe.QUAD_TO:this.pathQ(o,T);break;case xe.SMOOTH_QUAD_TO:b=this.pathT(o,T);break;case xe.ARC:T=this.pathA(o);break;case xe.CLOSE_PATH:Re.pathZ(o);break}y.type!==xe.CLOSE_PATH?s.push({type:b,points:T,start:{x:c,y:v},pathLength:this.calcLength(c,v,b,T)}):s.push({type:xe.CLOSE_PATH,points:[],pathLength:0})}return s}pathM(n,s){var{x:o,y:f}=Re.pathM(n).point;s.push(o,f)}pathL(n,s){var{x:o,y:f}=Re.pathL(n).point;return s.push(o,f),xe.LINE_TO}pathH(n,s){var{x:o,y:f}=Re.pathH(n).point;return s.push(o,f),xe.LINE_TO}pathV(n,s){var{x:o,y:f}=Re.pathV(n).point;return s.push(o,f),xe.LINE_TO}pathC(n,s){var{point:o,controlPoint:f,currentPoint:c}=Re.pathC(n);s.push(o.x,o.y,f.x,f.y,c.x,c.y)}pathS(n,s){var{point:o,controlPoint:f,currentPoint:c}=Re.pathS(n);return s.push(o.x,o.y,f.x,f.y,c.x,c.y),xe.CURVE_TO}pathQ(n,s){var{controlPoint:o,currentPoint:f}=Re.pathQ(n);s.push(o.x,o.y,f.x,f.y)}pathT(n,s){var{controlPoint:o,currentPoint:f}=Re.pathT(n);return s.push(o.x,o.y,f.x,f.y),xe.QUAD_TO}pathA(n){var{rX:s,rY:o,sweepFlag:f,xAxisRotation:c,centp:v,a1:y,ad:b}=Re.pathA(n);return f===0&&b>0&&(b-=2*Math.PI),f===1&&b<0&&(b+=2*Math.PI),[v.x,v.y,s,o,y,b,c,f]}calcLength(n,s,o,f){var c=0,v=null,y=null,b=0;switch(o){case xe.LINE_TO:return this.getLineLength(n,s,f[0],f[1]);case xe.CURVE_TO:for(c=0,v=this.getPointOnCubicBezier(0,n,s,f[0],f[1],f[2],f[3],f[4],f[5]),b=.01;b<=1;b+=.01)y=this.getPointOnCubicBezier(b,n,s,f[0],f[1],f[2],f[3],f[4],f[5]),c+=this.getLineLength(v.x,v.y,y.x,y.y),v=y;return c;case xe.QUAD_TO:for(c=0,v=this.getPointOnQuadraticBezier(0,n,s,f[0],f[1],f[2],f[3]),b=.01;b<=1;b+=.01)y=this.getPointOnQuadraticBezier(b,n,s,f[0],f[1],f[2],f[3]),c+=this.getLineLength(v.x,v.y,y.x,y.y),v=y;return c;case xe.ARC:{c=0;var T=f[4],m=f[5],p=f[4]+m,w=Math.PI/180;if(Math.abs(T-p)<w&&(w=Math.abs(T-p)),v=this.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],T,0),m<0)for(b=T-w;b>p;b-=w)y=this.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],b,0),c+=this.getLineLength(v.x,v.y,y.x,y.y),v=y;else for(b=T+w;b<p;b+=w)y=this.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],b,0),c+=this.getLineLength(v.x,v.y,y.x,y.y),v=y;return y=this.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],p,0),c+=this.getLineLength(v.x,v.y,y.x,y.y),c}}return 0}getPointOnLine(n,s,o,f,c){var v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:s,y=arguments.length>6&&arguments[6]!==void 0?arguments[6]:o,b=(c-o)/(f-s+mi),T=Math.sqrt(n*n/(1+b*b));f<s&&(T*=-1);var m=b*T,p=null;if(f===s)p={x:v,y:y+m};else if((y-o)/(v-s+mi)===b)p={x:v+T,y:y+m};else{var w=0,C=0,I=this.getLineLength(s,o,f,c);if(I<mi)return null;var F=(v-s)*(f-s)+(y-o)*(c-o);F/=I*I,w=s+F*(f-s),C=o+F*(c-o);var _=this.getLineLength(v,y,w,C),L=Math.sqrt(n*n-_*_);T=Math.sqrt(L*L/(1+b*b)),f<s&&(T*=-1),m=b*T,p={x:w+T,y:C+m}}return p}getPointOnPath(n){var s=this.getPathLength(),o=0,f=null;if(n<-5e-5||n-5e-5>s)return null;var{dataArray:c}=this;for(var v of c){if(v&&(v.pathLength<5e-5||o+v.pathLength+5e-5<n)){o+=v.pathLength;continue}var y=n-o,b=0;switch(v.type){case xe.LINE_TO:f=this.getPointOnLine(y,v.start.x,v.start.y,v.points[0],v.points[1],v.start.x,v.start.y);break;case xe.ARC:{var T=v.points[4],m=v.points[5],p=v.points[4]+m;if(b=T+y/v.pathLength*m,m<0&&b<p||m>=0&&b>p)break;f=this.getPointOnEllipticalArc(v.points[0],v.points[1],v.points[2],v.points[3],b,v.points[6]);break}case xe.CURVE_TO:b=y/v.pathLength,b>1&&(b=1),f=this.getPointOnCubicBezier(b,v.start.x,v.start.y,v.points[0],v.points[1],v.points[2],v.points[3],v.points[4],v.points[5]);break;case xe.QUAD_TO:b=y/v.pathLength,b>1&&(b=1),f=this.getPointOnQuadraticBezier(b,v.start.x,v.start.y,v.points[0],v.points[1],v.points[2],v.points[3]);break}if(f)return f;break}return null}getLineLength(n,s,o,f){return Math.sqrt((o-n)*(o-n)+(f-s)*(f-s))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((n,s)=>s.pathLength>0?n+s.pathLength:n,0)),this.pathLength}getPointOnCubicBezier(n,s,o,f,c,v,y,b,T){var m=b*Su(n)+v*Cu(n)+f*ku(n)+s*Tu(n),p=T*Su(n)+y*Cu(n)+c*ku(n)+o*Tu(n);return{x:m,y:p}}getPointOnQuadraticBezier(n,s,o,f,c,v,y){var b=v*Ou(n)+f*Pu(n)+s*Eu(n),T=y*Ou(n)+c*Pu(n)+o*Eu(n);return{x:b,y:T}}getPointOnEllipticalArc(n,s,o,f,c,v){var y=Math.cos(v),b=Math.sin(v),T={x:o*Math.cos(c),y:f*Math.sin(c)};return{x:n+(T.x*y-T.y*b),y:s+(T.x*b+T.y*y)}}buildEquidistantCache(n,s){var o=this.getPathLength(),f=s||.25,c=n||o/100;if(!this.equidistantCache||this.equidistantCache.step!==c||this.equidistantCache.precision!==f){this.equidistantCache={step:c,precision:f,points:[]};for(var v=0,y=0;y<=o;y+=f){var b=this.getPointOnPath(y),T=this.getPointOnPath(y+f);!b||!T||(v+=this.getLineLength(b.x,b.y,T.x,T.y),v>=c&&(this.equidistantCache.points.push({x:b.x,y:b.y,distance:y}),v-=c))}}}getEquidistantPointOnPath(n,s,o){if(this.buildEquidistantCache(s,o),n<0||n-this.getPathLength()>5e-5)return null;var f=Math.round(n/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[f]||null}}var vA=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class Gp extends Qr{constructor(n,s,o){super(n,s,o),this.type="image",this.loaded=!1;var f=this.getHrefAttribute().getString();if(f){var c=f.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(f);n.images.push(this),c?this.loadSvg(f):this.loadImage(f),this.isSvg=c}}loadImage(n){var s=this;return Lr(function*(){try{var o=yield s.document.createImage(n);s.image=o}catch(f){console.error('Error while loading image "'.concat(n,'":'),f)}s.loaded=!0})()}loadSvg(n){var s=this;return Lr(function*(){var o=vA.exec(n);if(o){var f=o[5];o[4]==="base64"?s.image=atob(f):s.image=decodeURIComponent(f)}else try{var c=yield s.document.fetch(n),v=yield c.text();s.image=v}catch(y){console.error('Error while loading image "'.concat(n,'":'),y)}s.loaded=!0})()}renderChildren(n){var{document:s,image:o,loaded:f}=this,c=this.getAttribute("x").getPixels("x"),v=this.getAttribute("y").getPixels("y"),y=this.getStyle("width").getPixels("x"),b=this.getStyle("height").getPixels("y");if(!(!f||!o||!y||!b)){if(n.save(),n.translate(c,v),this.isSvg){var T=s.canvg.forkString(n,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:y,scaleHeight:b});T.document.documentElement.parent=this,T.render()}else{var m=this.image;s.setViewBox({ctx:n,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:y,desiredWidth:m.width,height:b,desiredHeight:m.height}),this.loaded&&(typeof m.complete>"u"||m.complete)&&n.drawImage(m,0,0)}n.restore()}}getBoundingBox(){var n=this.getAttribute("x").getPixels("x"),s=this.getAttribute("y").getPixels("y"),o=this.getStyle("width").getPixels("x"),f=this.getStyle("height").getPixels("y");return new qt(n,s,n+o,s+f)}}class Kp extends Qr{constructor(){super(...arguments),this.type="symbol"}render(n){}}class qp{constructor(n){this.document=n,this.loaded=!1,n.fonts.push(this)}load(n,s){var o=this;return Lr(function*(){try{var{document:f}=o,c=yield f.canvg.parser.load(s),v=c.getElementsByTagName("font");Array.from(v).forEach(y=>{var b=f.createElement(y);f.definitions[n]=b})}catch(y){console.error('Error while loading font "'.concat(s,'":'),y)}o.loaded=!0})()}}class Sf extends ze{constructor(n,s,o){super(n,s,o),this.type="style";var f=Ti(Array.from(s.childNodes).map(v=>v.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),c=f.split("}");c.forEach(v=>{var y=v.trim();if(y){var b=y.split("{"),T=b[0].split(","),m=b[1].split(";");T.forEach(p=>{var w=p.trim();if(w){var C=n.styles[w]||{};if(m.forEach(_=>{var L=_.indexOf(":"),P=_.substr(0,L).trim(),D=_.substr(L+1,_.length-L).trim();P&&D&&(C[P]=new de(n,P,D))}),n.styles[w]=C,n.stylesSpecificity[w]=yp(w),w==="@font-face"){var I=C["font-family"].getString().replace(/"|'/g,""),F=C.src.getString().split(",");F.forEach(_=>{if(_.indexOf('format("svg")')>0){var L=gf(_);L&&new qp(n).load(I,L)}})}}})}})}}Sf.parseExternalUrl=gf;class Yp extends Qr{constructor(){super(...arguments),this.type="use"}setContext(n){super.setContext(n);var s=this.getAttribute("x"),o=this.getAttribute("y");s.hasValue()&&n.translate(s.getPixels("x"),0),o.hasValue()&&n.translate(0,o.getPixels("y"))}path(n){var{element:s}=this;s&&s.path(n)}renderChildren(n){var{document:s,element:o}=this;if(o){var f=o;if(o.type==="symbol"&&(f=new dn(s,null),f.attributes.viewBox=new de(s,"viewBox",o.getAttribute("viewBox").getString()),f.attributes.preserveAspectRatio=new de(s,"preserveAspectRatio",o.getAttribute("preserveAspectRatio").getString()),f.attributes.overflow=new de(s,"overflow",o.getAttribute("overflow").getString()),f.children=o.children,o.styles.opacity=new de(s,"opacity",this.calculateOpacity())),f.type==="svg"){var c=this.getStyle("width",!1,!0),v=this.getStyle("height",!1,!0);c.hasValue()&&(f.attributes.width=new de(s,"width",c.getString())),v.hasValue()&&(f.attributes.height=new de(s,"height",v.getString()))}var y=f.parent;f.parent=this,f.render(n),f.parent=y}}getBoundingBox(n){var{element:s}=this;return s?s.getBoundingBox(n):null}elementTransform(){var{document:n,element:s}=this;return Zr.fromElement(n,s)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function vs(u,n,s,o,f,c){return u[s*o*4+n*4+c]}function gs(u,n,s,o,f,c,v){u[s*o*4+n*4+c]=v}function st(u,n,s){var o=u[n];return o*s}function Ar(u,n,s,o){return n+Math.cos(u)*s+Math.sin(u)*o}class Cf extends ze{constructor(n,s,o){super(n,s,o),this.type="feColorMatrix";var f=_t(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var c=f[0];f=[.213+.787*c,.715-.715*c,.072-.072*c,0,0,.213-.213*c,.715+.285*c,.072-.072*c,0,0,.213-.213*c,.715-.715*c,.072+.928*c,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var v=f[0]*Math.PI/180;f=[Ar(v,.213,.787,-.213),Ar(v,.715,-.715,-.715),Ar(v,.072,-.072,.928),0,0,Ar(v,.213,-.213,.143),Ar(v,.715,.285,.14),Ar(v,.072,-.072,-.283),0,0,Ar(v,.213,-.213,-.787),Ar(v,.715,-.715,.715),Ar(v,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=f,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(n,s,o,f,c){for(var{includeOpacity:v,matrix:y}=this,b=n.getImageData(0,0,f,c),T=0;T<c;T++)for(var m=0;m<f;m++){var p=vs(b.data,m,T,f,c,0),w=vs(b.data,m,T,f,c,1),C=vs(b.data,m,T,f,c,2),I=vs(b.data,m,T,f,c,3),F=st(y,0,p)+st(y,1,w)+st(y,2,C)+st(y,3,I)+st(y,4,1),_=st(y,5,p)+st(y,6,w)+st(y,7,C)+st(y,8,I)+st(y,9,1),L=st(y,10,p)+st(y,11,w)+st(y,12,C)+st(y,13,I)+st(y,14,1),P=st(y,15,p)+st(y,16,w)+st(y,17,C)+st(y,18,I)+st(y,19,1);v&&(F=0,_=0,L=0,P*=I/255),gs(b.data,m,T,f,c,0,F),gs(b.data,m,T,f,c,1,_),gs(b.data,m,T,f,c,2,L),gs(b.data,m,T,f,c,3,P)}n.clearRect(0,0,f,c),n.putImageData(b,0,0)}}class pa extends ze{constructor(){super(...arguments),this.type="mask"}apply(n,s){var{document:o}=this,f=this.getAttribute("x").getPixels("x"),c=this.getAttribute("y").getPixels("y"),v=this.getStyle("width").getPixels("x"),y=this.getStyle("height").getPixels("y");if(!v&&!y){var b=new qt;this.children.forEach(I=>{b.addBoundingBox(I.getBoundingBox(n))}),f=Math.floor(b.x1),c=Math.floor(b.y1),v=Math.floor(b.width),y=Math.floor(b.height)}var T=this.removeStyles(s,pa.ignoreStyles),m=o.createCanvas(f+v,c+y),p=m.getContext("2d");o.screen.setDefaults(p),this.renderChildren(p),new Cf(o,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(p,0,0,f+v,c+y);var w=o.createCanvas(f+v,c+y),C=w.getContext("2d");o.screen.setDefaults(C),s.render(C),C.globalCompositeOperation="destination-in",C.fillStyle=p.createPattern(m,"no-repeat"),C.fillRect(0,0,f+v,c+y),n.fillStyle=C.createPattern(w,"no-repeat"),n.fillRect(0,0,f+v,c+y),this.restoreStyles(s,T)}render(n){}}pa.ignoreStyles=["mask","transform","clip-path"];var kv=()=>{};class Xp extends ze{constructor(){super(...arguments),this.type="clipPath"}apply(n){var{document:s}=this,o=Reflect.getPrototypeOf(n),{beginPath:f,closePath:c}=n;o&&(o.beginPath=kv,o.closePath=kv),Reflect.apply(f,n,[]),this.children.forEach(v=>{if(!(typeof v.path>"u")){var y=typeof v.elementTransform<"u"?v.elementTransform():null;y||(y=Zr.fromElement(s,v)),y&&y.apply(n),v.path(n),o&&(o.closePath=c),y&&y.unapply(n)}}),Reflect.apply(c,n,[]),n.clip(),o&&(o.beginPath=f,o.closePath=c)}render(n){}}class ya extends ze{constructor(){super(...arguments),this.type="filter"}apply(n,s){var{document:o,children:f}=this,c=s.getBoundingBox(n);if(c){var v=0,y=0;f.forEach(L=>{var P=L.extraFilterDistance||0;v=Math.max(v,P),y=Math.max(y,P)});var b=Math.floor(c.width),T=Math.floor(c.height),m=b+2*v,p=T+2*y;if(!(m<1||p<1)){var w=Math.floor(c.x),C=Math.floor(c.y),I=this.removeStyles(s,ya.ignoreStyles),F=o.createCanvas(m,p),_=F.getContext("2d");o.screen.setDefaults(_),_.translate(-w+v,-C+y),s.render(_),f.forEach(L=>{typeof L.apply=="function"&&L.apply(_,0,0,m,p)}),n.drawImage(F,0,0,m,p,w-v,C-y,m,p),this.restoreStyles(s,I)}}}render(n){}}ya.ignoreStyles=["filter","transform","clip-path"];class Zp extends ze{constructor(n,s,o){super(n,s,o),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(n,s,o,f,c){}}class Qp extends ze{constructor(){super(...arguments),this.type="feMorphology"}apply(n,s,o,f,c){}}class Jp extends ze{constructor(){super(...arguments),this.type="feComposite"}apply(n,s,o,f,c){}}class ey extends ze{constructor(n,s,o){super(n,s,o),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(n,s,o,f,c){var{document:v,blurRadius:y}=this,b=v.window?v.window.document.body:null,T=n.canvas;T.id=v.getUniqueId(),b&&(T.style.display="none",b.appendChild(T)),n0(T,s,o,f,c,y),b&&b.removeChild(T)}}class ty extends ze{constructor(){super(...arguments),this.type="title"}}class ry extends ze{constructor(){super(...arguments),this.type="desc"}}var gA={svg:dn,rect:bf,circle:Ep,ellipse:Ap,line:Mp,polyline:xf,polygon:Lp,path:Re,pattern:Ip,marker:Np,defs:$p,linearGradient:Rp,radialGradient:Dp,stop:Fp,animate:Xs,animateColor:_p,animateTransform:Bp,font:zp,"font-face":Wp,"missing-glyph":Hp,glyph:mf,text:Ir,tspan:ga,tref:jp,a:Up,textPath:Vp,image:Gp,g:Ys,symbol:Kp,style:Sf,use:Yp,mask:pa,clipPath:Xp,filter:ya,feDropShadow:Zp,feMorphology:Qp,feComposite:Jp,feColorMatrix:Cf,feGaussianBlur:ey,title:ty,desc:ry};function Tv(u,n){var s=Object.keys(u);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(u);n&&(o=o.filter(function(f){return Object.getOwnPropertyDescriptor(u,f).enumerable})),s.push.apply(s,o)}return s}function pA(u){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Tv(Object(s),!0).forEach(function(o){Lu(u,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(s)):Tv(Object(s)).forEach(function(o){Object.defineProperty(u,o,Object.getOwnPropertyDescriptor(s,o))})}return u}function yA(u,n){var s=document.createElement("canvas");return s.width=u,s.height=n,s}function mA(u){return Au.apply(this,arguments)}function Au(){return Au=Lr(function*(u){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=document.createElement("img");return n&&(s.crossOrigin="Anonymous"),new Promise((o,f)=>{s.onload=()=>{o(s)},s.onerror=(c,v,y,b,T)=>{f(T)},s.src=u})}),Au.apply(this,arguments)}class Mr{constructor(n){var{rootEmSize:s=12,emSize:o=12,createCanvas:f=Mr.createCanvas,createImage:c=Mr.createImage,anonymousCrossOrigin:v}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=n,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=n.screen,this.rootEmSize=s,this.emSize=o,this.createCanvas=f,this.createImage=this.bindCreateImage(c,v),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(n,s){return typeof s=="boolean"?(o,f)=>n(o,typeof f=="boolean"?f:s):n}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:n}=this;return n[n.length-1]}set emSize(n){var{emSizeStack:s}=this;s.push(n)}popEmSize(){var{emSizeStack:n}=this;n.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(n=>n.loaded)}isFontsLoaded(){return this.fonts.every(n=>n.loaded)}createDocumentElement(n){var s=this.createElement(n.documentElement);return s.root=!0,s.addStylesFromStyleDefinition(),this.documentElement=s,s}createElement(n){var s=n.nodeName.replace(/^[^:]+:/,""),o=Mr.elementTypes[s];return typeof o<"u"?new o(this,n):new Pp(this,n)}createTextNode(n){return new dA(this,n)}setViewBox(n){this.screen.setViewBox(pA({document:this},n))}}Mr.createCanvas=yA;Mr.createImage=mA;Mr.elementTypes=gA;function Ov(u,n){var s=Object.keys(u);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(u);n&&(o=o.filter(function(f){return Object.getOwnPropertyDescriptor(u,f).enumerable})),s.push.apply(s,o)}return s}function vi(u){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Ov(Object(s),!0).forEach(function(o){Lu(u,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(s)):Ov(Object(s)).forEach(function(o){Object.defineProperty(u,o,Object.getOwnPropertyDescriptor(s,o))})}return u}class yi{constructor(n,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new ws(o),this.screen=new va(n,o),this.options=o;var f=new Mr(this,o),c=f.createDocumentElement(s);this.document=f,this.documentElement=c}static from(n,s){var o=arguments;return Lr(function*(){var f=o.length>2&&o[2]!==void 0?o[2]:{},c=new ws(f),v=yield c.parse(s);return new yi(n,v,f)})()}static fromString(n,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=new ws(o),c=f.parseFromString(s);return new yi(n,c,o)}fork(n,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return yi.from(n,s,vi(vi({},this.options),o))}forkString(n,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return yi.fromString(n,s,vi(vi({},this.options),o))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var n=arguments,s=this;return Lr(function*(){var o=n.length>0&&n[0]!==void 0?n[0]:{};s.start(vi({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},o)),yield s.ready(),s.stop()})()}start(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:s,screen:o,options:f}=this;o.start(s,vi(vi({enableRedraw:!0},f),n))}stop(){this.screen.stop()}resize(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(n,s,o)}}const AA=Object.freeze(Object.defineProperty({__proto__:null,AElement:Up,AnimateColorElement:_p,AnimateElement:Xs,AnimateTransformElement:Bp,BoundingBox:qt,CB1:Su,CB2:Cu,CB3:ku,CB4:Tu,Canvg:yi,CircleElement:Ep,ClipPathElement:Xp,DefsElement:$p,DescElement:ry,Document:Mr,Element:ze,EllipseElement:Ap,FeColorMatrixElement:Cf,FeCompositeElement:Jp,FeDropShadowElement:Zp,FeGaussianBlurElement:ey,FeMorphologyElement:Qp,FilterElement:ya,Font:Tt,FontElement:zp,FontFaceElement:Wp,GElement:Ys,GlyphElement:mf,GradientElement:wf,ImageElement:Gp,LineElement:Mp,LinearGradientElement:Rp,MarkerElement:Np,MaskElement:pa,Matrix:pf,MissingGlyphElement:Hp,Mouse:bp,PSEUDO_ZERO:mi,Parser:ws,PathElement:Re,PathParser:xe,PatternElement:Ip,Point:Xe,PolygonElement:Lp,PolylineElement:xf,Property:de,QB1:Ou,QB2:Pu,QB3:Eu,RadialGradientElement:Dp,RectElement:bf,RenderedElement:Qr,Rotate:Cp,SVGElement:dn,SVGFontLoader:qp,Scale:kp,Screen:va,Skew:yf,SkewX:Tp,SkewY:Op,StopElement:Fp,StyleElement:Sf,SymbolElement:Kp,TRefElement:jp,TSpanElement:ga,TextElement:Ir,TextPathElement:Vp,TitleElement:ty,Transform:Zr,Translate:Sp,UnknownElement:Pp,UseElement:Yp,ViewPort:mp,compressSpaces:Ti,default:yi,getSelectorSpecificity:yp,normalizeAttributeName:gp,normalizeColor:pp,parseExternalUrl:gf,presets:XE,toNumbers:_t,trimLeft:dp,trimRight:vp,vectorMagnitude:xu,vectorsAngle:wu,vectorsRatio:Ms},Symbol.toStringTag,{value:"Module"}));export{OA as C,EA as a,Pc as b,TA as c,kA as d,Ul as e,AA as i,a0 as l,ln as r,PA as s};
