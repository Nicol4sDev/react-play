import{a,j as e,F as _,P as E}from"./index-2d91d905.js";import{r as o}from"./vendor_react-48e4efc0.js";/* empty css               */import{c as R,o as Y}from"./fun-quiz-6d49a395.js";function M(h){const[l,r]=o.useState(!1),s=()=>{r(!l)};return a("div",{className:"card-container",children:[e("div",{className:`item front ${l?"rotate-180":""}`,onClick:s}),e("div",{className:`item back ${l?"rotate-360":""}`,onClick:s,children:h.item})]})}function D(h){return e(_,{children:a("div",{className:"play-details",children:[e(E,{play:h}),e("div",{className:"play-details-body",children:a("div",{className:"flip-card",children:[e("h1",{className:"heading",children:"Flip Card Effect"}),e("h3",{className:"sub-heading",children:"Click any card to flip"}),e("div",{className:"container",children:["Spread love everywhere you go.","if you love someone give them infinite space.","The happiest people are the givers not the takers.","The journey of a thousand miles begins with one step."].map((r,s)=>e(M,{item:r},s))}),a("p",{className:"sub-heading",children:["Inspired by"," ",e("strong",{children:e("a",{className:"external-link",href:"https://aaronccwong.github.io/react-card-flip/",rel:"noopener noreferrer",target:"_blank",children:"react-card-flip"})}),"library"]})]})})]})})}const k={answer:"",cheat:!1,cheated:!1};function O({category:h,getQuizSummary:l}){var A,T;const[r,s]=o.useState({loading:!1,data:[],error:!1}),[t,u]=o.useState({...k}),[f,w]=o.useState([]),[d,n]=o.useState(0),[m,p]=o.useState(30),g=h==="all"?"":`&category=${h}`,c=(A=r==null?void 0:r.data)==null?void 0:A[d],v=o.useRef(r);o.useEffect(()=>{(async()=>{try{s({...v.current,loading:!0});const i=await fetch(`https://opentdb.com/api.php?amount=20${g}&type=multiple`),{results:y}=await i.json();if(!y.length)throw new Error;const S=y.map(C=>{const{incorrect_answers:$,correct_answer:H}=C,N=[...$];return N==null||N.splice(Math.floor(Math.random()*(N.length+1)),0,H),{...C,options:N}});return s({data:S,loading:!1,error:!1})}catch{s({...v.current,loading:!1,error:!0})}})()},[g,v]);const z=i=>()=>{u(t.answer&&t.answer===i?k:{...t,answer:i})},b=o.useCallback((i=!1)=>{const y=()=>{const S=i?"":t.answer;w(C=>[...C,{question:c.question,correct:c.correct_answer===S,your_answer:S,correct_answer:c.correct_answer,cheated:t.cheated}])};if(d===19)return y(),l([...f,{question:c.question,correct:c.correct_answer===t.answer,your_answer:t.answer,correct_answer:c.correct_answer,cheated:t.cheated}]);y(),u(k),p(30),n(d+1)},[t,d,c,f,l]);o.useEffect(()=>{if(m!==-1&&r.data.length){const i=setInterval(()=>{p(m-1)},1e3);return()=>clearInterval(i)}else r.data.length&&(u(""),b(!0))},[m,b,r.data]);const I=()=>{u({cheat:!0,cheated:!0,answer:c.correct_answer});const i=setTimeout(()=>{u({...k,cheated:!0}),clearTimeout(i)},500)},L=i=>t.cheat&&t.answer===i?"option-button blinking-options":t.answer===i&&!t.cheat?"option-button active-option":"option-button";return r!=null&&r.error?e("div",{children:"We Apologize! Something Error Occured!"}):a("div",{className:"fun-quiz-screen",children:[r.loading&&e("div",{className:"loading-overlay",children:e("img",{alt:"loading",src:R})}),!r.loading&&a("div",{className:"section",children:[e("div",{className:`timer ${m<=5&&"caution"}`,children:m}),a("div",{className:"question-info",children:["Question: ",d+1]}),e("div",{className:"question",children:e("h1",{dangerouslySetInnerHTML:{__html:c==null?void 0:c.question}})}),e("div",{className:"options",children:(T=c==null?void 0:c.options)==null?void 0:T.map((i,y)=>e("div",{className:"single-opt",children:e("div",{className:L(i),dangerouslySetInnerHTML:{__html:i},onClick:z(i)})},y))}),a("div",{className:"footer",children:[e("button",{className:"link",onClick:()=>b(!0),children:"Skip"}),t.answer&&!t.cheat&&e("button",{className:"confirm-button",onClick:()=>b(),children:d===19?"Submit":"Confirm"}),!t.answer&&e("button",{className:"cheat-button",onClick:I,children:"I want to Cheat"})]})]})]})}const q="CATEGORY_SELECTION",F="RULES_DISPLAY",j=({getSelectedCategory:h})=>{const[l,r]=o.useState(""),[s,t]=o.useState(q),u=()=>{l&&t(F)},f=()=>a(_,{children:[e("p",{children:"1. There will be 20 Unique Questions."}),e("p",{children:"2. Every Question will have 4 multiple choices to chooose."}),e("p",{children:"3. Among 4 options only one option will be correct answer of the Question."}),e("p",{children:"4. Answer selection isn't mandatory. You can skip choosing any answer and it will be counted as incorrect answer."}),e("p",{children:"5. After answer confirmation you cannot go back to previous question or donot refresh the page otherwise you will lose you progress."}),e("p",{children:"6. You will be given 30 seconds to answer each question and timeup is considered as an incorrect answer and next question will be displayed."}),e("p",{children:"7. After selecting an option you can click on selected option to unselect it."}),e("p",{children:"8. You can use cheats to cheat the answer."}),e("div",{className:"front-footer",children:e("button",{onClick:()=>h(l),children:"Yes, Lets Start!"})}),e("div",{children:e("button",{className:"back",onClick:()=>t(q),children:"Â« Back"})})]}),w=()=>a(_,{children:[e("p",{children:"The Quiz app requires to have a specefic category in order to start with. Select one of the below options in which you have expertise in."}),e("div",{className:"selectable-options",children:Y.map(n=>e("div",{className:`single-selection ${l===n.id&&"active-selected"}`,onClick:()=>r(n.id),children:n.name},n.id))}),e("div",{className:"front-footer",children:e("button",{onClick:u,children:"Let me in"})})]}),d=s===q;return e("div",{className:"fun-quiz-main",children:a("div",{className:"main-child",children:[e("h1",{children:d?"Quiz App":"Quiz Rules"}),d&&e(w,{}),!d&&e(f,{})]})})},x=({quizSummary:h,redirectHome:l})=>{const{correctAnswers:r,cheatedAnswers:s,wrongAnswers:t,result:u}=h,[f,w]=o.useState({}),d=({currentQuestion:n})=>Object.keys(n).length?a("div",{className:`display-question ${n.correct?"correct":"incorrect"}`,children:[a("div",{className:"question-number",children:["Question: ",n==null?void 0:n.qNo]}),e("li",{dangerouslySetInnerHTML:{__html:`${n==null?void 0:n.question}`}}),e("span",{dangerouslySetInnerHTML:{__html:`<br/><b>Ans</b>: ${n==null?void 0:n.correct_answer}<br/>`}}),e("span",{dangerouslySetInnerHTML:{__html:`<b>Your Answer</b>: ${n==null?void 0:n.your_answer}`}})]}):!1;return e(o.Fragment,{children:e("div",{className:"fun-quiz-main",children:a("div",{className:"main-child",children:[e("h1",{children:"Quiz Summary"}),s?e("h2",{className:"cheated",children:"You Cheated!"}):e("h2",{className:"congrats",children:"Congratulations!"}),a("div",{className:"quiz-summary",children:[a("div",{children:[a("h4",{children:[e("span",{children:r}),e("span",{children:"Correct Answers"})]}),!!s&&a("h4",{className:"cheated",children:["(",s," cheated)"]})]}),a("div",{children:[e("span",{children:t}),e("span",{children:"Wrong Answers"})]})]}),e("div",{className:"front-footer",children:e("button",{onClick:l,children:"Home"})}),e("div",{className:"circle-area",children:u.map((n,m)=>e("div",{className:n.correct?"circle-correct":"circle-incorrect",onClick:()=>w({...n,qNo:m+1}),children:m+1},`${n.question+m}`))}),e(d,{currentQuestion:f})]})})})};function G(h){const[l,r]=o.useState(""),[s,t]=o.useState(!1),[u,f]=o.useState({}),[w]=o.useState(!1),d=(p=[],g)=>p.reduce((c,v)=>c+=v[g]?1:0,0),n=(p=[])=>{if(p.length===20){t(!0);const g=d(p,"correct"),c=d(p,"cheated"),v=20-g;return f({correctAnswers:g,cheatedAnswers:c,wrongAnswers:v,result:p})}},m=()=>{t(!1),r("")};return w?e("h1",{children:"This Page is under Maintenance"}):e(_,{children:a("div",{className:"play-details",children:[e(E,{play:h}),a("div",{className:"play-details-body fun-quiz",children:[!l&&!s&&e(j,{getSelectedCategory:r}),l&&!s&&e(O,{category:l,getQuizSummary:n}),s&&e(x,{quizSummary:u,redirectHome:m})]})]})})}export{D as F,G as a};
