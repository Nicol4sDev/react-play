import{j as e,a as d,F as E,P as f}from"./index-2d91d905.js";/* empty css               */import{r as g}from"./vendor_react-48e4efc0.js";function o({dispatch:r,digit:i}){return e("button",{onClick:()=>r({type:c.ADD_DIGIT,payload:{digit:i}}),children:i})}function a({dispatch:r,operation:i}){return e("button",{onClick:()=>r({type:c.CHOOSE_OPERATION,payload:{operation:i}}),children:i})}function m({currentOperand:r,previousOperand:i,operation:u,dispatch:n,formatOperand:l}){return e("div",{className:"calculator_grid_container",children:d("div",{className:"calculator_grid",children:[d("div",{className:"output",children:[d("div",{className:"previous_operand",children:[l(i)," ",u]}),e("div",{className:"current_operand",children:l(r)})]}),e("button",{className:"span_two ac",onClick:()=>n({type:c.CLEAR}),children:"AC"}),e("button",{onClick:()=>n({type:c.DELETE_DIGIT}),children:"DEL"}),e(a,{dispatch:n,operation:"รท"}),e(o,{digit:"1",dispatch:n}),e(o,{digit:"2",dispatch:n}),e(o,{digit:"3",dispatch:n}),e(a,{dispatch:n,operation:"*"}),e(o,{digit:"4",dispatch:n}),e(o,{digit:"5",dispatch:n}),e(o,{digit:"6",dispatch:n}),e(a,{dispatch:n,operation:"+"}),e(o,{digit:"7",dispatch:n}),e(o,{digit:"8",dispatch:n}),e(o,{digit:"9",dispatch:n}),e(a,{dispatch:n,operation:"-"}),e(o,{digit:".",dispatch:n}),e(o,{digit:"0",dispatch:n}),e("button",{className:"span_two",onClick:()=>n({type:c.EVALUATE}),children:"="})]})})}const c={ADD_DIGIT:"add-digit",CHOOSE_OPERATION:"choose-operation",CLEAR:"clear",DELETE_DIGIT:"delete-digit",EVALUATE:"evaluate"};function s(r,{type:i,payload:u}){switch(i){case c.ADD_DIGIT:return r.overwrite?{...r,currentOperand:u.digit,overwrite:!1}:u.digit==="0"&&r.currentOperand==="0"||u.digit==="."&&r.currentOperand.includes(".")?r:{...r,currentOperand:`${r.currentOperand||""}${u.digit}`};case c.CHOOSE_OPERATION:return r.currentOperand==null&&r.previousOperand==null?r:r.currentOperand==null?{...r,operation:u.operation}:r.previousOperand==null?{...r,operation:u.operation,previousOperand:r.currentOperand,currentOperand:null}:{...r,previousOperand:p(r),operation:u.operation,currentOperand:null};case c.CLEAR:return{};case c.DELETE_DIGIT:return r.overwrite?{...r,overwrite:!1,currentOperand:null}:r.currentOperand==null?r:r.currentOperand.length===1?{...r,currentOperand:null}:{...r,currentOperand:r.currentOperand.slice(0,-1)};case c.EVALUATE:return r.operation==null||r.currentOperand==null||r.previousOperand==null?r:{...r,overwrite:!0,previousOperand:null,operation:null,currentOperand:p(r)}}}function p({currentOperand:r,previousOperand:i,operation:u}){const n=parseFloat(i),l=parseFloat(r);if(isNaN(n)||isNaN(l))return"";let t="";switch(u){case"+":t=n+l;break;case"-":t=n-l;break;case"*":t=n*l;break;case"รท":t=n/l;break}return t.toString()}const O=new Intl.NumberFormat("en-us",{maximumFractionDigits:0});function v(r){if(r==null)return;const[i,u]=r.split(".");return u==null?O.format(i):`${O.format(i)}.${u}`}function D(r){const[{currentOperand:i,previousOperand:u,operation:n},l]=g.useReducer(s,{});return e(E,{children:d("div",{className:"play-details",children:[e(f,{play:r}),e("div",{className:"play-details-body",children:e(m,{currentOperand:i,dispatch:l,formatOperand:v,operation:n,previousOperand:u})})]})})}export{D as B};
