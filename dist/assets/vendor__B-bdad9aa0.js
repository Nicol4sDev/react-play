import{r as require$$0,c as commonjsGlobal}from"./index-2d91d905.js";function createBroadcast(i){var f={},u=1,n=i;function r(){return n}function t(d){n=d;for(var c=Object.keys(f),A=0,y=c.length;A<y;A++)f[c[A]]&&f[c[A]](d)}function l(d){if(typeof d!="function")throw new Error("listener must be a function.");var c=u;return f[c]=d,u+=1,c}function s(d){delete f[d]}return{getState:r,setState:t,subscribe:l,unsubscribe:s}}var bnExports={},bn={get exports(){return bnExports},set exports(i){bnExports=i}};(function(i){(function(f,u){function n(U,e){if(!U)throw new Error(e||"Assertion failed")}function r(U,e){U.super_=e;var h=function(){};h.prototype=e.prototype,U.prototype=new h,U.prototype.constructor=U}function t(U,e,h){if(t.isBN(U))return U;this.negative=0,this.words=null,this.length=0,this.red=null,U!==null&&((e==="le"||e==="be")&&(h=e,e=10),this._init(U||0,e||10,h||"be"))}typeof f=="object"?f.exports=t:u.BN=t,t.BN=t,t.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=require$$0.Buffer}catch{}t.isBN=function(e){return e instanceof t?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===t.wordSize&&Array.isArray(e.words)},t.max=function(e,h){return e.cmp(h)>0?e:h},t.min=function(e,h){return e.cmp(h)<0?e:h},t.prototype._init=function(e,h,v){if(typeof e=="number")return this._initNumber(e,h,v);if(typeof e=="object")return this._initArray(e,h,v);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),e=e.toString().replace(/\s+/g,"");var g=0;e[0]==="-"&&(g++,this.negative=1),g<e.length&&(h===16?this._parseHex(e,g,v):(this._parseBase(e,h,g),v==="le"&&this._initArray(this.toArray(),h,v)))},t.prototype._initNumber=function(e,h,v){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),h,v)},t.prototype._initArray=function(e,h,v){if(n(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var M,P,F=0;if(v==="be")for(g=e.length-1,M=0;g>=0;g-=3)P=e[g]|e[g-1]<<8|e[g-2]<<16,this.words[M]|=P<<F&67108863,this.words[M+1]=P>>>26-F&67108863,F+=24,F>=26&&(F-=26,M++);else if(v==="le")for(g=0,M=0;g<e.length;g+=3)P=e[g]|e[g+1]<<8|e[g+2]<<16,this.words[M]|=P<<F&67108863,this.words[M+1]=P>>>26-F&67108863,F+=24,F>=26&&(F-=26,M++);return this._strip()};function s(U,e){var h=U.charCodeAt(e);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+U)}function d(U,e,h){var v=s(U,h);return h-1>=e&&(v|=s(U,h-1)<<4),v}t.prototype._parseHex=function(e,h,v){this.length=Math.ceil((e.length-h)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var M=0,P=0,F;if(v==="be")for(g=e.length-1;g>=h;g-=2)F=d(e,h,g)<<M,this.words[P]|=F&67108863,M>=18?(M-=18,P+=1,this.words[P]|=F>>>26):M+=8;else{var w=e.length-h;for(g=w%2===0?h+1:h;g<e.length;g+=2)F=d(e,h,g)<<M,this.words[P]|=F&67108863,M>=18?(M-=18,P+=1,this.words[P]|=F>>>26):M+=8}this._strip()};function c(U,e,h,v){for(var g=0,M=0,P=Math.min(U.length,h),F=e;F<P;F++){var w=U.charCodeAt(F)-48;g*=v,w>=49?M=w-49+10:w>=17?M=w-17+10:M=w,n(w>=0&&M<v,"Invalid character"),g+=M}return g}t.prototype._parseBase=function(e,h,v){this.words=[0],this.length=1;for(var g=0,M=1;M<=67108863;M*=h)g++;g--,M=M/h|0;for(var P=e.length-v,F=P%g,w=Math.min(P,P-F)+v,a=0,_=v;_<w;_+=g)a=c(e,_,_+g,h),this.imuln(M),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(F!==0){var Q=1;for(a=c(e,_,e.length,h),_=0;_<F;_++)Q*=h;this.imuln(Q),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},t.prototype.copy=function(e){e.words=new Array(this.length);for(var h=0;h<this.length;h++)e.words[h]=this.words[h];e.length=this.length,e.negative=this.negative,e.red=this.red};function A(U,e){U.words=e.words,U.length=e.length,U.negative=e.negative,U.red=e.red}if(t.prototype._move=function(e){A(e,this)},t.prototype.clone=function(){var e=new t(null);return this.copy(e),e},t.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},t.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},t.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{t.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{t.prototype.inspect=y}else t.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];t.prototype.toString=function(e,h){e=e||10,h=h|0||1;var v;if(e===16||e==="hex"){v="";for(var g=0,M=0,P=0;P<this.length;P++){var F=this.words[P],w=((F<<g|M)&16777215).toString(16);M=F>>>24-g&16777215,g+=2,g>=26&&(g-=26,P--),M!==0||P!==this.length-1?v=m[6-w.length]+w+v:v=w+v}for(M!==0&&(v=M.toString(16)+v);v.length%h!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(e===(e|0)&&e>=2&&e<=36){var a=p[e],_=b[e];v="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var V=Q.modrn(_).toString(e);Q=Q.idivn(_),Q.isZero()?v=V+v:v=m[a-V.length]+V+v}for(this.isZero()&&(v="0"+v);v.length%h!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}n(!1,"Base should be between 2 and 36")},t.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},t.prototype.toJSON=function(){return this.toString(16,2)},l&&(t.prototype.toBuffer=function(e,h){return this.toArrayLike(l,e,h)}),t.prototype.toArray=function(e,h){return this.toArrayLike(Array,e,h)};var E=function(e,h){return e.allocUnsafe?e.allocUnsafe(h):new e(h)};t.prototype.toArrayLike=function(e,h,v){this._strip();var g=this.byteLength(),M=v||Math.max(1,g);n(g<=M,"byte array longer than desired length"),n(M>0,"Requested array length <= 0");var P=E(e,M),F=h==="le"?"LE":"BE";return this["_toArrayLike"+F](P,g),P},t.prototype._toArrayLikeLE=function(e,h){for(var v=0,g=0,M=0,P=0;M<this.length;M++){var F=this.words[M]<<P|g;e[v++]=F&255,v<e.length&&(e[v++]=F>>8&255),v<e.length&&(e[v++]=F>>16&255),P===6?(v<e.length&&(e[v++]=F>>24&255),g=0,P=0):(g=F>>>24,P+=2)}if(v<e.length)for(e[v++]=g;v<e.length;)e[v++]=0},t.prototype._toArrayLikeBE=function(e,h){for(var v=e.length-1,g=0,M=0,P=0;M<this.length;M++){var F=this.words[M]<<P|g;e[v--]=F&255,v>=0&&(e[v--]=F>>8&255),v>=0&&(e[v--]=F>>16&255),P===6?(v>=0&&(e[v--]=F>>24&255),g=0,P=0):(g=F>>>24,P+=2)}if(v>=0)for(e[v--]=g;v>=0;)e[v--]=0},Math.clz32?t.prototype._countBits=function(e){return 32-Math.clz32(e)}:t.prototype._countBits=function(e){var h=e,v=0;return h>=4096&&(v+=13,h>>>=13),h>=64&&(v+=7,h>>>=7),h>=8&&(v+=4,h>>>=4),h>=2&&(v+=2,h>>>=2),v+h},t.prototype._zeroBits=function(e){if(e===0)return 26;var h=e,v=0;return h&8191||(v+=13,h>>>=13),h&127||(v+=7,h>>>=7),h&15||(v+=4,h>>>=4),h&3||(v+=2,h>>>=2),h&1||v++,v},t.prototype.bitLength=function(){var e=this.words[this.length-1],h=this._countBits(e);return(this.length-1)*26+h};function I(U){for(var e=new Array(U.bitLength()),h=0;h<e.length;h++){var v=h/26|0,g=h%26;e[h]=U.words[v]>>>g&1}return e}t.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,h=0;h<this.length;h++){var v=this._zeroBits(this.words[h]);if(e+=v,v!==26)break}return e},t.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},t.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},t.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},t.prototype.isNeg=function(){return this.negative!==0},t.prototype.neg=function(){return this.clone().ineg()},t.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},t.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var h=0;h<e.length;h++)this.words[h]=this.words[h]|e.words[h];return this._strip()},t.prototype.ior=function(e){return n((this.negative|e.negative)===0),this.iuor(e)},t.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},t.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},t.prototype.iuand=function(e){var h;this.length>e.length?h=e:h=this;for(var v=0;v<h.length;v++)this.words[v]=this.words[v]&e.words[v];return this.length=h.length,this._strip()},t.prototype.iand=function(e){return n((this.negative|e.negative)===0),this.iuand(e)},t.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},t.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},t.prototype.iuxor=function(e){var h,v;this.length>e.length?(h=this,v=e):(h=e,v=this);for(var g=0;g<v.length;g++)this.words[g]=h.words[g]^v.words[g];if(this!==h)for(;g<h.length;g++)this.words[g]=h.words[g];return this.length=h.length,this._strip()},t.prototype.ixor=function(e){return n((this.negative|e.negative)===0),this.iuxor(e)},t.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},t.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},t.prototype.inotn=function(e){n(typeof e=="number"&&e>=0);var h=Math.ceil(e/26)|0,v=e%26;this._expand(h),v>0&&h--;for(var g=0;g<h;g++)this.words[g]=~this.words[g]&67108863;return v>0&&(this.words[g]=~this.words[g]&67108863>>26-v),this._strip()},t.prototype.notn=function(e){return this.clone().inotn(e)},t.prototype.setn=function(e,h){n(typeof e=="number"&&e>=0);var v=e/26|0,g=e%26;return this._expand(v+1),h?this.words[v]=this.words[v]|1<<g:this.words[v]=this.words[v]&~(1<<g),this._strip()},t.prototype.iadd=function(e){var h;if(this.negative!==0&&e.negative===0)return this.negative=0,h=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,h=this.isub(e),e.negative=1,h._normSign();var v,g;this.length>e.length?(v=this,g=e):(v=e,g=this);for(var M=0,P=0;P<g.length;P++)h=(v.words[P]|0)+(g.words[P]|0)+M,this.words[P]=h&67108863,M=h>>>26;for(;M!==0&&P<v.length;P++)h=(v.words[P]|0)+M,this.words[P]=h&67108863,M=h>>>26;if(this.length=v.length,M!==0)this.words[this.length]=M,this.length++;else if(v!==this)for(;P<v.length;P++)this.words[P]=v.words[P];return this},t.prototype.add=function(e){var h;return e.negative!==0&&this.negative===0?(e.negative=0,h=this.sub(e),e.negative^=1,h):e.negative===0&&this.negative!==0?(this.negative=0,h=e.sub(this),this.negative=1,h):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},t.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var h=this.iadd(e);return e.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var v=this.cmp(e);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,M;v>0?(g=this,M=e):(g=e,M=this);for(var P=0,F=0;F<M.length;F++)h=(g.words[F]|0)-(M.words[F]|0)+P,P=h>>26,this.words[F]=h&67108863;for(;P!==0&&F<g.length;F++)h=(g.words[F]|0)+P,P=h>>26,this.words[F]=h&67108863;if(P===0&&F<g.length&&g!==this)for(;F<g.length;F++)this.words[F]=g.words[F];return this.length=Math.max(this.length,F),g!==this&&(this.negative=1),this._strip()},t.prototype.sub=function(e){return this.clone().isub(e)};function L(U,e,h){h.negative=e.negative^U.negative;var v=U.length+e.length|0;h.length=v,v=v-1|0;var g=U.words[0]|0,M=e.words[0]|0,P=g*M,F=P&67108863,w=P/67108864|0;h.words[0]=F;for(var a=1;a<v;a++){for(var _=w>>>26,Q=w&67108863,V=Math.min(a,e.length-1),j=Math.max(0,a-U.length+1);j<=V;j++){var K=a-j|0;g=U.words[K]|0,M=e.words[j]|0,P=g*M+Q,_+=P/67108864|0,Q=P&67108863}h.words[a]=Q|0,w=_|0}return w!==0?h.words[a]=w|0:h.length--,h._strip()}var k=function(e,h,v){var g=e.words,M=h.words,P=v.words,F=0,w,a,_,Q=g[0]|0,V=Q&8191,j=Q>>>13,K=g[1]|0,J=K&8191,$=K>>>13,Bt=g[2]|0,X=Bt&8191,Y=Bt>>>13,te=g[3]|0,tt=te&8191,et=te>>>13,ee=g[4]|0,rt=ee&8191,nt=ee>>>13,re=g[5]|0,it=re&8191,ot=re>>>13,ne=g[6]|0,at=ne&8191,ft=ne>>>13,ie=g[7]|0,st=ie&8191,ht=ie>>>13,oe=g[8]|0,lt=oe&8191,ut=oe>>>13,ae=g[9]|0,ct=ae&8191,dt=ae>>>13,fe=M[0]|0,vt=fe&8191,mt=fe>>>13,se=M[1]|0,pt=se&8191,gt=se>>>13,he=M[2]|0,wt=he&8191,Mt=he>>>13,le=M[3]|0,yt=le&8191,Ut=le>>>13,ue=M[4]|0,_t=ue&8191,Nt=ue>>>13,ce=M[5]|0,At=ce&8191,bt=ce>>>13,de=M[6]|0,Pt=de&8191,xt=de>>>13,ve=M[7]|0,It=ve&8191,Ft=ve>>>13,me=M[8]|0,Et=me&8191,Ct=me>>>13,pe=M[9]|0,Rt=pe&8191,St=pe>>>13;v.negative=e.negative^h.negative,v.length=19,w=Math.imul(V,vt),a=Math.imul(V,mt),a=a+Math.imul(j,vt)|0,_=Math.imul(j,mt);var Ht=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,w=Math.imul(J,vt),a=Math.imul(J,mt),a=a+Math.imul($,vt)|0,_=Math.imul($,mt),w=w+Math.imul(V,pt)|0,a=a+Math.imul(V,gt)|0,a=a+Math.imul(j,pt)|0,_=_+Math.imul(j,gt)|0;var Gt=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,w=Math.imul(X,vt),a=Math.imul(X,mt),a=a+Math.imul(Y,vt)|0,_=Math.imul(Y,mt),w=w+Math.imul(J,pt)|0,a=a+Math.imul(J,gt)|0,a=a+Math.imul($,pt)|0,_=_+Math.imul($,gt)|0,w=w+Math.imul(V,wt)|0,a=a+Math.imul(V,Mt)|0,a=a+Math.imul(j,wt)|0,_=_+Math.imul(j,Mt)|0;var Ot=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,w=Math.imul(tt,vt),a=Math.imul(tt,mt),a=a+Math.imul(et,vt)|0,_=Math.imul(et,mt),w=w+Math.imul(X,pt)|0,a=a+Math.imul(X,gt)|0,a=a+Math.imul(Y,pt)|0,_=_+Math.imul(Y,gt)|0,w=w+Math.imul(J,wt)|0,a=a+Math.imul(J,Mt)|0,a=a+Math.imul($,wt)|0,_=_+Math.imul($,Mt)|0,w=w+Math.imul(V,yt)|0,a=a+Math.imul(V,Ut)|0,a=a+Math.imul(j,yt)|0,_=_+Math.imul(j,Ut)|0;var Zt=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,w=Math.imul(rt,vt),a=Math.imul(rt,mt),a=a+Math.imul(nt,vt)|0,_=Math.imul(nt,mt),w=w+Math.imul(tt,pt)|0,a=a+Math.imul(tt,gt)|0,a=a+Math.imul(et,pt)|0,_=_+Math.imul(et,gt)|0,w=w+Math.imul(X,wt)|0,a=a+Math.imul(X,Mt)|0,a=a+Math.imul(Y,wt)|0,_=_+Math.imul(Y,Mt)|0,w=w+Math.imul(J,yt)|0,a=a+Math.imul(J,Ut)|0,a=a+Math.imul($,yt)|0,_=_+Math.imul($,Ut)|0,w=w+Math.imul(V,_t)|0,a=a+Math.imul(V,Nt)|0,a=a+Math.imul(j,_t)|0,_=_+Math.imul(j,Nt)|0;var Wt=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,w=Math.imul(it,vt),a=Math.imul(it,mt),a=a+Math.imul(ot,vt)|0,_=Math.imul(ot,mt),w=w+Math.imul(rt,pt)|0,a=a+Math.imul(rt,gt)|0,a=a+Math.imul(nt,pt)|0,_=_+Math.imul(nt,gt)|0,w=w+Math.imul(tt,wt)|0,a=a+Math.imul(tt,Mt)|0,a=a+Math.imul(et,wt)|0,_=_+Math.imul(et,Mt)|0,w=w+Math.imul(X,yt)|0,a=a+Math.imul(X,Ut)|0,a=a+Math.imul(Y,yt)|0,_=_+Math.imul(Y,Ut)|0,w=w+Math.imul(J,_t)|0,a=a+Math.imul(J,Nt)|0,a=a+Math.imul($,_t)|0,_=_+Math.imul($,Nt)|0,w=w+Math.imul(V,At)|0,a=a+Math.imul(V,bt)|0,a=a+Math.imul(j,At)|0,_=_+Math.imul(j,bt)|0;var kt=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(kt>>>26)|0,kt&=67108863,w=Math.imul(at,vt),a=Math.imul(at,mt),a=a+Math.imul(ft,vt)|0,_=Math.imul(ft,mt),w=w+Math.imul(it,pt)|0,a=a+Math.imul(it,gt)|0,a=a+Math.imul(ot,pt)|0,_=_+Math.imul(ot,gt)|0,w=w+Math.imul(rt,wt)|0,a=a+Math.imul(rt,Mt)|0,a=a+Math.imul(nt,wt)|0,_=_+Math.imul(nt,Mt)|0,w=w+Math.imul(tt,yt)|0,a=a+Math.imul(tt,Ut)|0,a=a+Math.imul(et,yt)|0,_=_+Math.imul(et,Ut)|0,w=w+Math.imul(X,_t)|0,a=a+Math.imul(X,Nt)|0,a=a+Math.imul(Y,_t)|0,_=_+Math.imul(Y,Nt)|0,w=w+Math.imul(J,At)|0,a=a+Math.imul(J,bt)|0,a=a+Math.imul($,At)|0,_=_+Math.imul($,bt)|0,w=w+Math.imul(V,Pt)|0,a=a+Math.imul(V,xt)|0,a=a+Math.imul(j,Pt)|0,_=_+Math.imul(j,xt)|0;var Tt=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,w=Math.imul(st,vt),a=Math.imul(st,mt),a=a+Math.imul(ht,vt)|0,_=Math.imul(ht,mt),w=w+Math.imul(at,pt)|0,a=a+Math.imul(at,gt)|0,a=a+Math.imul(ft,pt)|0,_=_+Math.imul(ft,gt)|0,w=w+Math.imul(it,wt)|0,a=a+Math.imul(it,Mt)|0,a=a+Math.imul(ot,wt)|0,_=_+Math.imul(ot,Mt)|0,w=w+Math.imul(rt,yt)|0,a=a+Math.imul(rt,Ut)|0,a=a+Math.imul(nt,yt)|0,_=_+Math.imul(nt,Ut)|0,w=w+Math.imul(tt,_t)|0,a=a+Math.imul(tt,Nt)|0,a=a+Math.imul(et,_t)|0,_=_+Math.imul(et,Nt)|0,w=w+Math.imul(X,At)|0,a=a+Math.imul(X,bt)|0,a=a+Math.imul(Y,At)|0,_=_+Math.imul(Y,bt)|0,w=w+Math.imul(J,Pt)|0,a=a+Math.imul(J,xt)|0,a=a+Math.imul($,Pt)|0,_=_+Math.imul($,xt)|0,w=w+Math.imul(V,It)|0,a=a+Math.imul(V,Ft)|0,a=a+Math.imul(j,It)|0,_=_+Math.imul(j,Ft)|0;var zt=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(zt>>>26)|0,zt&=67108863,w=Math.imul(lt,vt),a=Math.imul(lt,mt),a=a+Math.imul(ut,vt)|0,_=Math.imul(ut,mt),w=w+Math.imul(st,pt)|0,a=a+Math.imul(st,gt)|0,a=a+Math.imul(ht,pt)|0,_=_+Math.imul(ht,gt)|0,w=w+Math.imul(at,wt)|0,a=a+Math.imul(at,Mt)|0,a=a+Math.imul(ft,wt)|0,_=_+Math.imul(ft,Mt)|0,w=w+Math.imul(it,yt)|0,a=a+Math.imul(it,Ut)|0,a=a+Math.imul(ot,yt)|0,_=_+Math.imul(ot,Ut)|0,w=w+Math.imul(rt,_t)|0,a=a+Math.imul(rt,Nt)|0,a=a+Math.imul(nt,_t)|0,_=_+Math.imul(nt,Nt)|0,w=w+Math.imul(tt,At)|0,a=a+Math.imul(tt,bt)|0,a=a+Math.imul(et,At)|0,_=_+Math.imul(et,bt)|0,w=w+Math.imul(X,Pt)|0,a=a+Math.imul(X,xt)|0,a=a+Math.imul(Y,Pt)|0,_=_+Math.imul(Y,xt)|0,w=w+Math.imul(J,It)|0,a=a+Math.imul(J,Ft)|0,a=a+Math.imul($,It)|0,_=_+Math.imul($,Ft)|0,w=w+Math.imul(V,Et)|0,a=a+Math.imul(V,Ct)|0,a=a+Math.imul(j,Et)|0,_=_+Math.imul(j,Ct)|0;var Lt=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,w=Math.imul(ct,vt),a=Math.imul(ct,mt),a=a+Math.imul(dt,vt)|0,_=Math.imul(dt,mt),w=w+Math.imul(lt,pt)|0,a=a+Math.imul(lt,gt)|0,a=a+Math.imul(ut,pt)|0,_=_+Math.imul(ut,gt)|0,w=w+Math.imul(st,wt)|0,a=a+Math.imul(st,Mt)|0,a=a+Math.imul(ht,wt)|0,_=_+Math.imul(ht,Mt)|0,w=w+Math.imul(at,yt)|0,a=a+Math.imul(at,Ut)|0,a=a+Math.imul(ft,yt)|0,_=_+Math.imul(ft,Ut)|0,w=w+Math.imul(it,_t)|0,a=a+Math.imul(it,Nt)|0,a=a+Math.imul(ot,_t)|0,_=_+Math.imul(ot,Nt)|0,w=w+Math.imul(rt,At)|0,a=a+Math.imul(rt,bt)|0,a=a+Math.imul(nt,At)|0,_=_+Math.imul(nt,bt)|0,w=w+Math.imul(tt,Pt)|0,a=a+Math.imul(tt,xt)|0,a=a+Math.imul(et,Pt)|0,_=_+Math.imul(et,xt)|0,w=w+Math.imul(X,It)|0,a=a+Math.imul(X,Ft)|0,a=a+Math.imul(Y,It)|0,_=_+Math.imul(Y,Ft)|0,w=w+Math.imul(J,Et)|0,a=a+Math.imul(J,Ct)|0,a=a+Math.imul($,Et)|0,_=_+Math.imul($,Ct)|0,w=w+Math.imul(V,Rt)|0,a=a+Math.imul(V,St)|0,a=a+Math.imul(j,Rt)|0,_=_+Math.imul(j,St)|0;var qt=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(qt>>>26)|0,qt&=67108863,w=Math.imul(ct,pt),a=Math.imul(ct,gt),a=a+Math.imul(dt,pt)|0,_=Math.imul(dt,gt),w=w+Math.imul(lt,wt)|0,a=a+Math.imul(lt,Mt)|0,a=a+Math.imul(ut,wt)|0,_=_+Math.imul(ut,Mt)|0,w=w+Math.imul(st,yt)|0,a=a+Math.imul(st,Ut)|0,a=a+Math.imul(ht,yt)|0,_=_+Math.imul(ht,Ut)|0,w=w+Math.imul(at,_t)|0,a=a+Math.imul(at,Nt)|0,a=a+Math.imul(ft,_t)|0,_=_+Math.imul(ft,Nt)|0,w=w+Math.imul(it,At)|0,a=a+Math.imul(it,bt)|0,a=a+Math.imul(ot,At)|0,_=_+Math.imul(ot,bt)|0,w=w+Math.imul(rt,Pt)|0,a=a+Math.imul(rt,xt)|0,a=a+Math.imul(nt,Pt)|0,_=_+Math.imul(nt,xt)|0,w=w+Math.imul(tt,It)|0,a=a+Math.imul(tt,Ft)|0,a=a+Math.imul(et,It)|0,_=_+Math.imul(et,Ft)|0,w=w+Math.imul(X,Et)|0,a=a+Math.imul(X,Ct)|0,a=a+Math.imul(Y,Et)|0,_=_+Math.imul(Y,Ct)|0,w=w+Math.imul(J,Rt)|0,a=a+Math.imul(J,St)|0,a=a+Math.imul($,Rt)|0,_=_+Math.imul($,St)|0;var Dt=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,w=Math.imul(ct,wt),a=Math.imul(ct,Mt),a=a+Math.imul(dt,wt)|0,_=Math.imul(dt,Mt),w=w+Math.imul(lt,yt)|0,a=a+Math.imul(lt,Ut)|0,a=a+Math.imul(ut,yt)|0,_=_+Math.imul(ut,Ut)|0,w=w+Math.imul(st,_t)|0,a=a+Math.imul(st,Nt)|0,a=a+Math.imul(ht,_t)|0,_=_+Math.imul(ht,Nt)|0,w=w+Math.imul(at,At)|0,a=a+Math.imul(at,bt)|0,a=a+Math.imul(ft,At)|0,_=_+Math.imul(ft,bt)|0,w=w+Math.imul(it,Pt)|0,a=a+Math.imul(it,xt)|0,a=a+Math.imul(ot,Pt)|0,_=_+Math.imul(ot,xt)|0,w=w+Math.imul(rt,It)|0,a=a+Math.imul(rt,Ft)|0,a=a+Math.imul(nt,It)|0,_=_+Math.imul(nt,Ft)|0,w=w+Math.imul(tt,Et)|0,a=a+Math.imul(tt,Ct)|0,a=a+Math.imul(et,Et)|0,_=_+Math.imul(et,Ct)|0,w=w+Math.imul(X,Rt)|0,a=a+Math.imul(X,St)|0,a=a+Math.imul(Y,Rt)|0,_=_+Math.imul(Y,St)|0;var Vt=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,w=Math.imul(ct,yt),a=Math.imul(ct,Ut),a=a+Math.imul(dt,yt)|0,_=Math.imul(dt,Ut),w=w+Math.imul(lt,_t)|0,a=a+Math.imul(lt,Nt)|0,a=a+Math.imul(ut,_t)|0,_=_+Math.imul(ut,Nt)|0,w=w+Math.imul(st,At)|0,a=a+Math.imul(st,bt)|0,a=a+Math.imul(ht,At)|0,_=_+Math.imul(ht,bt)|0,w=w+Math.imul(at,Pt)|0,a=a+Math.imul(at,xt)|0,a=a+Math.imul(ft,Pt)|0,_=_+Math.imul(ft,xt)|0,w=w+Math.imul(it,It)|0,a=a+Math.imul(it,Ft)|0,a=a+Math.imul(ot,It)|0,_=_+Math.imul(ot,Ft)|0,w=w+Math.imul(rt,Et)|0,a=a+Math.imul(rt,Ct)|0,a=a+Math.imul(nt,Et)|0,_=_+Math.imul(nt,Ct)|0,w=w+Math.imul(tt,Rt)|0,a=a+Math.imul(tt,St)|0,a=a+Math.imul(et,Rt)|0,_=_+Math.imul(et,St)|0;var Qt=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,w=Math.imul(ct,_t),a=Math.imul(ct,Nt),a=a+Math.imul(dt,_t)|0,_=Math.imul(dt,Nt),w=w+Math.imul(lt,At)|0,a=a+Math.imul(lt,bt)|0,a=a+Math.imul(ut,At)|0,_=_+Math.imul(ut,bt)|0,w=w+Math.imul(st,Pt)|0,a=a+Math.imul(st,xt)|0,a=a+Math.imul(ht,Pt)|0,_=_+Math.imul(ht,xt)|0,w=w+Math.imul(at,It)|0,a=a+Math.imul(at,Ft)|0,a=a+Math.imul(ft,It)|0,_=_+Math.imul(ft,Ft)|0,w=w+Math.imul(it,Et)|0,a=a+Math.imul(it,Ct)|0,a=a+Math.imul(ot,Et)|0,_=_+Math.imul(ot,Ct)|0,w=w+Math.imul(rt,Rt)|0,a=a+Math.imul(rt,St)|0,a=a+Math.imul(nt,Rt)|0,_=_+Math.imul(nt,St)|0;var jt=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(jt>>>26)|0,jt&=67108863,w=Math.imul(ct,At),a=Math.imul(ct,bt),a=a+Math.imul(dt,At)|0,_=Math.imul(dt,bt),w=w+Math.imul(lt,Pt)|0,a=a+Math.imul(lt,xt)|0,a=a+Math.imul(ut,Pt)|0,_=_+Math.imul(ut,xt)|0,w=w+Math.imul(st,It)|0,a=a+Math.imul(st,Ft)|0,a=a+Math.imul(ht,It)|0,_=_+Math.imul(ht,Ft)|0,w=w+Math.imul(at,Et)|0,a=a+Math.imul(at,Ct)|0,a=a+Math.imul(ft,Et)|0,_=_+Math.imul(ft,Ct)|0,w=w+Math.imul(it,Rt)|0,a=a+Math.imul(it,St)|0,a=a+Math.imul(ot,Rt)|0,_=_+Math.imul(ot,St)|0;var Kt=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,w=Math.imul(ct,Pt),a=Math.imul(ct,xt),a=a+Math.imul(dt,Pt)|0,_=Math.imul(dt,xt),w=w+Math.imul(lt,It)|0,a=a+Math.imul(lt,Ft)|0,a=a+Math.imul(ut,It)|0,_=_+Math.imul(ut,Ft)|0,w=w+Math.imul(st,Et)|0,a=a+Math.imul(st,Ct)|0,a=a+Math.imul(ht,Et)|0,_=_+Math.imul(ht,Ct)|0,w=w+Math.imul(at,Rt)|0,a=a+Math.imul(at,St)|0,a=a+Math.imul(ft,Rt)|0,_=_+Math.imul(ft,St)|0;var $t=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+($t>>>26)|0,$t&=67108863,w=Math.imul(ct,It),a=Math.imul(ct,Ft),a=a+Math.imul(dt,It)|0,_=Math.imul(dt,Ft),w=w+Math.imul(lt,Et)|0,a=a+Math.imul(lt,Ct)|0,a=a+Math.imul(ut,Et)|0,_=_+Math.imul(ut,Ct)|0,w=w+Math.imul(st,Rt)|0,a=a+Math.imul(st,St)|0,a=a+Math.imul(ht,Rt)|0,_=_+Math.imul(ht,St)|0;var Jt=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,w=Math.imul(ct,Et),a=Math.imul(ct,Ct),a=a+Math.imul(dt,Et)|0,_=Math.imul(dt,Ct),w=w+Math.imul(lt,Rt)|0,a=a+Math.imul(lt,St)|0,a=a+Math.imul(ut,Rt)|0,_=_+Math.imul(ut,St)|0;var Xt=(F+w|0)+((a&8191)<<13)|0;F=(_+(a>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,w=Math.imul(ct,Rt),a=Math.imul(ct,St),a=a+Math.imul(dt,Rt)|0,_=Math.imul(dt,St);var Yt=(F+w|0)+((a&8191)<<13)|0;return F=(_+(a>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,P[0]=Ht,P[1]=Gt,P[2]=Ot,P[3]=Zt,P[4]=Wt,P[5]=kt,P[6]=Tt,P[7]=zt,P[8]=Lt,P[9]=qt,P[10]=Dt,P[11]=Vt,P[12]=Qt,P[13]=jt,P[14]=Kt,P[15]=$t,P[16]=Jt,P[17]=Xt,P[18]=Yt,F!==0&&(P[19]=F,v.length++),v};Math.imul||(k=L);function C(U,e,h){h.negative=e.negative^U.negative,h.length=U.length+e.length;for(var v=0,g=0,M=0;M<h.length-1;M++){var P=g;g=0;for(var F=v&67108863,w=Math.min(M,e.length-1),a=Math.max(0,M-U.length+1);a<=w;a++){var _=M-a,Q=U.words[_]|0,V=e.words[a]|0,j=Q*V,K=j&67108863;P=P+(j/67108864|0)|0,K=K+F|0,F=K&67108863,P=P+(K>>>26)|0,g+=P>>>26,P&=67108863}h.words[M]=F,v=P,P=g}return v!==0?h.words[M]=v:h.length--,h._strip()}function q(U,e,h){return C(U,e,h)}t.prototype.mulTo=function(e,h){var v,g=this.length+e.length;return this.length===10&&e.length===10?v=k(this,e,h):g<63?v=L(this,e,h):g<1024?v=C(this,e,h):v=q(this,e,h),v},t.prototype.mul=function(e){var h=new t(null);return h.words=new Array(this.length+e.length),this.mulTo(e,h)},t.prototype.mulf=function(e){var h=new t(null);return h.words=new Array(this.length+e.length),q(this,e,h)},t.prototype.imul=function(e){return this.clone().mulTo(e,this)},t.prototype.imuln=function(e){var h=e<0;h&&(e=-e),n(typeof e=="number"),n(e<67108864);for(var v=0,g=0;g<this.length;g++){var M=(this.words[g]|0)*e,P=(M&67108863)+(v&67108863);v>>=26,v+=M/67108864|0,v+=P>>>26,this.words[g]=P&67108863}return v!==0&&(this.words[g]=v,this.length++),h?this.ineg():this},t.prototype.muln=function(e){return this.clone().imuln(e)},t.prototype.sqr=function(){return this.mul(this)},t.prototype.isqr=function(){return this.imul(this.clone())},t.prototype.pow=function(e){var h=I(e);if(h.length===0)return new t(1);for(var v=this,g=0;g<h.length&&h[g]===0;g++,v=v.sqr());if(++g<h.length)for(var M=v.sqr();g<h.length;g++,M=M.sqr())h[g]!==0&&(v=v.mul(M));return v},t.prototype.iushln=function(e){n(typeof e=="number"&&e>=0);var h=e%26,v=(e-h)/26,g=67108863>>>26-h<<26-h,M;if(h!==0){var P=0;for(M=0;M<this.length;M++){var F=this.words[M]&g,w=(this.words[M]|0)-F<<h;this.words[M]=w|P,P=F>>>26-h}P&&(this.words[M]=P,this.length++)}if(v!==0){for(M=this.length-1;M>=0;M--)this.words[M+v]=this.words[M];for(M=0;M<v;M++)this.words[M]=0;this.length+=v}return this._strip()},t.prototype.ishln=function(e){return n(this.negative===0),this.iushln(e)},t.prototype.iushrn=function(e,h,v){n(typeof e=="number"&&e>=0);var g;h?g=(h-h%26)/26:g=0;var M=e%26,P=Math.min((e-M)/26,this.length),F=67108863^67108863>>>M<<M,w=v;if(g-=P,g=Math.max(0,g),w){for(var a=0;a<P;a++)w.words[a]=this.words[a];w.length=P}if(P!==0)if(this.length>P)for(this.length-=P,a=0;a<this.length;a++)this.words[a]=this.words[a+P];else this.words[0]=0,this.length=1;var _=0;for(a=this.length-1;a>=0&&(_!==0||a>=g);a--){var Q=this.words[a]|0;this.words[a]=_<<26-M|Q>>>M,_=Q&F}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},t.prototype.ishrn=function(e,h,v){return n(this.negative===0),this.iushrn(e,h,v)},t.prototype.shln=function(e){return this.clone().ishln(e)},t.prototype.ushln=function(e){return this.clone().iushln(e)},t.prototype.shrn=function(e){return this.clone().ishrn(e)},t.prototype.ushrn=function(e){return this.clone().iushrn(e)},t.prototype.testn=function(e){n(typeof e=="number"&&e>=0);var h=e%26,v=(e-h)/26,g=1<<h;if(this.length<=v)return!1;var M=this.words[v];return!!(M&g)},t.prototype.imaskn=function(e){n(typeof e=="number"&&e>=0);var h=e%26,v=(e-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(h!==0&&v++,this.length=Math.min(v,this.length),h!==0){var g=67108863^67108863>>>h<<h;this.words[this.length-1]&=g}return this._strip()},t.prototype.maskn=function(e){return this.clone().imaskn(e)},t.prototype.iaddn=function(e){return n(typeof e=="number"),n(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<=e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},t.prototype._iaddn=function(e){this.words[0]+=e;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},t.prototype.isubn=function(e){if(n(typeof e=="number"),n(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},t.prototype.addn=function(e){return this.clone().iaddn(e)},t.prototype.subn=function(e){return this.clone().isubn(e)},t.prototype.iabs=function(){return this.negative=0,this},t.prototype.abs=function(){return this.clone().iabs()},t.prototype._ishlnsubmul=function(e,h,v){var g=e.length+v,M;this._expand(g);var P,F=0;for(M=0;M<e.length;M++){P=(this.words[M+v]|0)+F;var w=(e.words[M]|0)*h;P-=w&67108863,F=(P>>26)-(w/67108864|0),this.words[M+v]=P&67108863}for(;M<this.length-v;M++)P=(this.words[M+v]|0)+F,F=P>>26,this.words[M+v]=P&67108863;if(F===0)return this._strip();for(n(F===-1),F=0,M=0;M<this.length;M++)P=-(this.words[M]|0)+F,F=P>>26,this.words[M]=P&67108863;return this.negative=1,this._strip()},t.prototype._wordDiv=function(e,h){var v=this.length-e.length,g=this.clone(),M=e,P=M.words[M.length-1]|0,F=this._countBits(P);v=26-F,v!==0&&(M=M.ushln(v),g.iushln(v),P=M.words[M.length-1]|0);var w=g.length-M.length,a;if(h!=="mod"){a=new t(null),a.length=w+1,a.words=new Array(a.length);for(var _=0;_<a.length;_++)a.words[_]=0}var Q=g.clone()._ishlnsubmul(M,1,w);Q.negative===0&&(g=Q,a&&(a.words[w]=1));for(var V=w-1;V>=0;V--){var j=(g.words[M.length+V]|0)*67108864+(g.words[M.length+V-1]|0);for(j=Math.min(j/P|0,67108863),g._ishlnsubmul(M,j,V);g.negative!==0;)j--,g.negative=0,g._ishlnsubmul(M,1,V),g.isZero()||(g.negative^=1);a&&(a.words[V]=j)}return a&&a._strip(),g._strip(),h!=="div"&&v!==0&&g.iushrn(v),{div:a||null,mod:g}},t.prototype.divmod=function(e,h,v){if(n(!e.isZero()),this.isZero())return{div:new t(0),mod:new t(0)};var g,M,P;return this.negative!==0&&e.negative===0?(P=this.neg().divmod(e,h),h!=="mod"&&(g=P.div.neg()),h!=="div"&&(M=P.mod.neg(),v&&M.negative!==0&&M.iadd(e)),{div:g,mod:M}):this.negative===0&&e.negative!==0?(P=this.divmod(e.neg(),h),h!=="mod"&&(g=P.div.neg()),{div:g,mod:P.mod}):this.negative&e.negative?(P=this.neg().divmod(e.neg(),h),h!=="div"&&(M=P.mod.neg(),v&&M.negative!==0&&M.isub(e)),{div:P.div,mod:M}):e.length>this.length||this.cmp(e)<0?{div:new t(0),mod:this}:e.length===1?h==="div"?{div:this.divn(e.words[0]),mod:null}:h==="mod"?{div:null,mod:new t(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new t(this.modrn(e.words[0]))}:this._wordDiv(e,h)},t.prototype.div=function(e){return this.divmod(e,"div",!1).div},t.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},t.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},t.prototype.divRound=function(e){var h=this.divmod(e);if(h.mod.isZero())return h.div;var v=h.div.negative!==0?h.mod.isub(e):h.mod,g=e.ushrn(1),M=e.andln(1),P=v.cmp(g);return P<0||M===1&&P===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},t.prototype.modrn=function(e){var h=e<0;h&&(e=-e),n(e<=67108863);for(var v=(1<<26)%e,g=0,M=this.length-1;M>=0;M--)g=(v*g+(this.words[M]|0))%e;return h?-g:g},t.prototype.modn=function(e){return this.modrn(e)},t.prototype.idivn=function(e){var h=e<0;h&&(e=-e),n(e<=67108863);for(var v=0,g=this.length-1;g>=0;g--){var M=(this.words[g]|0)+v*67108864;this.words[g]=M/e|0,v=M%e}return this._strip(),h?this.ineg():this},t.prototype.divn=function(e){return this.clone().idivn(e)},t.prototype.egcd=function(e){n(e.negative===0),n(!e.isZero());var h=this,v=e.clone();h.negative!==0?h=h.umod(e):h=h.clone();for(var g=new t(1),M=new t(0),P=new t(0),F=new t(1),w=0;h.isEven()&&v.isEven();)h.iushrn(1),v.iushrn(1),++w;for(var a=v.clone(),_=h.clone();!h.isZero();){for(var Q=0,V=1;!(h.words[0]&V)&&Q<26;++Q,V<<=1);if(Q>0)for(h.iushrn(Q);Q-- >0;)(g.isOdd()||M.isOdd())&&(g.iadd(a),M.isub(_)),g.iushrn(1),M.iushrn(1);for(var j=0,K=1;!(v.words[0]&K)&&j<26;++j,K<<=1);if(j>0)for(v.iushrn(j);j-- >0;)(P.isOdd()||F.isOdd())&&(P.iadd(a),F.isub(_)),P.iushrn(1),F.iushrn(1);h.cmp(v)>=0?(h.isub(v),g.isub(P),M.isub(F)):(v.isub(h),P.isub(g),F.isub(M))}return{a:P,b:F,gcd:v.iushln(w)}},t.prototype._invmp=function(e){n(e.negative===0),n(!e.isZero());var h=this,v=e.clone();h.negative!==0?h=h.umod(e):h=h.clone();for(var g=new t(1),M=new t(0),P=v.clone();h.cmpn(1)>0&&v.cmpn(1)>0;){for(var F=0,w=1;!(h.words[0]&w)&&F<26;++F,w<<=1);if(F>0)for(h.iushrn(F);F-- >0;)g.isOdd()&&g.iadd(P),g.iushrn(1);for(var a=0,_=1;!(v.words[0]&_)&&a<26;++a,_<<=1);if(a>0)for(v.iushrn(a);a-- >0;)M.isOdd()&&M.iadd(P),M.iushrn(1);h.cmp(v)>=0?(h.isub(v),g.isub(M)):(v.isub(h),M.isub(g))}var Q;return h.cmpn(1)===0?Q=g:Q=M,Q.cmpn(0)<0&&Q.iadd(e),Q},t.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var h=this.clone(),v=e.clone();h.negative=0,v.negative=0;for(var g=0;h.isEven()&&v.isEven();g++)h.iushrn(1),v.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;v.isEven();)v.iushrn(1);var M=h.cmp(v);if(M<0){var P=h;h=v,v=P}else if(M===0||v.cmpn(1)===0)break;h.isub(v)}while(!0);return v.iushln(g)},t.prototype.invm=function(e){return this.egcd(e).a.umod(e)},t.prototype.isEven=function(){return(this.words[0]&1)===0},t.prototype.isOdd=function(){return(this.words[0]&1)===1},t.prototype.andln=function(e){return this.words[0]&e},t.prototype.bincn=function(e){n(typeof e=="number");var h=e%26,v=(e-h)/26,g=1<<h;if(this.length<=v)return this._expand(v+1),this.words[v]|=g,this;for(var M=g,P=v;M!==0&&P<this.length;P++){var F=this.words[P]|0;F+=M,M=F>>>26,F&=67108863,this.words[P]=F}return M!==0&&(this.words[P]=M,this.length++),this},t.prototype.isZero=function(){return this.length===1&&this.words[0]===0},t.prototype.cmpn=function(e){var h=e<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var v;if(this.length>1)v=1;else{h&&(e=-e),n(e<=67108863,"Number is too big");var g=this.words[0]|0;v=g===e?0:g<e?-1:1}return this.negative!==0?-v|0:v},t.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var h=this.ucmp(e);return this.negative!==0?-h|0:h},t.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var h=0,v=this.length-1;v>=0;v--){var g=this.words[v]|0,M=e.words[v]|0;if(g!==M){g<M?h=-1:g>M&&(h=1);break}}return h},t.prototype.gtn=function(e){return this.cmpn(e)===1},t.prototype.gt=function(e){return this.cmp(e)===1},t.prototype.gten=function(e){return this.cmpn(e)>=0},t.prototype.gte=function(e){return this.cmp(e)>=0},t.prototype.ltn=function(e){return this.cmpn(e)===-1},t.prototype.lt=function(e){return this.cmp(e)===-1},t.prototype.lten=function(e){return this.cmpn(e)<=0},t.prototype.lte=function(e){return this.cmp(e)<=0},t.prototype.eqn=function(e){return this.cmpn(e)===0},t.prototype.eq=function(e){return this.cmp(e)===0},t.red=function(e){return new T(e)},t.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},t.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},t.prototype._forceRed=function(e){return this.red=e,this},t.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},t.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},t.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},t.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},t.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},t.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},t.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},t.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},t.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},t.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},t.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},t.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},t.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},t.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var G={k256:null,p224:null,p192:null,p25519:null};function R(U,e){this.name=U,this.p=new t(e,16),this.n=this.p.bitLength(),this.k=new t(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var e=new t(null);return e.words=new Array(Math.ceil(this.n/13)),e},R.prototype.ireduce=function(e){var h=e,v;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),v=h.bitLength();while(v>this.n);var g=v<this.n?-1:h.ucmp(this.p);return g===0?(h.words[0]=0,h.length=1):g>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},R.prototype.split=function(e,h){e.iushrn(this.n,0,h)},R.prototype.imulK=function(e){return e.imul(this.k)};function S(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}r(S,R),S.prototype.split=function(e,h){for(var v=4194303,g=Math.min(e.length,9),M=0;M<g;M++)h.words[M]=e.words[M];if(h.length=g,e.length<=9){e.words[0]=0,e.length=1;return}var P=e.words[9];for(h.words[h.length++]=P&v,M=10;M<e.length;M++){var F=e.words[M]|0;e.words[M-10]=(F&v)<<4|P>>>22,P=F}P>>>=22,e.words[M-10]=P,P===0&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var h=0,v=0;v<e.length;v++){var g=e.words[v]|0;h+=g*977,e.words[v]=h&67108863,h=g*64+(h/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function B(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}r(B,R);function D(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}r(D,R);function O(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}r(O,R),O.prototype.imulK=function(e){for(var h=0,v=0;v<e.length;v++){var g=(e.words[v]|0)*19+h,M=g&67108863;g>>>=26,e.words[v]=M,h=g}return h!==0&&(e.words[e.length++]=h),e},t._prime=function(e){if(G[e])return G[e];var h;if(e==="k256")h=new S;else if(e==="p224")h=new B;else if(e==="p192")h=new D;else if(e==="p25519")h=new O;else throw new Error("Unknown prime "+e);return G[e]=h,h};function T(U){if(typeof U=="string"){var e=t._prime(U);this.m=e.p,this.prime=e}else n(U.gtn(1),"modulus must be greater than 1"),this.m=U,this.prime=null}T.prototype._verify1=function(e){n(e.negative===0,"red works only with positives"),n(e.red,"red works only with red numbers")},T.prototype._verify2=function(e,h){n((e.negative|h.negative)===0,"red works only with positives"),n(e.red&&e.red===h.red,"red works only with red numbers")},T.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(A(e,e.umod(this.m)._forceRed(this)),e)},T.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},T.prototype.add=function(e,h){this._verify2(e,h);var v=e.add(h);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},T.prototype.iadd=function(e,h){this._verify2(e,h);var v=e.iadd(h);return v.cmp(this.m)>=0&&v.isub(this.m),v},T.prototype.sub=function(e,h){this._verify2(e,h);var v=e.sub(h);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},T.prototype.isub=function(e,h){this._verify2(e,h);var v=e.isub(h);return v.cmpn(0)<0&&v.iadd(this.m),v},T.prototype.shl=function(e,h){return this._verify1(e),this.imod(e.ushln(h))},T.prototype.imul=function(e,h){return this._verify2(e,h),this.imod(e.imul(h))},T.prototype.mul=function(e,h){return this._verify2(e,h),this.imod(e.mul(h))},T.prototype.isqr=function(e){return this.imul(e,e.clone())},T.prototype.sqr=function(e){return this.mul(e,e)},T.prototype.sqrt=function(e){if(e.isZero())return e.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var v=this.m.add(new t(1)).iushrn(2);return this.pow(e,v)}for(var g=this.m.subn(1),M=0;!g.isZero()&&g.andln(1)===0;)M++,g.iushrn(1);n(!g.isZero());var P=new t(1).toRed(this),F=P.redNeg(),w=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new t(2*a*a).toRed(this);this.pow(a,w).cmp(F)!==0;)a.redIAdd(F);for(var _=this.pow(a,g),Q=this.pow(e,g.addn(1).iushrn(1)),V=this.pow(e,g),j=M;V.cmp(P)!==0;){for(var K=V,J=0;K.cmp(P)!==0;J++)K=K.redSqr();n(J<j);var $=this.pow(_,new t(1).iushln(j-J-1));Q=Q.redMul($),_=$.redSqr(),V=V.redMul(_),j=J}return Q},T.prototype.invm=function(e){var h=e._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},T.prototype.pow=function(e,h){if(h.isZero())return new t(1).toRed(this);if(h.cmpn(1)===0)return e.clone();var v=4,g=new Array(1<<v);g[0]=new t(1).toRed(this),g[1]=e;for(var M=2;M<g.length;M++)g[M]=this.mul(g[M-1],e);var P=g[0],F=0,w=0,a=h.bitLength()%26;for(a===0&&(a=26),M=h.length-1;M>=0;M--){for(var _=h.words[M],Q=a-1;Q>=0;Q--){var V=_>>Q&1;if(P!==g[0]&&(P=this.sqr(P)),V===0&&F===0){w=0;continue}F<<=1,F|=V,w++,!(w!==v&&(M!==0||Q!==0))&&(P=this.mul(P,g[F]),w=0,F=0)}a=26}return P},T.prototype.convertTo=function(e){var h=e.umod(this.m);return h===e?h.clone():h},T.prototype.convertFrom=function(e){var h=e.clone();return h.red=null,h},t.mont=function(e){return new Z(e)};function Z(U){T.call(this,U),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new t(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r(Z,T),Z.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},Z.prototype.convertFrom=function(e){var h=this.imod(e.mul(this.rinv));return h.red=null,h},Z.prototype.imul=function(e,h){if(e.isZero()||h.isZero())return e.words[0]=0,e.length=1,e;var v=e.imul(h),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=v.isub(g).iushrn(this.shift),P=M;return M.cmp(this.m)>=0?P=M.isub(this.m):M.cmpn(0)<0&&(P=M.iadd(this.m)),P._forceRed(this)},Z.prototype.mul=function(e,h){if(e.isZero()||h.isZero())return new t(0)._forceRed(this);var v=e.mul(h),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=v.isub(g).iushrn(this.shift),P=M;return M.cmp(this.m)>=0?P=M.isub(this.m):M.cmpn(0)<0&&(P=M.iadd(this.m)),P._forceRed(this)},Z.prototype.invm=function(e){var h=this.imod(e._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(i,commonjsGlobal)})(bn);const BN=bnExports;var ALPHABET="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(var z=0;z<ALPHABET.length;z++){var x=ALPHABET.charAt(z);if(ALPHABET_MAP[x]!==void 0)throw new TypeError(x+" is ambiguous");ALPHABET_MAP[x]=z}function polymodStep(i){var f=i>>25;return(i&33554431)<<5^-(f>>0&1)&996825010^-(f>>1&1)&642813549^-(f>>2&1)&513874426^-(f>>3&1)&1027748829^-(f>>4&1)&705979059}function prefixChk(i){for(var f=1,u=0;u<i.length;++u){var n=i.charCodeAt(u);if(n<33||n>126)return"Invalid prefix ("+i+")";f=polymodStep(f)^n>>5}for(f=polymodStep(f),u=0;u<i.length;++u){var r=i.charCodeAt(u);f=polymodStep(f)^r&31}return f}function encode(i,f,u){if(u=u||90,i.length+7+f.length>u)throw new TypeError("Exceeds length limit");i=i.toLowerCase();var n=prefixChk(i);if(typeof n=="string")throw new Error(n);for(var r=i+"1",t=0;t<f.length;++t){var l=f[t];if(l>>5)throw new Error("Non 5-bit word");n=polymodStep(n)^l,r+=ALPHABET.charAt(l)}for(t=0;t<6;++t)n=polymodStep(n);for(n^=1,t=0;t<6;++t){var s=n>>(5-t)*5&31;r+=ALPHABET.charAt(s)}return r}function __decode(i,f){if(f=f||90,i.length<8)return i+" too short";if(i.length>f)return"Exceeds length limit";var u=i.toLowerCase(),n=i.toUpperCase();if(i!==u&&i!==n)return"Mixed-case string "+i;i=u;var r=i.lastIndexOf("1");if(r===-1)return"No separator character for "+i;if(r===0)return"Missing prefix for "+i;var t=i.slice(0,r),l=i.slice(r+1);if(l.length<6)return"Data too short";var s=prefixChk(t);if(typeof s=="string")return s;for(var d=[],c=0;c<l.length;++c){var A=l.charAt(c),y=ALPHABET_MAP[A];if(y===void 0)return"Unknown character "+A;s=polymodStep(s)^y,!(c+6>=l.length)&&d.push(y)}return s!==1?"Invalid checksum for "+i:{prefix:t,words:d}}function decodeUnsafe(){var i=__decode.apply(null,arguments);if(typeof i=="object")return i}function decode(i){var f=__decode.apply(null,arguments);if(typeof f=="object")return f;throw new Error(f)}function convert(i,f,u,n){for(var r=0,t=0,l=(1<<u)-1,s=[],d=0;d<i.length;++d)for(r=r<<f|i[d],t+=f;t>=u;)t-=u,s.push(r>>t&l);if(n)t>0&&s.push(r<<u-t&l);else{if(t>=f)return"Excess padding";if(r<<u-t&l)return"Non-zero padding"}return s}function toWordsUnsafe(i){var f=convert(i,8,5,!0);if(Array.isArray(f))return f}function toWords(i){var f=convert(i,8,5,!0);if(Array.isArray(f))return f;throw new Error(f)}function fromWordsUnsafe(i){var f=convert(i,5,8,!1);if(Array.isArray(f))return f}function fromWords(i){var f=convert(i,5,8,!1);if(Array.isArray(f))return f;throw new Error(f)}var bech32={decodeUnsafe,decode,encode,toWordsUnsafe,toWords,fromWordsUnsafe,fromWords};function _mergeNamespaces(i,f){return f.forEach(function(u){Object.keys(u).forEach(function(n){if(n!=="default"&&!(n in i)){var r=Object.getOwnPropertyDescriptor(u,n);Object.defineProperty(i,n,r.get?r:{enumerable:!0,get:function(){return u[n]}})}})}),Object.freeze(i)}function ownKeys(i,f){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);f&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),u.push.apply(u,n)}return u}function _objectSpread2(i){for(var f=1;f<arguments.length;f++){var u=arguments[f]!=null?arguments[f]:{};f%2?ownKeys(Object(u),!0).forEach(function(n){_defineProperty(i,n,u[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):ownKeys(Object(u)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(u,n))})}return i}function _defineProperty(i,f,u){return f in i?Object.defineProperty(i,f,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[f]=u,i}function _slicedToArray(i,f){return _arrayWithHoles(i)||_iterableToArrayLimit(i,f)||_unsupportedIterableToArray(i,f)||_nonIterableRest()}function _arrayWithHoles(i){if(Array.isArray(i))return i}function _iterableToArrayLimit(i,f){var u=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(u!=null){var n,r,t=[],l=!0,s=!1;try{for(u=u.call(i);!(l=(n=u.next()).done)&&(t.push(n.value),!f||t.length!==f);l=!0);}catch(d){s=!0,r=d}finally{try{l||u.return==null||u.return()}finally{if(s)throw r}}return t}}function _unsupportedIterableToArray(i,f){if(i){if(typeof i=="string")return _arrayLikeToArray(i,f);var u=Object.prototype.toString.call(i).slice(8,-1);return u==="Object"&&i.constructor&&(u=i.constructor.name),u==="Map"||u==="Set"?Array.from(i):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?_arrayLikeToArray(i,f):void 0}}function _arrayLikeToArray(i,f){(f==null||f>i.length)&&(f=i.length);for(var u=0,n=new Array(f);u<f;u++)n[u]=i[u];return n}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function createCommonjsModule(i){var f={exports:{}};return i(f,f.exports),f.exports}var UZIP_1=createCommonjsModule(function(i){var f,u,n={};i.exports=n,n.parse=function(r,t){for(var l=n.bin.readUshort,s=n.bin.readUint,d=0,c={},A=new Uint8Array(r),y=A.length-4;s(A,y)!=101010256;)y--;d=y,d+=4;var m=l(A,d+=4);l(A,d+=2);var p=s(A,d+=2),b=s(A,d+=4);d+=4,d=b;for(var E=0;E<m;E++){s(A,d),d+=4,d+=4,d+=4,s(A,d+=4),p=s(A,d+=4);var I=s(A,d+=4),L=l(A,d+=4),k=l(A,d+2),C=l(A,d+4);d+=6;var q=s(A,d+=8);d+=4,d+=L+k+C,n._readLocal(A,q,c,p,I,t)}return c},n._readLocal=function(r,t,l,s,d,c){var A=n.bin.readUshort,y=n.bin.readUint;y(r,t),A(r,t+=4),A(r,t+=2);var m=A(r,t+=2);y(r,t+=2),y(r,t+=4),t+=4;var p=A(r,t+=8),b=A(r,t+=2);t+=2;var E=n.bin.readUTF8(r,t,p);if(t+=p,t+=b,c)l[E]={size:d,csize:s};else{var I=new Uint8Array(r.buffer,t);if(m==0)l[E]=new Uint8Array(I.buffer.slice(t,t+s));else{if(m!=8)throw"unknown compression method: "+m;var L=new Uint8Array(d);n.inflateRaw(I,L),l[E]=L}}},n.inflateRaw=function(r,t){return n.F.inflate(r,t)},n.inflate=function(r,t){return r[0],r[1],n.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),t)},n.deflate=function(r,t){t==null&&(t={level:6});var l=0,s=new Uint8Array(50+Math.floor(1.1*r.length));s[l]=120,s[l+1]=156,l+=2,l=n.F.deflateRaw(r,s,l,t.level);var d=n.adler(r,0,r.length);return s[l+0]=d>>>24&255,s[l+1]=d>>>16&255,s[l+2]=d>>>8&255,s[l+3]=d>>>0&255,new Uint8Array(s.buffer,0,l+4)},n.deflateRaw=function(r,t){t==null&&(t={level:6});var l=new Uint8Array(50+Math.floor(1.1*r.length)),s=n.F.deflateRaw(r,l,s,t.level);return new Uint8Array(l.buffer,0,s)},n.encode=function(r,t){t==null&&(t=!1);var l=0,s=n.bin.writeUint,d=n.bin.writeUshort,c={};for(var A in r){var y=!n._noNeed(A)&&!t,m=r[A],p=n.crc.crc(m,0,m.length);c[A]={cpr:y,usize:m.length,crc:p,file:y?n.deflateRaw(m):m}}for(var A in c)l+=c[A].file.length+30+46+2*n.bin.sizeUTF8(A);l+=22;var b=new Uint8Array(l),E=0,I=[];for(var A in c){var L=c[A];I.push(E),E=n._writeHeader(b,E,A,L,0)}var k=0,C=E;for(var A in c)L=c[A],I.push(E),E=n._writeHeader(b,E,A,L,1,I[k++]);var q=E-C;return s(b,E,101010256),E+=4,d(b,E+=4,k),d(b,E+=2,k),s(b,E+=2,q),s(b,E+=4,C),E+=4,E+=2,b.buffer},n._noNeed=function(r){var t=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},n._writeHeader=function(r,t,l,s,d,c){var A=n.bin.writeUint,y=n.bin.writeUshort,m=s.file;return A(r,t,d==0?67324752:33639248),t+=4,d==1&&(t+=2),y(r,t,20),y(r,t+=2,0),y(r,t+=2,s.cpr?8:0),A(r,t+=2,0),A(r,t+=4,s.crc),A(r,t+=4,m.length),A(r,t+=4,s.usize),y(r,t+=4,n.bin.sizeUTF8(l)),y(r,t+=2,0),t+=2,d==1&&(t+=2,t+=2,A(r,t+=6,c),t+=4),t+=n.bin.writeUTF8(r,t,l),d==0&&(r.set(m,t),t+=m.length),t},n.crc={table:function(){for(var r=new Uint32Array(256),t=0;t<256;t++){for(var l=t,s=0;s<8;s++)1&l?l=3988292384^l>>>1:l>>>=1;r[t]=l}return r}(),update:function(r,t,l,s){for(var d=0;d<s;d++)r=n.crc.table[255&(r^t[l+d])]^r>>>8;return r},crc:function(r,t,l){return 4294967295^n.crc.update(4294967295,r,t,l)}},n.adler=function(r,t,l){for(var s=1,d=0,c=t,A=t+l;c<A;){for(var y=Math.min(c+5552,A);c<y;)d+=s+=r[c++];s%=65521,d%=65521}return d<<16|s},n.bin={readUshort:function(r,t){return r[t]|r[t+1]<<8},writeUshort:function(r,t,l){r[t]=255&l,r[t+1]=l>>8&255},readUint:function(r,t){return 16777216*r[t+3]+(r[t+2]<<16|r[t+1]<<8|r[t])},writeUint:function(r,t,l){r[t]=255&l,r[t+1]=l>>8&255,r[t+2]=l>>16&255,r[t+3]=l>>24&255},readASCII:function(r,t,l){for(var s="",d=0;d<l;d++)s+=String.fromCharCode(r[t+d]);return s},writeASCII:function(r,t,l){for(var s=0;s<l.length;s++)r[t+s]=l.charCodeAt(s)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,t,l){for(var s,d="",c=0;c<l;c++)d+="%"+n.bin.pad(r[t+c].toString(16));try{s=decodeURIComponent(d)}catch{return n.bin.readASCII(r,t,l)}return s},writeUTF8:function(r,t,l){for(var s=l.length,d=0,c=0;c<s;c++){var A=l.charCodeAt(c);if(!(4294967168&A))r[t+d]=A,d++;else if(!(4294965248&A))r[t+d]=192|A>>6,r[t+d+1]=128|A>>0&63,d+=2;else if(!(4294901760&A))r[t+d]=224|A>>12,r[t+d+1]=128|A>>6&63,r[t+d+2]=128|A>>0&63,d+=3;else{if(4292870144&A)throw"e";r[t+d]=240|A>>18,r[t+d+1]=128|A>>12&63,r[t+d+2]=128|A>>6&63,r[t+d+3]=128|A>>0&63,d+=4}}return d},sizeUTF8:function(r){for(var t=r.length,l=0,s=0;s<t;s++){var d=r.charCodeAt(s);if(!(4294967168&d))l++;else if(!(4294965248&d))l+=2;else if(!(4294901760&d))l+=3;else{if(4292870144&d)throw"e";l+=4}}return l}},n.F={},n.F.deflateRaw=function(r,t,l,s){var d=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],c=n.F.U,A=n.F._goodIndex;n.F._hash;var y=n.F._putsE,m=0,p=l<<3,b=0,E=r.length;if(s==0){for(;m<E;)y(t,p,m+(T=Math.min(65535,E-m))==E?1:0),p=n.F._copyExact(r,m,T,t,p+8),m+=T;return p>>>3}var I=c.lits,L=c.strt,k=c.prev,C=0,q=0,G=0,R=0,S=0,B=0;for(E>2&&(L[B=n.F._hash(r,0)]=0),m=0;m<E;m++){if(S=B,m+1<E-2){B=n.F._hash(r,m+1);var D=m+1&32767;k[D]=L[B],L[B]=D}if(b<=m){(C>14e3||q>26697)&&E-m>100&&(b<m&&(I[C]=m-b,C+=2,b=m),p=n.F._writeBlock(m==E-1||b==E?1:0,I,C,R,r,G,m-G,t,p),C=q=R=0,G=m);var O=0;m<E-2&&(O=n.F._bestMatch(r,m,k,S,Math.min(d[2],E-m),d[3]));var T=O>>>16,Z=65535&O;if(O!=0){Z=65535&O;var U=A(T=O>>>16,c.of0);c.lhst[257+U]++;var e=A(Z,c.df0);c.dhst[e]++,R+=c.exb[U]+c.dxb[e],I[C]=T<<23|m-b,I[C+1]=Z<<16|U<<8|e,C+=2,b=m+T}else c.lhst[r[m]]++;q++}}for(G==m&&r.length!=0||(b<m&&(I[C]=m-b,C+=2,b=m),p=n.F._writeBlock(1,I,C,R,r,G,m-G,t,p),C=0,q=0,C=q=R=0,G=m);7&p;)p++;return p>>>3},n.F._bestMatch=function(r,t,l,s,d,c){var A=32767&t,y=l[A],m=A-y+32768&32767;if(y==A||s!=n.F._hash(r,t-m))return 0;for(var p=0,b=0,E=Math.min(32767,t);m<=E&&--c!=0&&y!=A;){if(p==0||r[t+p]==r[t+p-m]){var I=n.F._howLong(r,t,m);if(I>p){if(b=m,(p=I)>=d)break;m+2<I&&(I=m+2);for(var L=0,k=0;k<I-2;k++){var C=t-m+k+32768&32767,q=C-l[C]+32768&32767;q>L&&(L=q,y=C)}}}m+=(A=y)-(y=l[A])+32768&32767}return p<<16|b},n.F._howLong=function(r,t,l){if(r[t]!=r[t-l]||r[t+1]!=r[t+1-l]||r[t+2]!=r[t+2-l])return 0;var s=t,d=Math.min(r.length,t+258);for(t+=3;t<d&&r[t]==r[t-l];)t++;return t-s},n.F._hash=function(r,t){return(r[t]<<8|r[t+1])+(r[t+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(r,t,l,s,d,c,A,y,m){var p,b,E,I,L,k,C,q,G,R=n.F.U,S=n.F._putsF,B=n.F._putsE;R.lhst[256]++,b=(p=n.F.getTrees())[0],E=p[1],I=p[2],L=p[3],k=p[4],C=p[5],q=p[6],G=p[7];var D=32+(m+3&7?8-(m+3&7):0)+(A<<3),O=s+n.F.contSize(R.fltree,R.lhst)+n.F.contSize(R.fdtree,R.dhst),T=s+n.F.contSize(R.ltree,R.lhst)+n.F.contSize(R.dtree,R.dhst);T+=14+3*C+n.F.contSize(R.itree,R.ihst)+(2*R.ihst[16]+3*R.ihst[17]+7*R.ihst[18]);for(var Z=0;Z<286;Z++)R.lhst[Z]=0;for(Z=0;Z<30;Z++)R.dhst[Z]=0;for(Z=0;Z<19;Z++)R.ihst[Z]=0;var U=D<O&&D<T?0:O<T?1:2;if(S(y,m,r),S(y,m+1,U),m+=3,U==0){for(;7&m;)m++;m=n.F._copyExact(d,c,A,y,m)}else{var e,h;if(U==1&&(e=R.fltree,h=R.fdtree),U==2){n.F.makeCodes(R.ltree,b),n.F.revCodes(R.ltree,b),n.F.makeCodes(R.dtree,E),n.F.revCodes(R.dtree,E),n.F.makeCodes(R.itree,I),n.F.revCodes(R.itree,I),e=R.ltree,h=R.dtree,B(y,m,L-257),B(y,m+=5,k-1),B(y,m+=5,C-4),m+=4;for(var v=0;v<C;v++)B(y,m+3*v,R.itree[1+(R.ordr[v]<<1)]);m+=3*C,m=n.F._codeTiny(q,R.itree,y,m),m=n.F._codeTiny(G,R.itree,y,m)}for(var g=c,M=0;M<l;M+=2){for(var P=t[M],F=P>>>23,w=g+(8388607&P);g<w;)m=n.F._writeLit(d[g++],e,y,m);if(F!=0){var a=t[M+1],_=a>>16,Q=a>>8&255,V=255&a;B(y,m=n.F._writeLit(257+Q,e,y,m),F-R.of0[Q]),m+=R.exb[Q],S(y,m=n.F._writeLit(V,h,y,m),_-R.df0[V]),m+=R.dxb[V],g+=F}}m=n.F._writeLit(256,e,y,m)}return m},n.F._copyExact=function(r,t,l,s,d){var c=d>>>3;return s[c]=l,s[c+1]=l>>>8,s[c+2]=255-s[c],s[c+3]=255-s[c+1],c+=4,s.set(new Uint8Array(r.buffer,t,l),c),d+(l+4<<3)},n.F.getTrees=function(){for(var r=n.F.U,t=n.F._hufTree(r.lhst,r.ltree,15),l=n.F._hufTree(r.dhst,r.dtree,15),s=[],d=n.F._lenCodes(r.ltree,s),c=[],A=n.F._lenCodes(r.dtree,c),y=0;y<s.length;y+=2)r.ihst[s[y]]++;for(y=0;y<c.length;y+=2)r.ihst[c[y]]++;for(var m=n.F._hufTree(r.ihst,r.itree,7),p=19;p>4&&r.itree[1+(r.ordr[p-1]<<1)]==0;)p--;return[t,l,m,d,A,p,s,c]},n.F.getSecond=function(r){for(var t=[],l=0;l<r.length;l+=2)t.push(r[l+1]);return t},n.F.nonZero=function(r){for(var t="",l=0;l<r.length;l+=2)r[l+1]!=0&&(t+=(l>>1)+",");return t},n.F.contSize=function(r,t){for(var l=0,s=0;s<t.length;s++)l+=t[s]*r[1+(s<<1)];return l},n.F._codeTiny=function(r,t,l,s){for(var d=0;d<r.length;d+=2){var c=r[d],A=r[d+1];s=n.F._writeLit(c,t,l,s);var y=c==16?2:c==17?3:7;c>15&&(n.F._putsE(l,s,A,y),s+=y)}return s},n.F._lenCodes=function(r,t){for(var l=r.length;l!=2&&r[l-1]==0;)l-=2;for(var s=0;s<l;s+=2){var d=r[s+1],c=s+3<l?r[s+3]:-1,A=s+5<l?r[s+5]:-1,y=s==0?-1:r[s-1];if(d==0&&c==d&&A==d){for(var m=s+5;m+2<l&&r[m+2]==d;)m+=2;(p=Math.min(m+1-s>>>1,138))<11?t.push(17,p-3):t.push(18,p-11),s+=2*p-2}else if(d==y&&c==d&&A==d){for(m=s+5;m+2<l&&r[m+2]==d;)m+=2;var p=Math.min(m+1-s>>>1,6);t.push(16,p-3),s+=2*p-2}else t.push(d,0)}return l>>>1},n.F._hufTree=function(r,t,l){var s=[],d=r.length,c=t.length,A=0;for(A=0;A<c;A+=2)t[A]=0,t[A+1]=0;for(A=0;A<d;A++)r[A]!=0&&s.push({lit:A,f:r[A]});var y=s.length,m=s.slice(0);if(y==0)return 0;if(y==1){var p=s[0].lit;return m=p==0?1:0,t[1+(p<<1)]=1,t[1+(m<<1)]=1,1}s.sort(function(q,G){return q.f-G.f});var b=s[0],E=s[1],I=0,L=1,k=2;for(s[0]={lit:-1,f:b.f+E.f,l:b,r:E,d:0};L!=y-1;)b=I!=L&&(k==y||s[I].f<s[k].f)?s[I++]:s[k++],E=I!=L&&(k==y||s[I].f<s[k].f)?s[I++]:s[k++],s[L++]={lit:-1,f:b.f+E.f,l:b,r:E};var C=n.F.setDepth(s[L-1],0);for(C>l&&(n.F.restrictDepth(m,l,C),C=l),A=0;A<y;A++)t[1+(m[A].lit<<1)]=m[A].d;return C},n.F.setDepth=function(r,t){return r.lit!=-1?(r.d=t,t):Math.max(n.F.setDepth(r.l,t+1),n.F.setDepth(r.r,t+1))},n.F.restrictDepth=function(r,t,l){var s=0,d=1<<l-t,c=0;for(r.sort(function(y,m){return m.d==y.d?y.f-m.f:m.d-y.d}),s=0;s<r.length&&r[s].d>t;s++){var A=r[s].d;r[s].d=t,c+=d-(1<<l-A)}for(c>>>=l-t;c>0;)(A=r[s].d)<t?(r[s].d++,c-=1<<t-A-1):s++;for(;s>=0;s--)r[s].d==t&&c<0&&(r[s].d--,c++);c!=0&&console.log("debt left")},n.F._goodIndex=function(r,t){var l=0;return t[16|l]<=r&&(l|=16),t[8|l]<=r&&(l|=8),t[4|l]<=r&&(l|=4),t[2|l]<=r&&(l|=2),t[1|l]<=r&&(l|=1),l},n.F._writeLit=function(r,t,l,s){return n.F._putsF(l,s,t[r<<1]),s+t[1+(r<<1)]},n.F.inflate=function(r,t){var l=Uint8Array;if(r[0]==3&&r[1]==0)return t||new l(0);var s=n.F,d=s._bitsF,c=s._bitsE,A=s._decodeTiny,y=s.makeCodes,m=s.codes2map,p=s._get17,b=s.U,E=t==null;E&&(t=new l(r.length>>>2<<3));for(var I,L,k=0,C=0,q=0,G=0,R=0,S=0,B=0,D=0,O=0;k==0;)if(k=d(r,O,1),C=d(r,O+1,2),O+=3,C!=0){if(E&&(t=n.F._check(t,D+(1<<17))),C==1&&(I=b.flmap,L=b.fdmap,S=511,B=31),C==2){q=c(r,O,5)+257,G=c(r,O+5,5)+1,R=c(r,O+10,4)+4,O+=14;for(var T=0;T<38;T+=2)b.itree[T]=0,b.itree[T+1]=0;var Z=1;for(T=0;T<R;T++){var U=c(r,O+3*T,3);b.itree[1+(b.ordr[T]<<1)]=U,U>Z&&(Z=U)}O+=3*R,y(b.itree,Z),m(b.itree,Z,b.imap),I=b.lmap,L=b.dmap,O=A(b.imap,(1<<Z)-1,q+G,r,O,b.ttree);var e=s._copyOut(b.ttree,0,q,b.ltree);S=(1<<e)-1;var h=s._copyOut(b.ttree,q,G,b.dtree);B=(1<<h)-1,y(b.ltree,e),m(b.ltree,e,I),y(b.dtree,h),m(b.dtree,h,L)}for(;;){var v=I[p(r,O)&S];O+=15&v;var g=v>>>4;if(!(g>>>8))t[D++]=g;else{if(g==256)break;var M=D+g-254;if(g>264){var P=b.ldef[g-257];M=D+(P>>>3)+c(r,O,7&P),O+=7&P}var F=L[p(r,O)&B];O+=15&F;var w=F>>>4,a=b.ddef[w],_=(a>>>4)+d(r,O,15&a);for(O+=15&a,E&&(t=n.F._check(t,D+(1<<17)));D<M;)t[D]=t[D++-_],t[D]=t[D++-_],t[D]=t[D++-_],t[D]=t[D++-_];D=M}}}else{7&O&&(O+=8-(7&O));var Q=4+(O>>>3),V=r[Q-4]|r[Q-3]<<8;E&&(t=n.F._check(t,D+V)),t.set(new l(r.buffer,r.byteOffset+Q,V),D),O=Q+V<<3,D+=V}return t.length==D?t:t.slice(0,D)},n.F._check=function(r,t){var l=r.length;if(t<=l)return r;var s=new Uint8Array(Math.max(l<<1,t));return s.set(r,0),s},n.F._decodeTiny=function(r,t,l,s,d,c){for(var A=n.F._bitsE,y=n.F._get17,m=0;m<l;){var p=r[y(s,d)&t];d+=15&p;var b=p>>>4;if(b<=15)c[m]=b,m++;else{var E=0,I=0;b==16?(I=3+A(s,d,2),d+=2,E=c[m-1]):b==17?(I=3+A(s,d,3),d+=3):b==18&&(I=11+A(s,d,7),d+=7);for(var L=m+I;m<L;)c[m]=E,m++}}return d},n.F._copyOut=function(r,t,l,s){for(var d=0,c=0,A=s.length>>>1;c<l;){var y=r[c+t];s[c<<1]=0,s[1+(c<<1)]=y,y>d&&(d=y),c++}for(;c<A;)s[c<<1]=0,s[1+(c<<1)]=0,c++;return d},n.F.makeCodes=function(r,t){for(var l,s,d,c,A=n.F.U,y=r.length,m=A.bl_count,p=0;p<=t;p++)m[p]=0;for(p=1;p<y;p+=2)m[r[p]]++;var b=A.next_code;for(l=0,m[0]=0,s=1;s<=t;s++)l=l+m[s-1]<<1,b[s]=l;for(d=0;d<y;d+=2)(c=r[d+1])!=0&&(r[d]=b[c],b[c]++)},n.F.codes2map=function(r,t,l){for(var s=r.length,d=n.F.U.rev15,c=0;c<s;c+=2)if(r[c+1]!=0)for(var A=c>>1,y=r[c+1],m=A<<4|y,p=t-y,b=r[c]<<p,E=b+(1<<p);b!=E;)l[d[b]>>>15-t]=m,b++},n.F.revCodes=function(r,t){for(var l=n.F.U.rev15,s=15-t,d=0;d<r.length;d+=2){var c=r[d]<<t-r[d+1];r[d]=l[c]>>>s}},n.F._putsE=function(r,t,l){l<<=7&t;var s=t>>>3;r[s]|=l,r[s+1]|=l>>>8},n.F._putsF=function(r,t,l){l<<=7&t;var s=t>>>3;r[s]|=l,r[s+1]|=l>>>8,r[s+2]|=l>>>16},n.F._bitsE=function(r,t,l){return(r[t>>>3]|r[1+(t>>>3)]<<8)>>>(7&t)&(1<<l)-1},n.F._bitsF=function(r,t,l){return(r[t>>>3]|r[1+(t>>>3)]<<8|r[2+(t>>>3)]<<16)>>>(7&t)&(1<<l)-1},n.F._get17=function(r,t){return(r[t>>>3]|r[1+(t>>>3)]<<8|r[2+(t>>>3)]<<16)>>>(7&t)},n.F._get25=function(r,t){return(r[t>>>3]|r[1+(t>>>3)]<<8|r[2+(t>>>3)]<<16|r[3+(t>>>3)]<<24)>>>(7&t)},n.F.U=(f=Uint16Array,u=Uint32Array,{next_code:new f(16),bl_count:new f(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new f(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new u(32),flmap:new f(512),fltree:[],fdmap:new f(32),fdtree:[],lmap:new f(32768),ltree:[],ttree:[],dmap:new f(32768),dtree:[],imap:new f(512),itree:[],rev15:new f(32768),lhst:new u(286),dhst:new u(30),ihst:new u(19),lits:new u(15e3),strt:new f(65536),prev:new f(32768)}),function(){for(var r=n.F.U,t=0;t<32768;t++){var l=t;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,r.rev15[t]=(l>>>16|l<<16)>>>17}function s(d,c,A){for(;c--!=0;)d.push(0,A)}for(t=0;t<32;t++)r.ldef[t]=r.of0[t]<<3|r.exb[t],r.ddef[t]=r.df0[t]<<4|r.dxb[t];s(r.fltree,144,8),s(r.fltree,112,9),s(r.fltree,24,7),s(r.fltree,8,8),n.F.makeCodes(r.fltree,9),n.F.codes2map(r.fltree,9,r.flmap),n.F.revCodes(r.fltree,9),s(r.fdtree,32,5),n.F.makeCodes(r.fdtree,5),n.F.codes2map(r.fdtree,5,r.fdmap),n.F.revCodes(r.fdtree,5),s(r.itree,19,0),s(r.ltree,286,0),s(r.dtree,30,0),s(r.ttree,320,0)}()}),UZIP=Object.freeze(_mergeNamespaces({__proto__:null,default:UZIP_1},[UZIP_1])),UPNG={},N,W,H;UPNG.toRGBA8=function(i){var f=i.width,u=i.height;if(i.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(i.data,f,u,i).buffer];var n=[];i.frames[0].data==null&&(i.frames[0].data=i.data);for(var r=f*u*4,t=new Uint8Array(r),l=new Uint8Array(r),s=new Uint8Array(r),d=0;d<i.frames.length;d++){var c=i.frames[d],A=c.rect.x,y=c.rect.y,m=c.rect.width,p=c.rect.height,b=UPNG.toRGBA8.decodeImage(c.data,m,p,i);if(d!=0)for(var E=0;E<r;E++)s[E]=t[E];if(c.blend==0?UPNG._copyTile(b,m,p,t,f,u,A,y,0):c.blend==1&&UPNG._copyTile(b,m,p,t,f,u,A,y,1),n.push(t.buffer.slice(0)),c.dispose!=0){if(c.dispose==1)UPNG._copyTile(l,m,p,t,f,u,A,y,0);else if(c.dispose==2)for(E=0;E<r;E++)t[E]=s[E]}}return n},UPNG.toRGBA8.decodeImage=function(i,f,u,n){var r=f*u,t=UPNG.decode._getBPP(n),l=Math.ceil(f*t/8),s=new Uint8Array(4*r),d=new Uint32Array(s.buffer),c=n.ctype,A=n.depth,y=UPNG._bin.readUshort;if(c==6){var m=r<<2;if(A==8)for(var p=0;p<m;p+=4)s[p]=i[p],s[p+1]=i[p+1],s[p+2]=i[p+2],s[p+3]=i[p+3];if(A==16)for(p=0;p<m;p++)s[p]=i[p<<1]}else if(c==2){var b=n.tabs.tRNS;if(b==null){if(A==8)for(p=0;p<r;p++){var E=3*p;d[p]=255<<24|i[E+2]<<16|i[E+1]<<8|i[E]}if(A==16)for(p=0;p<r;p++)E=6*p,d[p]=255<<24|i[E+4]<<16|i[E+2]<<8|i[E]}else{var I=b[0],L=b[1],k=b[2];if(A==8)for(p=0;p<r;p++){var C=p<<2;E=3*p,d[p]=255<<24|i[E+2]<<16|i[E+1]<<8|i[E],i[E]==I&&i[E+1]==L&&i[E+2]==k&&(s[C+3]=0)}if(A==16)for(p=0;p<r;p++)C=p<<2,E=6*p,d[p]=255<<24|i[E+4]<<16|i[E+2]<<8|i[E],y(i,E)==I&&y(i,E+2)==L&&y(i,E+4)==k&&(s[C+3]=0)}}else if(c==3){var q=n.tabs.PLTE,G=n.tabs.tRNS,R=G?G.length:0;if(A==1)for(var S=0;S<u;S++){var B=S*l,D=S*f;for(p=0;p<f;p++){C=D+p<<2;var O=3*(T=i[B+(p>>3)]>>7-((7&p)<<0)&1);s[C]=q[O],s[C+1]=q[O+1],s[C+2]=q[O+2],s[C+3]=T<R?G[T]:255}}if(A==2)for(S=0;S<u;S++)for(B=S*l,D=S*f,p=0;p<f;p++)C=D+p<<2,O=3*(T=i[B+(p>>2)]>>6-((3&p)<<1)&3),s[C]=q[O],s[C+1]=q[O+1],s[C+2]=q[O+2],s[C+3]=T<R?G[T]:255;if(A==4)for(S=0;S<u;S++)for(B=S*l,D=S*f,p=0;p<f;p++)C=D+p<<2,O=3*(T=i[B+(p>>1)]>>4-((1&p)<<2)&15),s[C]=q[O],s[C+1]=q[O+1],s[C+2]=q[O+2],s[C+3]=T<R?G[T]:255;if(A==8)for(p=0;p<r;p++){var T;C=p<<2,O=3*(T=i[p]),s[C]=q[O],s[C+1]=q[O+1],s[C+2]=q[O+2],s[C+3]=T<R?G[T]:255}}else if(c==4){if(A==8)for(p=0;p<r;p++){C=p<<2;var Z=i[U=p<<1];s[C]=Z,s[C+1]=Z,s[C+2]=Z,s[C+3]=i[U+1]}if(A==16)for(p=0;p<r;p++){var U;C=p<<2,Z=i[U=p<<2],s[C]=Z,s[C+1]=Z,s[C+2]=Z,s[C+3]=i[U+2]}}else if(c==0)for(I=n.tabs.tRNS?n.tabs.tRNS:-1,S=0;S<u;S++){var e=S*l,h=S*f;if(A==1)for(var v=0;v<f;v++){var g=(Z=255*(i[e+(v>>>3)]>>>7-(7&v)&1))==255*I?0:255;d[h+v]=g<<24|Z<<16|Z<<8|Z}else if(A==2)for(v=0;v<f;v++)g=(Z=85*(i[e+(v>>>2)]>>>6-((3&v)<<1)&3))==85*I?0:255,d[h+v]=g<<24|Z<<16|Z<<8|Z;else if(A==4)for(v=0;v<f;v++)g=(Z=17*(i[e+(v>>>1)]>>>4-((1&v)<<2)&15))==17*I?0:255,d[h+v]=g<<24|Z<<16|Z<<8|Z;else if(A==8)for(v=0;v<f;v++)g=(Z=i[e+v])==I?0:255,d[h+v]=g<<24|Z<<16|Z<<8|Z;else if(A==16)for(v=0;v<f;v++)Z=i[e+(v<<1)],g=y(i,e+(v<<p))==I?0:255,d[h+v]=g<<24|Z<<16|Z<<8|Z}return s},UPNG.decode=function(i){for(var f,u=new Uint8Array(i),n=8,r=UPNG._bin,t=r.readUshort,l=r.readUint,s={tabs:{},frames:[]},d=new Uint8Array(u.length),c=0,A=0,y=[137,80,78,71,13,10,26,10],m=0;m<8;m++)if(u[m]!=y[m])throw"The input is not a PNG file!";for(;n<u.length;){var p=r.readUint(u,n);n+=4;var b=r.readASCII(u,n,4);if(n+=4,b=="IHDR")UPNG.decode._IHDR(u,n,s);else if(b=="CgBI")s.tabs[b]=u.slice(n,n+4);else if(b=="IDAT"){for(m=0;m<p;m++)d[c+m]=u[n+m];c+=p}else if(b=="acTL")s.tabs[b]={num_frames:l(u,n),num_plays:l(u,n+4)},f=new Uint8Array(u.length);else if(b=="fcTL"){var E;A!=0&&((E=s.frames[s.frames.length-1]).data=UPNG.decode._decompress(s,f.slice(0,A),E.rect.width,E.rect.height),A=0);var I={x:l(u,n+12),y:l(u,n+16),width:l(u,n+4),height:l(u,n+8)},L=t(u,n+22);L=t(u,n+20)/(L==0?100:L);var k={rect:I,delay:Math.round(1e3*L),dispose:u[n+24],blend:u[n+25]};s.frames.push(k)}else if(b=="fdAT"){for(m=0;m<p-4;m++)f[A+m]=u[n+m+4];A+=p-4}else if(b=="pHYs")s.tabs[b]=[r.readUint(u,n),r.readUint(u,n+4),u[n+8]];else if(b=="cHRM")for(s.tabs[b]=[],m=0;m<8;m++)s.tabs[b].push(r.readUint(u,n+4*m));else if(b=="tEXt"||b=="zTXt"){s.tabs[b]==null&&(s.tabs[b]={});var C=r.nextZero(u,n),q=r.readASCII(u,n,C-n),G=n+p-C-1;if(b=="tEXt")B=r.readASCII(u,C+1,G);else{var R=UPNG.decode._inflate(u.slice(C+2,C+2+G));B=r.readUTF8(R,0,R.length)}s.tabs[b][q]=B}else if(b=="iTXt"){s.tabs[b]==null&&(s.tabs[b]={}),C=0;var S=n;C=r.nextZero(u,S),q=r.readASCII(u,S,C-S);var B,D=u[S=C+1];u[S+1],S+=2,C=r.nextZero(u,S),r.readASCII(u,S,C-S),S=C+1,C=r.nextZero(u,S),r.readUTF8(u,S,C-S),G=p-((S=C+1)-n),D==0?B=r.readUTF8(u,S,G):(R=UPNG.decode._inflate(u.slice(S,S+G)),B=r.readUTF8(R,0,R.length)),s.tabs[b][q]=B}else if(b=="PLTE")s.tabs[b]=r.readBytes(u,n,p);else if(b=="hIST"){var O=s.tabs.PLTE.length/3;for(s.tabs[b]=[],m=0;m<O;m++)s.tabs[b].push(t(u,n+2*m))}else if(b=="tRNS")s.ctype==3?s.tabs[b]=r.readBytes(u,n,p):s.ctype==0?s.tabs[b]=t(u,n):s.ctype==2&&(s.tabs[b]=[t(u,n),t(u,n+2),t(u,n+4)]);else if(b=="gAMA")s.tabs[b]=r.readUint(u,n)/1e5;else if(b=="sRGB")s.tabs[b]=u[n];else if(b=="bKGD")s.ctype==0||s.ctype==4?s.tabs[b]=[t(u,n)]:s.ctype==2||s.ctype==6?s.tabs[b]=[t(u,n),t(u,n+2),t(u,n+4)]:s.ctype==3&&(s.tabs[b]=u[n]);else if(b=="IEND")break;n+=p,r.readUint(u,n),n+=4}return A!=0&&((E=s.frames[s.frames.length-1]).data=UPNG.decode._decompress(s,f.slice(0,A),E.rect.width,E.rect.height),A=0),s.data=UPNG.decode._decompress(s,d,s.width,s.height),delete s.compress,delete s.interlace,delete s.filter,s},UPNG.decode._decompress=function(i,f,u,n){var r=UPNG.decode._getBPP(i),t=Math.ceil(u*r/8),l=new Uint8Array((t+1+i.interlace)*n);return f=i.tabs.CgBI?UPNG.inflateRaw(f,l):UPNG.decode._inflate(f,l),i.interlace==0?f=UPNG.decode._filterZero(f,i,0,u,n):i.interlace==1&&(f=UPNG.decode._readInterlace(f,i)),f},UPNG.decode._inflate=function(i,f){return UPNG.inflateRaw(new Uint8Array(i.buffer,2,i.length-6),f)},UPNG.inflateRaw=(H={},H.H={},H.H.N=function(i,f){var u,n,r=Uint8Array,t=0,l=0,s=0,d=0,c=0,A=0,y=0,m=0,p=0;if(i[0]==3&&i[1]==0)return f||new r(0);var b=H.H,E=b.b,I=b.e,L=b.R,k=b.n,C=b.A,q=b.Z,G=b.m,R=f==null;for(R&&(f=new r(i.length>>>2<<5));t==0;)if(t=E(i,p,1),l=E(i,p+1,2),p+=3,l!=0){if(R&&(f=H.H.W(f,m+(1<<17))),l==1&&(u=G.J,n=G.h,A=511,y=31),l==2){s=I(i,p,5)+257,d=I(i,p+5,5)+1,c=I(i,p+10,4)+4,p+=14;for(var S=1,B=0;B<38;B+=2)G.Q[B]=0,G.Q[B+1]=0;for(B=0;B<c;B++){var D=I(i,p+3*B,3);G.Q[1+(G.X[B]<<1)]=D,D>S&&(S=D)}p+=3*c,k(G.Q,S),C(G.Q,S,G.u),u=G.w,n=G.d,p=L(G.u,(1<<S)-1,s+d,i,p,G.v);var O=b.V(G.v,0,s,G.C);A=(1<<O)-1;var T=b.V(G.v,s,d,G.D);y=(1<<T)-1,k(G.C,O),C(G.C,O,u),k(G.D,T),C(G.D,T,n)}for(;;){var Z=u[q(i,p)&A];p+=15&Z;var U=Z>>>4;if(!(U>>>8))f[m++]=U;else{if(U==256)break;var e=m+U-254;if(U>264){var h=G.q[U-257];e=m+(h>>>3)+I(i,p,7&h),p+=7&h}var v=n[q(i,p)&y];p+=15&v;var g=v>>>4,M=G.c[g],P=(M>>>4)+E(i,p,15&M);for(p+=15&M;m<e;)f[m]=f[m++-P],f[m]=f[m++-P],f[m]=f[m++-P],f[m]=f[m++-P];m=e}}}else{7&p&&(p+=8-(7&p));var F=4+(p>>>3),w=i[F-4]|i[F-3]<<8;R&&(f=H.H.W(f,m+w)),f.set(new r(i.buffer,i.byteOffset+F,w),m),p=F+w<<3,m+=w}return f.length==m?f:f.slice(0,m)},H.H.W=function(i,f){var u=i.length;if(f<=u)return i;var n=new Uint8Array(u<<1);return n.set(i,0),n},H.H.R=function(i,f,u,n,r,t){for(var l=H.H.e,s=H.H.Z,d=0;d<u;){var c=i[s(n,r)&f];r+=15&c;var A=c>>>4;if(A<=15)t[d]=A,d++;else{var y=0,m=0;A==16?(m=3+l(n,r,2),r+=2,y=t[d-1]):A==17?(m=3+l(n,r,3),r+=3):A==18&&(m=11+l(n,r,7),r+=7);for(var p=d+m;d<p;)t[d]=y,d++}}return r},H.H.V=function(i,f,u,n){for(var r=0,t=0,l=n.length>>>1;t<u;){var s=i[t+f];n[t<<1]=0,n[1+(t<<1)]=s,s>r&&(r=s),t++}for(;t<l;)n[t<<1]=0,n[1+(t<<1)]=0,t++;return r},H.H.n=function(i,f){for(var u,n,r,t,l=H.H.m,s=i.length,d=l.j,c=0;c<=f;c++)d[c]=0;for(c=1;c<s;c+=2)d[i[c]]++;var A=l.K;for(u=0,d[0]=0,n=1;n<=f;n++)u=u+d[n-1]<<1,A[n]=u;for(r=0;r<s;r+=2)(t=i[r+1])!=0&&(i[r]=A[t],A[t]++)},H.H.A=function(i,f,u){for(var n=i.length,r=H.H.m.r,t=0;t<n;t+=2)if(i[t+1]!=0)for(var l=t>>1,s=i[t+1],d=l<<4|s,c=f-s,A=i[t]<<c,y=A+(1<<c);A!=y;)u[r[A]>>>15-f]=d,A++},H.H.l=function(i,f){for(var u=H.H.m.r,n=15-f,r=0;r<i.length;r+=2){var t=i[r]<<f-i[r+1];i[r]=u[t]>>>n}},H.H.M=function(i,f,u){u<<=7&f;var n=f>>>3;i[n]|=u,i[n+1]|=u>>>8},H.H.I=function(i,f,u){u<<=7&f;var n=f>>>3;i[n]|=u,i[n+1]|=u>>>8,i[n+2]|=u>>>16},H.H.e=function(i,f,u){return(i[f>>>3]|i[1+(f>>>3)]<<8)>>>(7&f)&(1<<u)-1},H.H.b=function(i,f,u){return(i[f>>>3]|i[1+(f>>>3)]<<8|i[2+(f>>>3)]<<16)>>>(7&f)&(1<<u)-1},H.H.Z=function(i,f){return(i[f>>>3]|i[1+(f>>>3)]<<8|i[2+(f>>>3)]<<16)>>>(7&f)},H.H.i=function(i,f){return(i[f>>>3]|i[1+(f>>>3)]<<8|i[2+(f>>>3)]<<16|i[3+(f>>>3)]<<24)>>>(7&f)},H.H.m=(N=Uint16Array,W=Uint32Array,{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(32768),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(65536),g:new N(32768)}),function(){for(var i=H.H.m,f=0;f<32768;f++){var u=f;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,i.r[f]=(u>>>16|u<<16)>>>17}function n(r,t,l){for(;t--!=0;)r.push(0,l)}for(f=0;f<32;f++)i.q[f]=i.S[f]<<3|i.T[f],i.c[f]=i.p[f]<<4|i.z[f];n(i._,144,8),n(i._,112,9),n(i._,24,7),n(i._,8,8),H.H.n(i._,9),H.H.A(i._,9,i.J),H.H.l(i._,9),n(i.$,32,5),H.H.n(i.$,5),H.H.A(i.$,5,i.h),H.H.l(i.$,5),n(i.Q,19,0),n(i.C,286,0),n(i.D,30,0),n(i.v,320,0)}(),H.H.N),UPNG.decode._readInterlace=function(i,f){for(var u=f.width,n=f.height,r=UPNG.decode._getBPP(f),t=r>>3,l=Math.ceil(u*r/8),s=new Uint8Array(n*l),d=0,c=[0,0,4,0,2,0,1],A=[0,4,0,2,0,1,0],y=[8,8,8,4,4,2,2],m=[8,8,4,4,2,2,1],p=0;p<7;){for(var b=y[p],E=m[p],I=0,L=0,k=c[p];k<n;)k+=b,L++;for(var C=A[p];C<u;)C+=E,I++;var q=Math.ceil(I*r/8);UPNG.decode._filterZero(i,f,d,I,L);for(var G=0,R=c[p];R<n;){for(var S=A[p],B=d+G*q<<3;S<u;){var D;if(r==1&&(D=(D=i[B>>3])>>7-(7&B)&1,s[R*l+(S>>3)]|=D<<7-((7&S)<<0)),r==2&&(D=(D=i[B>>3])>>6-(7&B)&3,s[R*l+(S>>2)]|=D<<6-((3&S)<<1)),r==4&&(D=(D=i[B>>3])>>4-(7&B)&15,s[R*l+(S>>1)]|=D<<4-((1&S)<<2)),r>=8)for(var O=R*l+S*t,T=0;T<t;T++)s[O+T]=i[(B>>3)+T];B+=r,S+=E}G++,R+=b}I*L!=0&&(d+=L*(1+q)),p+=1}return s},UPNG.decode._getBPP=function(i){return[1,null,3,1,2,null,4][i.ctype]*i.depth},UPNG.decode._filterZero=function(i,f,u,n,r){var t=UPNG.decode._getBPP(f),l=Math.ceil(n*t/8),s=UPNG.decode._paeth;t=Math.ceil(t/8);var d=0,c=1,A=i[u],y=0;if(A>1&&(i[u]=[0,0,1][A-2]),A==3)for(y=t;y<l;y++)i[y+1]=i[y+1]+(i[y+1-t]>>>1)&255;for(var m=0;m<r;m++)if(y=0,(A=i[(c=(d=u+m*l)+m+1)-1])==0)for(;y<l;y++)i[d+y]=i[c+y];else if(A==1){for(;y<t;y++)i[d+y]=i[c+y];for(;y<l;y++)i[d+y]=i[c+y]+i[d+y-t]}else if(A==2)for(;y<l;y++)i[d+y]=i[c+y]+i[d+y-l];else if(A==3){for(;y<t;y++)i[d+y]=i[c+y]+(i[d+y-l]>>>1);for(;y<l;y++)i[d+y]=i[c+y]+(i[d+y-l]+i[d+y-t]>>>1)}else{for(;y<t;y++)i[d+y]=i[c+y]+s(0,i[d+y-l],0);for(;y<l;y++)i[d+y]=i[c+y]+s(i[d+y-t],i[d+y-l],i[d+y-t-l])}return i},UPNG.decode._paeth=function(i,f,u){var n=i+f-u,r=n-i,t=n-f,l=n-u;return r*r<=t*t&&r*r<=l*l?i:t*t<=l*l?f:u},UPNG.decode._IHDR=function(i,f,u){var n=UPNG._bin;u.width=n.readUint(i,f),f+=4,u.height=n.readUint(i,f),f+=4,u.depth=i[f],f++,u.ctype=i[f],f++,u.compress=i[f],f++,u.filter=i[f],f++,u.interlace=i[f],f++},UPNG._bin={nextZero:function(f,u){for(;f[u]!=0;)u++;return u},readUshort:function(f,u){return f[u]<<8|f[u+1]},writeUshort:function(f,u,n){f[u]=n>>8&255,f[u+1]=255&n},readUint:function(f,u){return 16777216*f[u]+(f[u+1]<<16|f[u+2]<<8|f[u+3])},writeUint:function(f,u,n){f[u]=n>>24&255,f[u+1]=n>>16&255,f[u+2]=n>>8&255,f[u+3]=255&n},readASCII:function(f,u,n){for(var r="",t=0;t<n;t++)r+=String.fromCharCode(f[u+t]);return r},writeASCII:function(f,u,n){for(var r=0;r<n.length;r++)f[u+r]=n.charCodeAt(r)},readBytes:function(f,u,n){for(var r=[],t=0;t<n;t++)r.push(f[u+t]);return r},pad:function(f){return f.length<2?"0".concat(f):f},readUTF8:function(f,u,n){for(var r,t="",l=0;l<n;l++)t+="%".concat(UPNG._bin.pad(f[u+l].toString(16)));try{r=decodeURIComponent(t)}catch{return UPNG._bin.readASCII(f,u,n)}return r}},UPNG._copyTile=function(i,f,u,n,r,t,l,s,d){for(var c=Math.min(f,r),A=Math.min(u,t),y=0,m=0,p=0;p<A;p++)for(var b=0;b<c;b++)if(l>=0&&s>=0?(y=p*f+b<<2,m=(s+p)*r+l+b<<2):(y=(-s+p)*f-l+b<<2,m=p*r+b<<2),d==0)n[m]=i[y],n[m+1]=i[y+1],n[m+2]=i[y+2],n[m+3]=i[y+3];else if(d==1){var E=i[y+3]*.00392156862745098,I=i[y]*E,L=i[y+1]*E,k=i[y+2]*E,C=n[m+3]*(1/255),q=n[m]*C,G=n[m+1]*C,R=n[m+2]*C,S=1-E,B=E+C*S,D=B==0?0:1/B;n[m+3]=255*B,n[m+0]=(I+q*S)*D,n[m+1]=(L+G*S)*D,n[m+2]=(k+R*S)*D}else if(d==2)E=i[y+3],I=i[y],L=i[y+1],k=i[y+2],C=n[m+3],q=n[m],G=n[m+1],R=n[m+2],E==C&&I==q&&L==G&&k==R?(n[m]=0,n[m+1]=0,n[m+2]=0,n[m+3]=0):(n[m]=I,n[m+1]=L,n[m+2]=k,n[m+3]=E);else if(d==3){if(E=i[y+3],I=i[y],L=i[y+1],k=i[y+2],C=n[m+3],q=n[m],G=n[m+1],R=n[m+2],E==C&&I==q&&L==G&&k==R)continue;if(E<220&&C>20)return!1}return!0},UPNG.encode=function(i,f,u,n,r,t,l){n==null&&(n=0),l==null&&(l=!1);var s=UPNG.encode.compress(i,f,u,n,[!1,!1,!1,0,l]);return UPNG.encode.compressPNG(s,-1),UPNG.encode._main(s,f,u,r,t)},UPNG.encodeLL=function(i,f,u,n,r,t,l,s){for(var d={ctype:0+(n==1?0:2)+(r==0?0:4),depth:t,frames:[]},c=(n+r)*t,A=c*f,y=0;y<i.length;y++)d.frames.push({rect:{x:0,y:0,width:f,height:u},img:new Uint8Array(i[y]),blend:0,dispose:1,bpp:Math.ceil(c/8),bpl:Math.ceil(A/8)});return UPNG.encode.compressPNG(d,0,!0),UPNG.encode._main(d,f,u,l,s)},UPNG.encode._main=function(i,f,u,n,r){r==null&&(r={});var t=UPNG.crc.crc,l=UPNG._bin.writeUint,s=UPNG._bin.writeUshort,d=UPNG._bin.writeASCII,c=8,A=i.frames.length>1,y=!1,m=33+(A?20:0);if(r.sRGB!=null&&(m+=13),r.pHYs!=null&&(m+=21),i.ctype==3){for(var p=i.plte.length,b=0;b<p;b++)i.plte[b]>>>24!=255&&(y=!0);m+=8+3*p+4+(y?8+1*p+4:0)}for(var E=0;E<i.frames.length;E++)A&&(m+=38),m+=(B=i.frames[E]).cimg.length+12,E!=0&&(m+=4);m+=12;var I=new Uint8Array(m),L=[137,80,78,71,13,10,26,10];for(b=0;b<8;b++)I[b]=L[b];if(l(I,c,13),d(I,c+=4,"IHDR"),l(I,c+=4,f),l(I,c+=4,u),I[c+=4]=i.depth,I[++c]=i.ctype,I[++c]=0,I[++c]=0,I[++c]=0,l(I,++c,t(I,c-17,17)),c+=4,r.sRGB!=null&&(l(I,c,1),d(I,c+=4,"sRGB"),I[c+=4]=r.sRGB,l(I,++c,t(I,c-5,5)),c+=4),r.pHYs!=null&&(l(I,c,9),d(I,c+=4,"pHYs"),l(I,c+=4,r.pHYs[0]),l(I,c+=4,r.pHYs[1]),I[c+=4]=r.pHYs[2],l(I,++c,t(I,c-13,13)),c+=4),A&&(l(I,c,8),d(I,c+=4,"acTL"),l(I,c+=4,i.frames.length),l(I,c+=4,r.loop!=null?r.loop:0),l(I,c+=4,t(I,c-12,12)),c+=4),i.ctype==3){for(l(I,c,3*(p=i.plte.length)),d(I,c+=4,"PLTE"),c+=4,b=0;b<p;b++){var k=3*b,C=i.plte[b],q=255&C,G=C>>>8&255,R=C>>>16&255;I[c+k+0]=q,I[c+k+1]=G,I[c+k+2]=R}if(l(I,c+=3*p,t(I,c-3*p-4,3*p+4)),c+=4,y){for(l(I,c,p),d(I,c+=4,"tRNS"),c+=4,b=0;b<p;b++)I[c+b]=i.plte[b]>>>24&255;l(I,c+=p,t(I,c-p-4,p+4)),c+=4}}var S=0;for(E=0;E<i.frames.length;E++){var B=i.frames[E];A&&(l(I,c,26),d(I,c+=4,"fcTL"),l(I,c+=4,S++),l(I,c+=4,B.rect.width),l(I,c+=4,B.rect.height),l(I,c+=4,B.rect.x),l(I,c+=4,B.rect.y),s(I,c+=4,n[E]),s(I,c+=2,1e3),I[c+=2]=B.dispose,I[++c]=B.blend,l(I,++c,t(I,c-30,30)),c+=4);var D=B.cimg;l(I,c,(p=D.length)+(E==0?0:4));var O=c+=4;d(I,c,E==0?"IDAT":"fdAT"),c+=4,E!=0&&(l(I,c,S++),c+=4),I.set(D,c),l(I,c+=p,t(I,O,c-O)),c+=4}return l(I,c,0),d(I,c+=4,"IEND"),l(I,c+=4,t(I,c-4,4)),c+=4,I.buffer},UPNG.encode.compressPNG=function(i,f,u){for(var n=0;n<i.frames.length;n++){var r=i.frames[n];r.rect.width;var t=r.rect.height,l=new Uint8Array(t*r.bpl+t);r.cimg=UPNG.encode._filterZero(r.img,t,r.bpp,r.bpl,l,f,u)}},UPNG.encode.compress=function(i,f,u,n,r){for(var t=r[0],l=r[1],s=r[2],d=r[3],c=r[4],A=6,y=8,m=255,p=0;p<i.length;p++)for(var b=new Uint8Array(i[p]),E=b.length,I=0;I<E;I+=4)m&=b[I+3];var L=m!=255,k=UPNG.encode.framize(i,f,u,t,l,s),C={},q=[],G=[];if(n!=0){var R=[];for(I=0;I<k.length;I++)R.push(k[I].img.buffer);var S=UPNG.encode.concatRGBA(R),B=UPNG.quantize(S,n),D=0,O=new Uint8Array(B.abuf);for(I=0;I<k.length;I++){var T=($=k[I].img).length;for(G.push(new Uint8Array(B.inds.buffer,D>>2,T>>2)),p=0;p<T;p+=4)$[p]=O[D+p],$[p+1]=O[D+p+1],$[p+2]=O[D+p+2],$[p+3]=O[D+p+3];D+=T}for(I=0;I<B.plte.length;I++)q.push(B.plte[I].est.rgba)}else for(p=0;p<k.length;p++){var Z=k[p],U=new Uint32Array(Z.img.buffer),e=Z.rect.width,h=(E=U.length,new Uint8Array(E));for(G.push(h),I=0;I<E;I++){var v=U[I];if(I!=0&&v==U[I-1])h[I]=h[I-1];else if(I>e&&v==U[I-e])h[I]=h[I-e];else{var g=C[v];if(g==null&&(C[v]=g=q.length,q.push(v),q.length>=300))break;h[I]=g}}}var M=q.length;for(M<=256&&c==0&&(y=M<=2?1:M<=4?2:M<=16?4:8,y=Math.max(y,d)),p=0;p<k.length;p++){(Z=k[p]).rect.x,Z.rect.y,e=Z.rect.width;var P=Z.rect.height,F=Z.img;new Uint32Array(F.buffer);var w=4*e,a=4;if(M<=256&&c==0){w=Math.ceil(y*e/8);for(var _=new Uint8Array(w*P),Q=G[p],V=0;V<P;V++){I=V*w;var j=V*e;if(y==8)for(var K=0;K<e;K++)_[I+K]=Q[j+K];else if(y==4)for(K=0;K<e;K++)_[I+(K>>1)]|=Q[j+K]<<4-4*(1&K);else if(y==2)for(K=0;K<e;K++)_[I+(K>>2)]|=Q[j+K]<<6-2*(3&K);else if(y==1)for(K=0;K<e;K++)_[I+(K>>3)]|=Q[j+K]<<7-1*(7&K)}F=_,A=3,a=1}else if(L==0&&k.length==1){_=new Uint8Array(e*P*3);var J=e*P;for(I=0;I<J;I++){var $,Bt=4*I;_[$=3*I]=F[Bt],_[$+1]=F[Bt+1],_[$+2]=F[Bt+2]}F=_,A=2,a=3,w=3*e}Z.img=F,Z.bpl=w,Z.bpp=a}return{ctype:A,depth:y,plte:q,frames:k}},UPNG.encode.framize=function(i,f,u,n,r,t){for(var l=[],s=0;s<i.length;s++){var d,c=new Uint8Array(i[s]),A=new Uint32Array(c.buffer),y=0,m=0,p=f,b=u,E=n?1:0;if(s!=0){for(var I=t||n||s==1||l[s-2].dispose!=0?1:2,L=0,k=1e9,C=0;C<I;C++){for(var q=new Uint8Array(i[s-1-C]),G=new Uint32Array(i[s-1-C]),R=f,S=u,B=-1,D=-1,O=0;O<u;O++)for(var T=0;T<f;T++)A[M=O*f+T]!=G[M]&&(T<R&&(R=T),T>B&&(B=T),O<S&&(S=O),O>D&&(D=O));B==-1&&(R=S=B=D=0),r&&((1&R)==1&&R--,(1&S)==1&&S--);var Z=(B-R+1)*(D-S+1);Z<k&&(k=Z,L=C,y=R,m=S,p=B-R+1,b=D-S+1)}q=new Uint8Array(i[s-1-L]),L==1&&(l[s-1].dispose=2),d=new Uint8Array(p*b*4),UPNG._copyTile(q,f,u,d,p,b,-y,-m,0),(E=UPNG._copyTile(c,f,u,d,p,b,-y,-m,3)?1:0)==1?UPNG.encode._prepareDiff(c,f,u,d,{x:y,y:m,width:p,height:b}):UPNG._copyTile(c,f,u,d,p,b,-y,-m,0)}else d=c.slice(0);l.push({rect:{x:y,y:m,width:p,height:b},img:d,blend:E,dispose:0})}if(n){for(s=0;s<l.length;s++)if((P=l[s]).blend!=1){var U=P.rect,e=l[s-1].rect,h=Math.min(U.x,e.x),v=Math.min(U.y,e.y),g={x:h,y:v,width:Math.max(U.x+U.width,e.x+e.width)-h,height:Math.max(U.y+U.height,e.y+e.height)-v};l[s-1].dispose=1,s-1!=0&&UPNG.encode._updateFrame(i,f,u,l,s-1,g,r),UPNG.encode._updateFrame(i,f,u,l,s,g,r)}}if(i.length!=1)for(var M=0;M<l.length;M++){var P;(P=l[M]).rect.width*P.rect.height}return l},UPNG.encode._updateFrame=function(i,f,u,n,r,t,l){for(var s=Uint8Array,d=Uint32Array,c=new s(i[r-1]),A=new d(i[r-1]),y=r+1<i.length?new s(i[r+1]):null,m=new s(i[r]),p=new d(m.buffer),b=f,E=u,I=-1,L=-1,k=0;k<t.height;k++)for(var C=0;C<t.width;C++){var q=t.x+C,G=t.y+k,R=G*f+q,S=p[R];S==0||n[r-1].dispose==0&&A[R]==S&&(y==null||y[4*R+3]!=0)||(q<b&&(b=q),q>I&&(I=q),G<E&&(E=G),G>L&&(L=G))}I==-1&&(b=E=I=L=0),l&&((1&b)==1&&b--,(1&E)==1&&E--),t={x:b,y:E,width:I-b+1,height:L-E+1};var B=n[r];B.rect=t,B.blend=1,B.img=new Uint8Array(t.width*t.height*4),n[r-1].dispose==0?(UPNG._copyTile(c,f,u,B.img,t.width,t.height,-t.x,-t.y,0),UPNG.encode._prepareDiff(m,f,u,B.img,t)):UPNG._copyTile(m,f,u,B.img,t.width,t.height,-t.x,-t.y,0)},UPNG.encode._prepareDiff=function(i,f,u,n,r){UPNG._copyTile(i,f,u,n,r.width,r.height,-r.x,-r.y,2)},UPNG.encode._filterZero=function(i,f,u,n,r,t,l){var s,d=[],c=[0,1,2,3,4];t!=-1?c=[t]:(f*n>5e5||u==1)&&(c=[0]),l&&(s={level:0});for(var A,y=UZIP,m=0;m<c.length;m++){for(var p=0;p<f;p++)UPNG.encode._filterLine(r,i,p,n,u,c[m]);d.push(y.deflate(r,s))}var b=1e9;for(m=0;m<d.length;m++)d[m].length<b&&(A=m,b=d[m].length);return d[A]},UPNG.encode._filterLine=function(i,f,u,n,r,t){var l=u*n,s=l+u,d=UPNG.decode._paeth;if(i[s]=t,s++,t==0)if(n<500)for(var c=0;c<n;c++)i[s+c]=f[l+c];else i.set(new Uint8Array(f.buffer,l,n),s);else if(t==1){for(c=0;c<r;c++)i[s+c]=f[l+c];for(c=r;c<n;c++)i[s+c]=f[l+c]-f[l+c-r]+256&255}else if(u==0){for(c=0;c<r;c++)i[s+c]=f[l+c];if(t==2)for(c=r;c<n;c++)i[s+c]=f[l+c];if(t==3)for(c=r;c<n;c++)i[s+c]=f[l+c]-(f[l+c-r]>>1)+256&255;if(t==4)for(c=r;c<n;c++)i[s+c]=f[l+c]-d(f[l+c-r],0,0)+256&255}else{if(t==2)for(c=0;c<n;c++)i[s+c]=f[l+c]+256-f[l+c-n]&255;if(t==3){for(c=0;c<r;c++)i[s+c]=f[l+c]+256-(f[l+c-n]>>1)&255;for(c=r;c<n;c++)i[s+c]=f[l+c]+256-(f[l+c-n]+f[l+c-r]>>1)&255}if(t==4){for(c=0;c<r;c++)i[s+c]=f[l+c]+256-d(0,f[l+c-n],0)&255;for(c=r;c<n;c++)i[s+c]=f[l+c]+256-d(f[l+c-r],f[l+c-n],f[l+c-r-n])&255}}},UPNG.crc={table:function(){for(var i=new Uint32Array(256),f=0;f<256;f++){for(var u=f,n=0;n<8;n++)1&u?u=3988292384^u>>>1:u>>>=1;i[f]=u}return i}(),update:function(f,u,n,r){for(var t=0;t<r;t++)f=UPNG.crc.table[255&(f^u[n+t])]^f>>>8;return f},crc:function(f,u,n){return 4294967295^UPNG.crc.update(4294967295,f,u,n)}},UPNG.quantize=function(i,f){var u,n=new Uint8Array(i),r=n.slice(0),t=new Uint32Array(r.buffer),l=UPNG.quantize.getKDtree(r,f),s=l[0],d=l[1],c=UPNG.quantize.planeDst,A=n,y=t,m=A.length,p=new Uint8Array(n.length>>2);if(n.length<2e7)for(var b=0;b<m;b+=4){var E=A[b]*.00392156862745098,I=A[b+1]*(1/255),L=A[b+2]*(1/255),k=A[b+3]*(1/255);u=UPNG.quantize.getNearest(s,E,I,L,k),p[b>>2]=u.ind,y[b>>2]=u.est.rgba}else for(b=0;b<m;b+=4){for(E=A[b]*(1/255),I=A[b+1]*(1/255),L=A[b+2]*(1/255),k=A[b+3]*(1/255),u=s;u.left;)u=c(u.est,E,I,L,k)<=0?u.left:u.right;p[b>>2]=u.ind,y[b>>2]=u.est.rgba}return{abuf:r.buffer,inds:p,plte:d}},UPNG.quantize.getKDtree=function(i,f,u){u==null&&(u=1e-4);var n=new Uint32Array(i.buffer),r={i0:0,i1:i.length,bst:null,est:null,tdst:0,left:null,right:null};r.bst=UPNG.quantize.stats(i,r.i0,r.i1),r.est=UPNG.quantize.estats(r.bst);for(var t=[r];t.length<f;){for(var l=0,s=0,d=0;d<t.length;d++)t[d].est.L>l&&(l=t[d].est.L,s=d);if(l<u)break;var c=t[s],A=UPNG.quantize.splitPixels(i,n,c.i0,c.i1,c.est.e,c.est.eMq255);if(c.i0>=A||c.i1<=A)c.est.L=0;else{var y={i0:c.i0,i1:A,bst:null,est:null,tdst:0,left:null,right:null};y.bst=UPNG.quantize.stats(i,y.i0,y.i1),y.est=UPNG.quantize.estats(y.bst);var m={i0:A,i1:c.i1,bst:null,est:null,tdst:0,left:null,right:null};for(m.bst={R:[],m:[],N:c.bst.N-y.bst.N},d=0;d<16;d++)m.bst.R[d]=c.bst.R[d]-y.bst.R[d];for(d=0;d<4;d++)m.bst.m[d]=c.bst.m[d]-y.bst.m[d];m.est=UPNG.quantize.estats(m.bst),c.left=y,c.right=m,t[s]=y,t.push(m)}}for(t.sort(function(p,b){return b.bst.N-p.bst.N}),d=0;d<t.length;d++)t[d].ind=d;return[r,t]},UPNG.quantize.getNearest=function(i,f,u,n,r){if(i.left==null)return i.tdst=UPNG.quantize.dist(i.est.q,f,u,n,r),i;var t=UPNG.quantize.planeDst(i.est,f,u,n,r),l=i.left,s=i.right;t>0&&(l=i.right,s=i.left);var d=UPNG.quantize.getNearest(l,f,u,n,r);if(d.tdst<=t*t)return d;var c=UPNG.quantize.getNearest(s,f,u,n,r);return c.tdst<d.tdst?c:d},UPNG.quantize.planeDst=function(i,f,u,n,r){var t=i.e;return t[0]*f+t[1]*u+t[2]*n+t[3]*r-i.eMq},UPNG.quantize.dist=function(i,f,u,n,r){var t=f-i[0],l=u-i[1],s=n-i[2],d=r-i[3];return t*t+l*l+s*s+d*d},UPNG.quantize.splitPixels=function(i,f,u,n,r,t){var l=UPNG.quantize.vecDot;for(n-=4;u<n;){for(;l(i,u,r)<=t;)u+=4;for(;l(i,n,r)>t;)n-=4;if(u>=n)break;var s=f[u>>2];f[u>>2]=f[n>>2],f[n>>2]=s,u+=4,n-=4}for(;l(i,u,r)>t;)u-=4;return u+4},UPNG.quantize.vecDot=function(i,f,u){return i[f]*u[0]+i[f+1]*u[1]+i[f+2]*u[2]+i[f+3]*u[3]},UPNG.quantize.stats=function(i,f,u){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=[0,0,0,0],t=u-f>>2,l=f;l<u;l+=4){var s=i[l]*.00392156862745098,d=i[l+1]*(1/255),c=i[l+2]*(1/255),A=i[l+3]*(1/255);r[0]+=s,r[1]+=d,r[2]+=c,r[3]+=A,n[0]+=s*s,n[1]+=s*d,n[2]+=s*c,n[3]+=s*A,n[5]+=d*d,n[6]+=d*c,n[7]+=d*A,n[10]+=c*c,n[11]+=c*A,n[15]+=A*A}return n[4]=n[1],n[8]=n[2],n[9]=n[6],n[12]=n[3],n[13]=n[7],n[14]=n[11],{R:n,m:r,N:t}},UPNG.quantize.estats=function(i){var f=i.R,u=i.m,n=i.N,r=u[0],t=u[1],l=u[2],s=u[3],d=n==0?0:1/n,c=[f[0]-r*r*d,f[1]-r*t*d,f[2]-r*l*d,f[3]-r*s*d,f[4]-t*r*d,f[5]-t*t*d,f[6]-t*l*d,f[7]-t*s*d,f[8]-l*r*d,f[9]-l*t*d,f[10]-l*l*d,f[11]-l*s*d,f[12]-s*r*d,f[13]-s*t*d,f[14]-s*l*d,f[15]-s*s*d],A=c,y=UPNG.M4,m=[Math.random(),Math.random(),Math.random(),Math.random()],p=0,b=0;if(n!=0)for(var E=0;E<16&&(m=y.multVec(A,m),b=Math.sqrt(y.dot(m,m)),m=y.sml(1/b,m),!(E!=0&&Math.abs(b-p)<1e-9));E++)p=b;var I=[r*d,t*d,l*d,s*d];return{Cov:c,q:I,e:m,L:p,eMq255:y.dot(y.sml(255,I),m),eMq:y.dot(m,I),rgba:(Math.round(255*I[3])<<24|Math.round(255*I[2])<<16|Math.round(255*I[1])<<8|Math.round(255*I[0])<<0)>>>0}},UPNG.M4={multVec:function(f,u){return[f[0]*u[0]+f[1]*u[1]+f[2]*u[2]+f[3]*u[3],f[4]*u[0]+f[5]*u[1]+f[6]*u[2]+f[7]*u[3],f[8]*u[0]+f[9]*u[1]+f[10]*u[2]+f[11]*u[3],f[12]*u[0]+f[13]*u[1]+f[14]*u[2]+f[15]*u[3]]},dot:function(f,u){return f[0]*u[0]+f[1]*u[1]+f[2]*u[2]+f[3]*u[3]},sml:function(f,u){return[f*u[0],f*u[1],f*u[2],f*u[3]]}},UPNG.encode.concatRGBA=function(i){for(var f=0,u=0;u<i.length;u++)f+=i[u].byteLength;var n=new Uint8Array(f),r=0;for(u=0;u<i.length;u++){for(var t=new Uint8Array(i[u]),l=t.length,s=0;s<l;s+=4){var d=t[s],c=t[s+1],A=t[s+2],y=t[s+3];y==0&&(d=c=A=0),n[r+s]=d,n[r+s+1]=c,n[r+s+2]=A,n[r+s+3]=y}r+=l}return n.buffer};var BROWSER_NAME={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",MOBILE_SAFARI:"MOBILE_SAFARI",ETC:"ETC"},_BROWSER_NAME$CHROME$,MAX_CANVAS_SIZE=(_BROWSER_NAME$CHROME$={},_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.CHROME,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.FIREFOX,11180),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.DESKTOP_SAFARI,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.IE,8192),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.MOBILE_SAFARI,4096),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.ETC,8192),_BROWSER_NAME$CHROME$),isBrowser=typeof window<"u",moduleMapper=isBrowser&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),CustomFile=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"File")||window.File!==void 0&&File),CustomFileReader=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"FileReader")||window.FileReader!==void 0&&FileReader);function getFilefromDataUrl(i,f){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Date.now();return new Promise(function(n){for(var r=i.split(","),t=r[0].match(/:(.*?);/)[1],l=globalThis.atob(r[1]),s=l.length,d=new Uint8Array(s);s--;)d[s]=l.charCodeAt(s);var c=new Blob([d],{type:t});c.name=f,c.lastModified=u,n(c)})}function getDataUrlFromFile(i){return new Promise(function(f,u){var n=new CustomFileReader;n.onload=function(){return f(n.result)},n.onerror=function(r){return u(r)},n.readAsDataURL(i)})}function loadImage(i){return new Promise(function(f,u){var n=new Image;n.onload=function(){return f(n)},n.onerror=function(r){return u(r)},n.src=i})}function getBrowserName(){if(getBrowserName.cachedResult!==void 0)return getBrowserName.cachedResult;var i=BROWSER_NAME.ETC,f=navigator.userAgent;return/Chrom(e|ium)/i.test(f)?i=BROWSER_NAME.CHROME:/iP(ad|od|hone)/i.test(f)&&/WebKit/i.test(f)&&!/(CriOS|FxiOS|OPiOS|mercury)/i.test(f)?i=BROWSER_NAME.MOBILE_SAFARI:/Safari/i.test(f)?i=BROWSER_NAME.DESKTOP_SAFARI:/Firefox/i.test(f)?i=BROWSER_NAME.FIREFOX:(/MSIE/i.test(f)||document.documentMode)&&(i=BROWSER_NAME.IE),getBrowserName.cachedResult=i,getBrowserName.cachedResult}function approximateBelowMaximumCanvasSizeOfBrowser(i,f){for(var u=getBrowserName(),n=MAX_CANVAS_SIZE[u],r=i,t=f,l=r*t,s=r>t?t/r:r/t;l>n*n;){var d=(n+r)/2,c=(n+t)/2;d<c?(t=c,r=c*s):(t=d*s,r=d),l=r*t}return{width:r,height:t}}function getNewCanvasAndCtx(i,f){var u,n;try{if((n=(u=new OffscreenCanvas(i,f)).getContext("2d"))===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=(u=document.createElement("canvas")).getContext("2d")}return u.width=i,u.height=f,[u,n]}function drawImageInCanvas(i){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,u=approximateBelowMaximumCanvasSizeOfBrowser(i.width,i.height),n=u.width,r=u.height,t=getNewCanvasAndCtx(n,r),l=_slicedToArray(t,2),s=l[0],d=l[1];return f&&/jpe?g/.test(f)&&(d.fillStyle="white",d.fillRect(0,0,s.width,s.height)),d.drawImage(i,0,0,s.width,s.height),s}function isIOS(){return isIOS.cachedResult!==void 0||(isIOS.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),isIOS.cachedResult}function drawFileInCanvas(i){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(u,n){var r,t,l=function(){try{return t=drawImageInCanvas(r,f.fileType||i.type),u([r,t])}catch(c){return n(c)}},s=function(c){try{var A=function(m){try{throw m}catch(p){return n(p)}};try{return getDataUrlFromFile(i).then(function(y){try{return loadImage(y).then(function(m){try{return r=m,function(){try{return l()}catch(b){return n(b)}}()}catch(p){return A(p)}},A)}catch(m){return A(m)}},A)}catch(y){A(y)}}catch(y){return n(y)}};try{if(isIOS()||[BROWSER_NAME.DESKTOP_SAFARI,BROWSER_NAME.MOBILE_SAFARI].includes(getBrowserName()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(i).then(function(d){try{return r=d,l()}catch{return s()}},s)}catch{s()}})}function canvasToFile(i,f,u,n){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;return new Promise(function(t,l){var s,d,c;if(f==="image/png")return d=i.getContext("2d").getImageData(0,0,i.width,i.height).data,c=UPNG.encode([d],i.width,i.height,256*r),(s=new Blob([c],{type:f})).name=u,s.lastModified=n,A.call(this);{let y=function(){return A.call(this)};return typeof OffscreenCanvas=="function"&&i instanceof OffscreenCanvas?i.convertToBlob({type:f,quality:r}).then(function(m){try{return(s=m).name=u,s.lastModified=n,y.call(this)}catch(p){return l(p)}}.bind(this),l):getFilefromDataUrl(i.toDataURL(f,r),u,n).then(function(m){try{return s=m,y.call(this)}catch(p){return l(p)}}.bind(this),l)}function A(){return t(s)}})}function cleanupCanvasMemory(i){i.width=0,i.height=0}function isAutoOrientationInBrowser(){return new Promise(function(i,f){var u,n,r,t;return isAutoOrientationInBrowser.cachedResult!==void 0?i(isAutoOrientationInBrowser.cachedResult):getFilefromDataUrl("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return drawFileInCanvas(u=l).then(function(s){try{return canvasToFile(n=s[1],u.type,u.name,u.lastModified).then(function(d){try{return r=d,cleanupCanvasMemory(n),drawFileInCanvas(r).then(function(c){try{return t=c[0],isAutoOrientationInBrowser.cachedResult=t.width===1&&t.height===2,i(isAutoOrientationInBrowser.cachedResult)}catch(A){return f(A)}},f)}catch(c){return f(c)}},f)}catch(d){return f(d)}},f)}catch(s){return f(s)}},f)})}function getExifOrientation(i){return new Promise(function(f,u){var n=new CustomFileReader;n.onload=function(r){var t=new DataView(r.target.result);if(t.getUint16(0,!1)!=65496)return f(-2);for(var l=t.byteLength,s=2;s<l;){if(t.getUint16(s+2,!1)<=8)return f(-1);var d=t.getUint16(s,!1);if(s+=2,d==65505){if(t.getUint32(s+=2,!1)!=1165519206)return f(-1);var c=t.getUint16(s+=6,!1)==18761;s+=t.getUint32(s+4,c);var A=t.getUint16(s,c);s+=2;for(var y=0;y<A;y++)if(t.getUint16(s+12*y,c)==274)return f(t.getUint16(s+12*y+8,c))}else{if((65280&d)!=65280)break;s+=t.getUint16(s,!1)}}return f(-1)},n.onerror=function(r){return u(r)},n.readAsArrayBuffer(i)})}function handleMaxWidthOrHeight(i,f){var u,n=i.width,r=i.height,t=f.maxWidthOrHeight,l=i;if(isFinite(t)&&(n>t||r>t)){var s=_slicedToArray(getNewCanvasAndCtx(n,r),2);l=s[0],u=s[1],n>r?(l.width=t,l.height=r/n*t):(l.width=n/r*t,l.height=t),u.drawImage(i,0,0,l.width,l.height),cleanupCanvasMemory(i)}return l}function followExifOrientation(i,f){var u=i.width,n=i.height,r=_slicedToArray(getNewCanvasAndCtx(u,n),2),t=r[0],l=r[1];switch(f>4&&f<9?(t.width=n,t.height=u):(t.width=u,t.height=n),f){case 2:l.transform(-1,0,0,1,u,0);break;case 3:l.transform(-1,0,0,-1,u,n);break;case 4:l.transform(1,0,0,-1,0,n);break;case 5:l.transform(0,1,1,0,0,0);break;case 6:l.transform(0,1,-1,0,n,0);break;case 7:l.transform(0,-1,-1,0,n,u);break;case 8:l.transform(0,-1,1,0,0,u)}return l.drawImage(i,0,0,u,n),cleanupCanvasMemory(i),t}function compress(i,f){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return new Promise(function(n,r){var t,l,s,d,c,A,y,m,p,b,E,I,L,k,C,q,G,R,S;function B(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:5;if(f.signal&&f.signal.aborted)throw f.signal.reason;t+=O,f.onProgress(Math.min(t,100))}function D(O){if(f.signal&&f.signal.aborted)throw f.signal.reason;t=Math.min(Math.max(O,t),100),f.onProgress(t)}return t=u,l=f.maxIteration||10,s=1024*f.maxSizeMB*1024,B(),drawFileInCanvas(i,f).then(function(O){try{var T=_slicedToArray(O,2);return d=T[1],B(),c=handleMaxWidthOrHeight(d,f),B(),new Promise(function(Z,U){var e;if(!(e=f.exifOrientation))return getExifOrientation(i).then(function(v){try{return e=v,h.call(this)}catch(g){return U(g)}}.bind(this),U);function h(){return Z(e)}return h.call(this)}).then(function(Z){try{return A=Z,B(),isAutoOrientationInBrowser().then(function(U){try{return y=U?c:followExifOrientation(c,A),B(),m=f.initialQuality||1,p=f.fileType||i.type,canvasToFile(y,p,i.name,i.lastModified,m).then(function(e){try{{let v=function(){if(l--&&(C>s||C>L)){var M,P,F=_slicedToArray(getNewCanvasAndCtx(M=S?.95*R.width:R.width,P=S?.95*R.height:R.height),2);return G=F[0],F[1].drawImage(R,0,0,M,P),m*=.95,canvasToFile(G,p,i.name,i.lastModified,m).then(function(w){try{return q=w,cleanupCanvasMemory(R),R=G,C=q.size,D(Math.min(99,Math.floor((k-C)/(k-s)*100))),v}catch(a){return r(a)}},r)}return[1]},g=function(){return cleanupCanvasMemory(R),cleanupCanvasMemory(G),cleanupCanvasMemory(c),cleanupCanvasMemory(y),cleanupCanvasMemory(d),D(100),n(q)};if(b=e,B(),E=b.size>s,I=b.size>i.size,!E&&!I)return D(100),n(b);var h;return L=i.size,k=b.size,C=k,R=y,S=!f.alwaysKeepResolution&&E,(h=function(M){for(;M;){if(M.then)return void M.then(h,r);try{if(M.pop){if(M.length)return M.pop()?g.call(this):M;M=v}else M=M.call(this)}catch(P){return r(P)}}}.bind(this))(v)}}catch(v){return r(v)}}.bind(this),r)}catch(e){return r(e)}}.bind(this),r)}catch(U){return r(U)}}.bind(this),r)}catch(Z){return r(Z)}}.bind(this),r)})}var cnt=0,imageCompressionLibUrl,worker;function createWorker(i){var f=[];return typeof i=="function"?f.push("(".concat(i,")()")):f.push(i),new Worker(URL.createObjectURL(new Blob(f)))}function createSourceObject(i){return URL.createObjectURL(new Blob([i],{type:"application/javascript"}))}function stringify(i){return JSON.stringify(i,function(f,u){return typeof u=="function"?"BIC_FN:::(function () { return ".concat(u.toString()," })()"):u})}function parse(o){if(typeof o=="string")return o;var result={};return Object.entries(o).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if(typeof value=="string"&&value.startsWith("BIC_FN:::"))try{result[key]=eval(value.replace(/^BIC_FN:::/,""))}catch(i){throw i}else result[key]=parse(value)}),result}function generateLib(){return createSourceObject(`
    // reconstruct library
    function imageCompression (){return (`.concat(imageCompression,`).apply(null, arguments)}

    imageCompression.getDataUrlFromFile = `).concat(imageCompression.getDataUrlFromFile,`
    imageCompression.getFilefromDataUrl = `).concat(imageCompression.getFilefromDataUrl,`
    imageCompression.loadImage = `).concat(imageCompression.loadImage,`
    imageCompression.drawImageInCanvas = `).concat(imageCompression.drawImageInCanvas,`
    imageCompression.drawFileInCanvas = `).concat(imageCompression.drawFileInCanvas,`
    imageCompression.canvasToFile = `).concat(imageCompression.canvasToFile,`
    imageCompression.getExifOrientation = `).concat(imageCompression.getExifOrientation,`
    imageCompression.handleMaxWidthOrHeight = `).concat(imageCompression.handleMaxWidthOrHeight,`
    imageCompression.followExifOrientation = `).concat(imageCompression.followExifOrientation,`
    imageCompression.cleanupCanvasMemory = `).concat(imageCompression.cleanupCanvasMemory,`
    imageCompression.isAutoOrientationInBrowser = `).concat(imageCompression.isAutoOrientationInBrowser,`
    imageCompression.approximateBelowMaximumCanvasSizeOfBrowser = `).concat(imageCompression.approximateBelowMaximumCanvasSizeOfBrowser,`
    imageCompression.getBrowserName = `).concat(imageCompression.getBrowserName,`

    // functions / objects
    getDataUrlFromFile = imageCompression.getDataUrlFromFile
    getFilefromDataUrl = imageCompression.getFilefromDataUrl
    loadImage = imageCompression.loadImage
    drawImageInCanvas = imageCompression.drawImageInCanvas
    drawFileInCanvas = imageCompression.drawFileInCanvas
    canvasToFile = imageCompression.canvasToFile
    getExifOrientation = imageCompression.getExifOrientation
    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight
    followExifOrientation = imageCompression.followExifOrientation
    cleanupCanvasMemory = imageCompression.cleanupCanvasMemory
    isAutoOrientationInBrowser = imageCompression.isAutoOrientationInBrowser
    approximateBelowMaximumCanvasSizeOfBrowser = imageCompression.approximateBelowMaximumCanvasSizeOfBrowser
    getBrowserName = imageCompression.getBrowserName
    isIOS = `).concat(isIOS,`
    
    getNewCanvasAndCtx = `).concat(getNewCanvasAndCtx,`
    CustomFileReader = FileReader
    CustomFile = File
    MAX_CANVAS_SIZE = `).concat(JSON.stringify(MAX_CANVAS_SIZE),`
    BROWSER_NAME = `).concat(JSON.stringify(BROWSER_NAME),`
    function compress (){return (`).concat(compress,`).apply(null, arguments)}

    // core-js
    function _slicedToArray(arr, n) { return arr }
    function _typeof(a) { return typeof a }
    function _objectSpread2(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
  
        Object.assign(target, source)
      }
  
      return target;
    }

    // Libraries
    const parse = `).concat(parse,`
    const UPNG = {}
    UPNG.toRGBA8 = `).concat(UPNG.toRGBA8,`
    UPNG.toRGBA8.decodeImage = `).concat(UPNG.toRGBA8.decodeImage,`
    UPNG.decode = `).concat(UPNG.decode,`
    UPNG.decode._decompress = `).concat(UPNG.decode._decompress,`
    UPNG.decode._inflate = `).concat(UPNG.decode._inflate,`
    UPNG.decode._readInterlace = `).concat(UPNG.decode._readInterlace,`
    UPNG.decode._getBPP = `).concat(UPNG.decode._getBPP,` 
    UPNG.decode._filterZero = `).concat(UPNG.decode._filterZero,`
    UPNG.decode._paeth = `).concat(UPNG.decode._paeth,`
    UPNG.decode._IHDR = `).concat(UPNG.decode._IHDR,`
    UPNG._bin = parse(`).concat(stringify(UPNG._bin),`)
    UPNG._copyTile = `).concat(UPNG._copyTile,`
    UPNG.encode = `).concat(UPNG.encode,`
    UPNG.encodeLL = `).concat(UPNG.encodeLL,` 
    UPNG.encode._main = `).concat(UPNG.encode._main,`
    UPNG.encode.compressPNG = `).concat(UPNG.encode.compressPNG,` 
    UPNG.encode.compress = `).concat(UPNG.encode.compress,`
    UPNG.encode.framize = `).concat(UPNG.encode.framize,` 
    UPNG.encode._updateFrame = `).concat(UPNG.encode._updateFrame,` 
    UPNG.encode._prepareDiff = `).concat(UPNG.encode._prepareDiff,` 
    UPNG.encode._filterZero = `).concat(UPNG.encode._filterZero,` 
    UPNG.encode._filterLine = `).concat(UPNG.encode._filterLine,`
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.crc = parse(`).concat(stringify(UPNG.crc),`)
    UPNG.crc.table = ( function() {
    var tab = new Uint32Array(256);
    for (var n=0; n<256; n++) {
      var c = n;
      for (var k=0; k<8; k++) {
        if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
        else        c = c >>> 1;
      }
      tab[n] = c;  }
    return tab;  })()
    UPNG.quantize = `).concat(UPNG.quantize,` 
    UPNG.quantize.getKDtree = `).concat(UPNG.quantize.getKDtree,` 
    UPNG.quantize.getNearest = `).concat(UPNG.quantize.getNearest,` 
    UPNG.quantize.planeDst = `).concat(UPNG.quantize.planeDst,` 
    UPNG.quantize.dist = `).concat(UPNG.quantize.dist,`     
    UPNG.quantize.splitPixels = `).concat(UPNG.quantize.splitPixels,` 
    UPNG.quantize.vecDot = `).concat(UPNG.quantize.vecDot,` 
    UPNG.quantize.stats = `).concat(UPNG.quantize.stats,` 
    UPNG.quantize.estats = `).concat(UPNG.quantize.estats,`
    UPNG.M4 = parse(`).concat(stringify(UPNG.M4),`)
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.inflateRaw=function(){
    var H={};H.H={};H.H.N=function(N,W){var R=Uint8Array,i=0,m=0,J=0,h=0,Q=0,X=0,u=0,w=0,d=0,v,C;
      if(N[0]==3&&N[1]==0)return W?W:new R(0);var V=H.H,n=V.b,A=V.e,l=V.R,M=V.n,I=V.A,e=V.Z,b=V.m,Z=W==null;
      if(Z)W=new R(N.length>>>2<<5);while(i==0){i=n(N,d,1);m=n(N,d+1,2);d+=3;if(m==0){if((d&7)!=0)d+=8-(d&7);
        var D=(d>>>3)+4,q=N[D-4]|N[D-3]<<8;if(Z)W=H.H.W(W,w+q);W.set(new R(N.buffer,N.byteOffset+D,q),w);d=D+q<<3;
        w+=q;continue}if(Z)W=H.H.W(W,w+(1<<17));if(m==1){v=b.J;C=b.h;X=(1<<9)-1;u=(1<<5)-1}if(m==2){J=A(N,d,5)+257;
        h=A(N,d+5,5)+1;Q=A(N,d+10,4)+4;d+=14;var E=d,j=1;for(var c=0;c<38;c+=2){b.Q[c]=0;b.Q[c+1]=0}for(var c=0;
                                                                                                        c<Q;c++){var K=A(N,d+c*3,3);b.Q[(b.X[c]<<1)+1]=K;if(K>j)j=K}d+=3*Q;M(b.Q,j);I(b.Q,j,b.u);v=b.w;C=b.d;
        d=l(b.u,(1<<j)-1,J+h,N,d,b.v);var r=V.V(b.v,0,J,b.C);X=(1<<r)-1;var S=V.V(b.v,J,h,b.D);u=(1<<S)-1;M(b.C,r);
        I(b.C,r,v);M(b.D,S);I(b.D,S,C)}while(!0){var T=v[e(N,d)&X];d+=T&15;var p=T>>>4;if(p>>>8==0){W[w++]=p}else if(p==256){break}else{var z=w+p-254;
        if(p>264){var _=b.q[p-257];z=w+(_>>>3)+A(N,d,_&7);d+=_&7}var $=C[e(N,d)&u];d+=$&15;var s=$>>>4,Y=b.c[s],a=(Y>>>4)+n(N,d,Y&15);
        d+=Y&15;while(w<z){W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a]}w=z}}}return W.length==w?W:W.slice(0,w)};
      H.H.W=function(N,W){var R=N.length;if(W<=R)return N;var V=new Uint8Array(R<<1);V.set(N,0);return V};
      H.H.R=function(N,W,R,V,n,A){var l=H.H.e,M=H.H.Z,I=0;while(I<R){var e=N[M(V,n)&W];n+=e&15;var b=e>>>4;
        if(b<=15){A[I]=b;I++}else{var Z=0,m=0;if(b==16){m=3+l(V,n,2);n+=2;Z=A[I-1]}else if(b==17){m=3+l(V,n,3);
          n+=3}else if(b==18){m=11+l(V,n,7);n+=7}var J=I+m;while(I<J){A[I]=Z;I++}}}return n};H.H.V=function(N,W,R,V){var n=0,A=0,l=V.length>>>1;
        while(A<R){var M=N[A+W];V[A<<1]=0;V[(A<<1)+1]=M;if(M>n)n=M;A++}while(A<l){V[A<<1]=0;V[(A<<1)+1]=0;A++}return n};
      H.H.n=function(N,W){var R=H.H.m,V=N.length,n,A,l,M,I,e=R.j;for(var M=0;M<=W;M++)e[M]=0;for(M=1;M<V;M+=2)e[N[M]]++;
        var b=R.K;n=0;e[0]=0;for(A=1;A<=W;A++){n=n+e[A-1]<<1;b[A]=n}for(l=0;l<V;l+=2){I=N[l+1];if(I!=0){N[l]=b[I];
          b[I]++}}};H.H.A=function(N,W,R){var V=N.length,n=H.H.m,A=n.r;for(var l=0;l<V;l+=2)if(N[l+1]!=0){var M=l>>1,I=N[l+1],e=M<<4|I,b=W-I,Z=N[l]<<b,m=Z+(1<<b);
        while(Z!=m){var J=A[Z]>>>15-W;R[J]=e;Z++}}};H.H.l=function(N,W){var R=H.H.m.r,V=15-W;for(var n=0;n<N.length;
                                                                                                 n+=2){var A=N[n]<<W-N[n+1];N[n]=R[A]>>>V}};H.H.M=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8};
      H.H.I=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8;N[V+2]|=R>>>16};H.H.e=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8)>>>(W&7)&(1<<R)-1};
      H.H.b=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)&(1<<R)-1};H.H.Z=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)};
      H.H.i=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16|N[(W>>>3)+3]<<24)>>>(W&7)};H.H.m=function(){var N=Uint16Array,W=Uint32Array;
        return{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(1<<15),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(1<<16),g:new N(1<<15)}}();
      (function(){var N=H.H.m,W=1<<15;for(var R=0;R<W;R++){var V=R;V=(V&2863311530)>>>1|(V&1431655765)<<1;
        V=(V&3435973836)>>>2|(V&858993459)<<2;V=(V&4042322160)>>>4|(V&252645135)<<4;V=(V&4278255360)>>>8|(V&16711935)<<8;
        N.r[R]=(V>>>16|V<<16)>>>17}function n(A,l,M){while(l--!=0)A.push(0,M)}for(var R=0;R<32;R++){N.q[R]=N.S[R]<<3|N.T[R];
        N.c[R]=N.p[R]<<4|N.z[R]}n(N._,144,8);n(N._,255-143,9);n(N._,279-255,7);n(N._,287-279,8);H.H.n(N._,9);
        H.H.A(N._,9,N.J);H.H.l(N._,9);n(N.$,32,5);H.H.n(N.$,5);H.H.A(N.$,5,N.h);H.H.l(N.$,5);n(N.Q,19,0);n(N.C,286,0);
        n(N.D,30,0);n(N.v,320,0)}());return H.H.N}()
    
    const UZIP = {}
    UZIP["parse"] = `).concat(UZIP_1.parse,`
    UZIP._readLocal = `).concat(UZIP_1._readLocal,`
    UZIP.inflateRaw = `).concat(UZIP_1.inflateRaw,`
    UZIP.inflate = `).concat(UZIP_1.inflate,`
    UZIP.deflate = `).concat(UZIP_1.deflate,`
    UZIP.deflateRaw = `).concat(UZIP_1.deflateRaw,`
    UZIP.encode = `).concat(UZIP_1.encode,`
    UZIP._noNeed = `).concat(UZIP_1._noNeed,`
    UZIP._writeHeader = `).concat(UZIP_1._writeHeader,`
    UZIP.crc = parse(`).concat(stringify(UZIP_1.crc),`)
    UZIP.crc.table = ( function() {
      var tab = new Uint32Array(256);
      for (var n=0; n<256; n++) {
        var c = n;
        for (var k=0; k<8; k++) {
          if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
          else        c = c >>> 1;
        }
        tab[n] = c;  }
      return tab;  })()
    
    UZIP.adler = `).concat(UZIP_1.adler,`
    UZIP.bin = parse(`).concat(stringify(UZIP_1.bin),`)
    UZIP.F = {}
    UZIP.F.deflateRaw = `).concat(UZIP_1.F.deflateRaw,`
    UZIP.F._bestMatch = `).concat(UZIP_1.F._bestMatch,`
    UZIP.F._howLong = `).concat(UZIP_1.F._howLong,`
    UZIP.F._hash = `).concat(UZIP_1.F._hash,`
    UZIP.saved = `).concat(UZIP_1.saved,`
    UZIP.F._writeBlock = `).concat(UZIP_1.F._writeBlock,`
    UZIP.F._copyExact = `).concat(UZIP_1.F._copyExact,`
    UZIP.F.getTrees = `).concat(UZIP_1.F.getTrees,`
    UZIP.F.getSecond = `).concat(UZIP_1.F.getSecond,`
    UZIP.F.nonZero = `).concat(UZIP_1.F.nonZero,`
    UZIP.F.contSize = `).concat(UZIP_1.F.contSize,`
    UZIP.F._codeTiny = `).concat(UZIP_1.F._codeTiny,` 
    UZIP.F._lenCodes = `).concat(UZIP_1.F._lenCodes,` 
    UZIP.F._hufTree = `).concat(UZIP_1.F._hufTree,` 
    UZIP.F.setDepth = `).concat(UZIP_1.F.setDepth,` 
    UZIP.F.restrictDepth = `).concat(UZIP_1.F.restrictDepth,`
    UZIP.F._goodIndex = `).concat(UZIP_1.F._goodIndex,` 
    UZIP.F._writeLit = `).concat(UZIP_1.F._writeLit,` 
    UZIP.F.inflate = `).concat(UZIP_1.F.inflate,` 
    UZIP.F._check = `).concat(UZIP_1.F._check,` 
    UZIP.F._decodeTiny = `).concat(UZIP_1.F._decodeTiny,` 
    UZIP.F._copyOut = `).concat(UZIP_1.F._copyOut,` 
    UZIP.F.makeCodes = `).concat(UZIP_1.F.makeCodes,` 
    UZIP.F.codes2map = `).concat(UZIP_1.F.codes2map,` 
    UZIP.F.revCodes = `).concat(UZIP_1.F.revCodes,` 

    // used only in deflate
    UZIP.F._putsE = `).concat(UZIP_1.F._putsE,`
    UZIP.F._putsF = `).concat(UZIP_1.F._putsF,`
  
    UZIP.F._bitsE = `).concat(UZIP_1.F._bitsE,`
    UZIP.F._bitsF = `).concat(UZIP_1.F._bitsF,`

    UZIP.F._get17 = `).concat(UZIP_1.F._get17,`
    UZIP.F._get25 = `).concat(UZIP_1.F._get25,`
    UZIP.F.U = function(){
      var u16=Uint16Array, u32=Uint32Array;
      return {
        next_code : new u16(16),
        bl_count  : new u16(16),
        ordr : [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ],
        of0  : [3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],
        exb  : [0,0,0,0,0,0,0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,  4,  5,  5,  5,  5,  0,  0,  0,  0],
        ldef : new u16(32),
        df0  : [1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577, 65535, 65535],
        dxb  : [0,0,0,0,1,1,2, 2, 3, 3, 4, 4, 5, 5,  6,  6,  7,  7,  8,  8,   9,   9,  10,  10,  11,  11,  12,   12,   13,   13,     0,     0],
        ddef : new u32(32),
        flmap: new u16(  512),  fltree: [],
        fdmap: new u16(   32),  fdtree: [],
        lmap : new u16(32768),  ltree : [],  ttree:[],
        dmap : new u16(32768),  dtree : [],
        imap : new u16(  512),  itree : [],
        //rev9 : new u16(  512)
        rev15: new u16(1<<15),
        lhst : new u32(286), dhst : new u32( 30), ihst : new u32(19),
        lits : new u32(15000),
        strt : new u16(1<<16),
        prev : new u16(1<<15)
      };
    } ();

    (function(){
      var U = UZIP.F.U;
      var len = 1<<15;
      for(var i=0; i<len; i++) {
        var x = i;
        x = (((x & 0xaaaaaaaa) >>> 1) | ((x & 0x55555555) << 1));
        x = (((x & 0xcccccccc) >>> 2) | ((x & 0x33333333) << 2));
        x = (((x & 0xf0f0f0f0) >>> 4) | ((x & 0x0f0f0f0f) << 4));
        x = (((x & 0xff00ff00) >>> 8) | ((x & 0x00ff00ff) << 8));
        U.rev15[i] = (((x >>> 16) | (x << 16)))>>>17;
      }
  
      function pushV(tgt, n, sv) {  while(n--!=0) tgt.push(0,sv);  }
  
      for(var i=0; i<32; i++) {  U.ldef[i]=(U.of0[i]<<3)|U.exb[i];  U.ddef[i]=(U.df0[i]<<4)|U.dxb[i];  }
  
      pushV(U.fltree, 144, 8);  pushV(U.fltree, 255-143, 9);  pushV(U.fltree, 279-255, 7);  pushV(U.fltree,287-279,8);
      /*
        var i = 0;
        for(; i<=143; i++) U.fltree.push(0,8);
        for(; i<=255; i++) U.fltree.push(0,9);
        for(; i<=279; i++) U.fltree.push(0,7);
        for(; i<=287; i++) U.fltree.push(0,8);
        */
      UZIP.F.makeCodes(U.fltree, 9);
      UZIP.F.codes2map(U.fltree, 9, U.flmap);
      UZIP.F.revCodes (U.fltree, 9)
  
      pushV(U.fdtree,32,5);
      //for(i=0;i<32; i++) U.fdtree.push(0,5);
      UZIP.F.makeCodes(U.fdtree, 5);
      UZIP.F.codes2map(U.fdtree, 5, U.fdmap);
      UZIP.F.revCodes (U.fdtree, 5)
  
      pushV(U.itree,19,0);  pushV(U.ltree,286,0);  pushV(U.dtree,30,0);  pushV(U.ttree,320,0);
      /*
        for(var i=0; i< 19; i++) U.itree.push(0,0);
        for(var i=0; i<286; i++) U.ltree.push(0,0);
        for(var i=0; i< 30; i++) U.dtree.push(0,0);
        for(var i=0; i<320; i++) U.ttree.push(0,0);
        */
    })()
    `))}function generateWorkerScript(){return createWorker(`
    let scriptImported = false
    self.addEventListener('message', async (e) => {
      const { file, id, imageCompressionLibUrl, options } = e.data
      options.onProgress = (progress) => self.postMessage({ progress, id })
      try {
        if (!scriptImported) {
          // console.log('[worker] importScripts', imageCompressionLibUrl)
          self.importScripts(imageCompressionLibUrl)
          scriptImported = true
        }
        // console.log('[worker] self', self)
        const compressedFile = await imageCompression(file, options)
        self.postMessage({ file: compressedFile, id })
      } catch (e) {
        // console.error('[worker] error', e)
        self.postMessage({ error: e.message + '\\n' + e.stack, id })
      }
    })
  `)}function compressOnWebWorker(i,f){return new Promise(function(u,n){var r=cnt+=1;imageCompressionLibUrl||(imageCompressionLibUrl=generateLib()),worker||(worker=generateWorkerScript()),worker.addEventListener("message",function t(l){if(l.data.id===r){if(f.signal&&f.signal.aborted)return;if(l.data.progress!==void 0)return void f.onProgress(l.data.progress);worker.removeEventListener("message",t),l.data.error&&n(new Error(l.data.error)),u(l.data.file)}}),worker.addEventListener("error",n),f.signal&&f.signal.addEventListener("abort",function(){worker.terminate(),n(f.signal.reason)}),worker.postMessage({file:i,id:r,imageCompressionLibUrl,options:_objectSpread2(_objectSpread2({},f),{},{onProgress:void 0,signal:void 0})})})}function imageCompression(i,f){return new Promise(function(u,n){var r,t,l,s,d,c;if(r=_objectSpread2({},f),l=0,s=r.onProgress,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,d=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=function(p){l=p,typeof s=="function"&&s(l)},!(i instanceof Blob||i instanceof CustomFile))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(i.type))return n(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!d||typeof Worker!="function"||c)return compress(i,r).then(function(p){try{return t=p,m.call(this)}catch(b){return n(b)}}.bind(this),n);var A=function(){try{return m.call(this)}catch(p){return n(p)}}.bind(this),y=function(b){try{return compress(i,r).then(function(E){try{return t=E,A()}catch(I){return n(I)}},n)}catch(E){return n(E)}};try{return compressOnWebWorker(i,r).then(function(p){try{return t=p,A()}catch{return y()}},y)}catch{y()}function m(){try{t.name=i.name,t.lastModified=i.lastModified}catch{}return u(t)}})}imageCompression.getDataUrlFromFile=getDataUrlFromFile,imageCompression.getFilefromDataUrl=getFilefromDataUrl,imageCompression.loadImage=loadImage,imageCompression.drawImageInCanvas=drawImageInCanvas,imageCompression.drawFileInCanvas=drawFileInCanvas,imageCompression.canvasToFile=canvasToFile,imageCompression.getExifOrientation=getExifOrientation,imageCompression.handleMaxWidthOrHeight=handleMaxWidthOrHeight,imageCompression.followExifOrientation=followExifOrientation,imageCompression.cleanupCanvasMemory=cleanupCanvasMemory,imageCompression.isAutoOrientationInBrowser=isAutoOrientationInBrowser,imageCompression.approximateBelowMaximumCanvasSizeOfBrowser=approximateBelowMaximumCanvasSizeOfBrowser,imageCompression.getBrowserName=getBrowserName,imageCompression.version="2.0.0";export{BN as B,bech32 as b,createBroadcast as c,imageCompression as i};
